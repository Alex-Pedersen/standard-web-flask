!function(e,t){function n(e){var t=ht[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var o="data-"+n.replace(gt,"-$1").toLowerCase();if(i=e.getAttribute(o),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:mt.test(i)?Z.parseJSON(i):i}catch(r){}Z.data(e,n,i)}else i=t}return i}function o(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function r(){return!1}function s(){return!0}function a(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,i){var o=!!t.call(e,i,e);return o===n});if(t.nodeType)return Z.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Z.grep(e,function(e){return 1===e.nodeType});if(Bt.test(t))return Z.filter(t,i,!n);t=Z.filter(t,i)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===n})}function u(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,i,o,r=Z._data(e),s=Z._data(t,r),a=r.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)Z.event.add(t,n,a[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function p(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Gt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function h(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Gt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=vn.length;o--;)if(t=vn[o]+n,t in e)return t;return i}function y(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function v(e,t){for(var n,i,o=[],r=0,s=e.length;s>r;r++)n=e[r],n.style&&(o[r]=Z._data(n,"olddisplay"),t?(!o[r]&&"none"===n.style.display&&(n.style.display=""),""===n.style.display&&y(n)&&(o[r]=Z._data(n,"olddisplay",k(n.nodeName)))):(i=nn(n,"display"),!o[r]&&"none"!==i&&Z._data(n,"olddisplay",i)));for(r=0;s>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function b(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function x(e,t,n,i){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===n&&(r+=Z.css(e,n+yn[o],!0)),i?("content"===n&&(r-=parseFloat(nn(e,"padding"+yn[o]))||0),"margin"!==n&&(r-=parseFloat(nn(e,"border"+yn[o]+"Width"))||0)):(r+=parseFloat(nn(e,"padding"+yn[o]))||0,"padding"!==n&&(r+=parseFloat(nn(e,"border"+yn[o]+"Width"))||0));return r}function w(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,o=!0,r=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),fn.test(i))return i;o=r&&(Z.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+x(e,t,n||(r?"border":"content"),o)+"px"}function k(e){if(hn[e])return hn[e];var t=Z("<"+e+">").appendTo(W.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(on=W.body.appendChild(on||Z.extend(W.createElement("iframe"),{frameBorder:0,width:0,height:0})),rn&&on.createElement||(rn=(on.contentWindow||on.contentDocument).document,rn.write("<!doctype html><html><body>"),rn.close()),t=rn.body.appendChild(rn.createElement(e)),n=nn(t,"display"),W.body.removeChild(on)),hn[e]=n,n}function _(e,t,n,i){var o;if(Z.isArray(t))Z.each(t,function(t,o){n||wn.test(e)?i(e,o):_(e+"["+("object"==typeof o?t:"")+"]",o,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(o in t)_(e+"["+o+"]",t[o],n,i)}function T(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o,r,s=t.toLowerCase().split(tt),a=0,l=s.length;if(Z.isFunction(n))for(;l>a;a++)i=s[a],r=/^\+/.test(i),r&&(i=i.substr(1)||"*"),o=e[i]=e[i]||[],o[r?"unshift":"push"](n)}}function C(e,n,i,o,r,s){r=r||n.dataTypes[0],s=s||{},s[r]=!0;for(var a,l=e[r],c=0,u=l?l.length:0,d=e===In;u>c&&(d||!a);c++)a=l[c](n,i,o),"string"==typeof a&&(!d||s[a]?a=t:(n.dataTypes.unshift(a),a=C(e,n,i,o,a,s)));return(d||!a)&&!s["*"]&&(a=C(e,n,i,o,"*",s)),a}function S(e,n){var i,o,r=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((r[i]?e:o||(o={}))[i]=n[i]);o&&Z.extend(!0,e,o)}function M(e,n,i){var o,r,s,a,l=e.contents,c=e.dataTypes,u=e.responseFields;for(r in u)r in i&&(n[u[r]]=i[r]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("content-type"));if(o)for(r in l)if(l[r]&&l[r].test(o)){c.unshift(r);break}if(c[0]in i)s=c[0];else{for(r in i){if(!c[0]||e.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),i[s]):void 0}function E(e,t){var n,i,o,r,s=e.dataTypes.slice(),a=s[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;o=s[++c];)if("*"!==o){if("*"!==a&&a!==o){if(n=l[a+" "+o]||l["* "+o],!n)for(i in l)if(r=i.split(" "),r[1]===o&&(n=l[a+" "+r[0]]||l["* "+r[0]])){n===!0?n=l[i]:l[i]!==!0&&(o=r[0],s.splice(c--,0,o));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+a+" to "+o}}}a=o}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function A(){return setTimeout(function(){Xn=t},0),Xn=Z.now()}function N(e,t){Z.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),o=0,r=i.length;r>o;o++)if(i[o].call(e,t,n))return})}function L(e,t,n){var i,o=0,r=Kn.length,s=Z.Deferred().always(function(){delete a.elem}),a=function(){for(var t=Xn||A(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,r=0,a=l.tweens.length;a>r;r++)l.tweens[r].run(o);return s.notifyWith(e,[l,o,n]),1>o&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||A(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(P(c,l.opts.specialEasing);r>o;o++)if(i=Kn[o].call(l,e,c,l.opts))return i;return N(l,c),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e,t){var n,i,o,r,s;for(n in e)if(i=Z.camelCase(n),o=t[i],r=e[n],Z.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){r=s.expand(r),delete e[i];for(n in r)n in e||(e[n]=r[n],t[n]=o)}else t[i]=o}function H(e,t,n){var i,o,r,s,a,l,c,u,d,f=this,p=e.style,h={},m=[],g=e.nodeType&&y(e);n.queue||(u=Z._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,Z.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||f.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qn.exec(r)){if(delete t[i],l=l||"toggle"===r,r===(g?"hide":"show"))continue;m.push(i)}if(s=m.length){a=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in a&&(g=a.hidden),l&&(a.hidden=!g),g?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in h)Z.style(e,t,h[t])});for(i=0;s>i;i++)o=m[i],c=f.createTween(o,g?a[o]:0),h[o]=a[o]||Z.style(e,o),o in a||(a[o]=c.start,g&&(c.end=c.start,c.start="width"===o||"height"===o?1:0))}}function B(e,t,n,i,o){return new B.prototype.init(e,t,n,i,o)}function I(e,t){var n,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=yn[o],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var F,j,W=e.document,z=e.location,q=e.navigator,Y=e.jQuery,U=e.$,$=Array.prototype.push,V=Array.prototype.slice,X=Array.prototype.indexOf,G=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,J=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,F)},K=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,at=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ft=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",ft,!1),Z.ready()):"complete"===W.readyState&&(W.detachEvent("onreadystatechange",ft),Z.ready())},pt={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,i){var o,r,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),o&&(o[1]||!n)){if(o[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:W,e=Z.parseHTML(o[1],s,!0),ot.test(o[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(r=W.getElementById(o[2]),r&&r.parentNode){if(r.id!==o[2])return i.find(e);this.length=1,this[0]=r}return this.context=W,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return Z.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Z.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,i,o,r,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"!=typeof a&&!Z.isFunction(a)&&(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)i=a[n],o=e[n],a!==o&&(u&&o&&(Z.isPlainObject(o)||(r=Z.isArray(o)))?(r?(r=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},a[n]=Z.extend(u,s,o)):o!==t&&(a[n]=o));return a},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=U),t&&e.jQuery===Z&&(e.jQuery=Y),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!W.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(j.resolveWith(W,[Z]),Z.fn.trigger&&Z(W).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):pt[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||Q.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||W,(i=ot.exec(e))?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):rt.test(t.replace(at,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():(Z.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var i,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var o,r=0,s=e.length,a=s===t||Z.isFunction(e);if(i)if(a){for(o in e)if(n.apply(e[o],i)===!1)break}else for(;s>r&&n.apply(e[r++],i)!==!1;);else if(a){for(o in e)if(n.call(e[o],o,e[o])===!1)break}else for(;s>r&&n.call(e[r],r,e[r++])!==!1;);return e},trim:J&&!J.call("﻿ ")?function(e){return null==e?"":J.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?$.call(i,e):Z.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,o=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[o++]=n[r];else for(;n[r]!==t;)e[o++]=n[r++];return e.length=o,e},grep:function(e,t,n){var i,o=[],r=0,s=e.length;for(n=!!n;s>r;r++)i=!!t(e[r],r),n!==i&&o.push(e[r]);return o},map:function(e,n,i){var o,r,s=[],a=0,l=e.length,c=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(c)for(;l>a;a++)o=n(e[a],a,i),null!=o&&(s[s.length]=o);else for(r in e)o=n(e[r],r,i),null!=o&&(s[s.length]=o);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,o,r;return"string"==typeof n&&(i=e[n],n=e,e=i),Z.isFunction(e)?(o=V.call(arguments,2),r=function(){return e.apply(n,o.concat(V.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):t},access:function(e,n,i,o,r,s,a){var l,c=null==i,u=0,d=e.length;if(i&&"object"==typeof i){for(u in i)Z.access(e,n,u,i[u],1,s,o);r=1}else if(o!==t){if(l=a===t&&Z.isFunction(o),c&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,o),n=null)),n)for(;d>u;u++)n(e[u],i,l?o.call(e[u],u,n(e[u],i)):o,a);r=1}return r?e:c?n.call(e):d?n(e[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!j)if(j=Z.Deferred(),"complete"===W.readyState)setTimeout(Z.ready,1);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",Z.ready,!1);else{W.attachEvent("onreadystatechange",ft),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&W.documentElement}catch(i){}n&&n.doScroll&&function o(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}Z.ready()}}()}return j.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){pt["[object "+t+"]"]=t.toLowerCase()}),F=Z(W);var ht={};Z.Callbacks=function(e){e="string"==typeof e?ht[e]||n(e):Z.extend({},e);var i,o,r,s,a,l,c=[],u=!e.once&&[],d=function(t){for(i=e.memory&&t,o=!0,l=s||0,s=0,a=c.length,r=!0;c&&a>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}r=!1,c&&(u?u.length&&d(u.shift()):i?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function n(t){Z.each(t,function(t,i){var o=Z.type(i);"function"===o?(!e.unique||!f.has(i))&&c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),r?a=c.length:i&&(s=t,d(i))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,c,n))>-1;)c.splice(n,1),r&&(a>=n&&a--,l>=n&&l--)}),this},has:function(e){return Z.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=i=t,this},disabled:function(){return!c},lock:function(){return u=t,i||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],c&&(!o||u)&&(r?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var r=i[0],s=e[t];o[i[1]](Z.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r+"With"](this===o?n:this,[e])}:n[r])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},o={};return i.pipe=i.then,Z.each(t,function(e,r){var s=r[2],a=r[3];i[r[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[r[0]]=s.fire,o[r[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,i,o=0,r=V.call(arguments),s=r.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===a?e:Z.Deferred(),c=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?V.call(arguments):o,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>o;o++)r[o]&&Z.isFunction(r[o].promise)?r[o].promise().done(c(o,i,r)).fail(l.reject).progress(c(o,n,t)):--a;return a||l.resolveWith(i,r),l.promise()}}),Z.support=function(){var t,n,i,o,r,s,a,l,c,u,d,f=W.createElement("div");if(f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),i=f.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=W.createElement("select"),r=o.appendChild(W.createElement("option")),s=f.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===f.firstChild.nodeType,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:r.selected,getSetAttribute:"t"!==f.className,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!r.disabled;try{delete f.test}catch(p){t.deleteExpando=!1}if(!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),s=W.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),f.appendChild(s),a=W.createDocumentFragment(),a.appendChild(f.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,a.removeChild(s),a.appendChild(f),f.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in f,u||(f.setAttribute(l,"return;"),u="function"==typeof f[l]),t[c+"Bubbles"]=u;return Z(function(){var n,i,o,r,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=W.getElementsByTagName("body")[0];a&&(n=W.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild),i=W.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=i.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=u&&0===o[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=W.createElement("div"),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",i.appendChild(r),t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),a.removeChild(n),n=i=o=r=null)}),a.removeChild(f),n=i=o=r=s=a=f=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!o(e)},data:function(e,n,i,o){if(Z.acceptData(e)){var r,s,a=Z.expando,l="string"==typeof n,c=e.nodeType,u=c?Z.cache:e,d=c?e[a]:e[a]&&a;if(d&&u[d]&&(o||u[d].data)||!l||i!==t)return d||(c?e[a]=d=Z.deletedIds.pop()||Z.guid++:d=a),u[d]||(u[d]={},c||(u[d].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(o?u[d]=Z.extend(u[d],n):u[d].data=Z.extend(u[d].data,n)),r=u[d],o||(r.data||(r.data={}),r=r.data),i!==t&&(r[Z.camelCase(n)]=i),l?(s=r[n],null==s&&(s=r[Z.camelCase(n)])):s=r,s}},removeData:function(e,t,n){if(Z.acceptData(e)){var i,r,s,a=e.nodeType,l=a?Z.cache:e,c=a?e[Z.expando]:Z.expando;if(l[c]){if(t&&(i=n?l[c]:l[c].data)){Z.isArray(t)||(t in i?t=[t]:(t=Z.camelCase(t),t=t in i?[t]:t.split(" ")));for(r=0,s=t.length;s>r;r++)delete i[t[r]];if(!(n?o:Z.isEmptyObject)(i))return}(n||(delete l[c].data,o(l[c])))&&(a?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var o,r,s,a,l,c=this[0],u=0,d=null;if(e===t){if(this.length&&(d=Z.data(c),1===c.nodeType&&!Z._data(c,"parsedAttrs"))){for(s=c.attributes,l=s.length;l>u;u++)a=s[u].name,a.indexOf("data-")||(a=Z.camelCase(a.substring(5)),i(c,a,d[a]));Z._data(c,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(o=e.split(".",2),o[1]=o[1]?"."+o[1]:"",r=o[1]+"!",Z.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+r,[o[0]]),d===t&&c&&(d=Z.data(c,e),d=i(c,e,d)),d===t&&o[1]?this.data(o[0]):d):(o[1]=n,this.each(function(){var t=Z(this);t.triggerHandler("setData"+r,o),Z.data(this,e,n),t.triggerHandler("changeData"+r,o)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Z._data(e,t),n&&(!i||Z.isArray(n)?i=Z._data(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,o=n.shift(),r=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,s,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,o=1,r=Z.Deferred(),s=this,a=this.length,l=function(){--o||r.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=Z._data(s[a],e+"queueHooks"),i&&i.empty&&(o++,i.empty.add(l));return l(),r.promise(n)}});var yt,vt,bt,xt=/[\t\r\n]/g,wt=/\r/g,kt=/^(?:button|input)$/i,_t=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,Ct=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,St=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,o,r,s,a;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(o=this[n],1===o.nodeType)if(o.className||1!==t.length){for(r=" "+o.className+" ",s=0,a=t.length;a>s;s++)r.indexOf(" "+t[s]+" ")<0&&(r+=t[s]+" ");o.className=Z.trim(r)}else o.className=e;return this},removeClass:function(e){var n,i,o,r,s,a,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),a=0,l=this.length;l>a;a++)if(o=this[a],1===o.nodeType&&o.className){for(i=(" "+o.className+" ").replace(xt," "),r=0,s=n.length;s>r;r++)for(;i.indexOf(" "+n[r]+" ")>=0;)i=i.replace(" "+n[r]+" "," ");o.className=e?Z.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var o,r=0,s=Z(this),a=t,l=e.split(tt);o=l[r++];)a=i?a:!s.hasClass(o),s[a?"addClass":"removeClass"](o);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,o,r=this[0];{if(arguments.length)return o=Z.isFunction(e),this.each(function(i){var r,s=Z(this);1===this.nodeType&&(r=o?e.call(this,i,s.val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,r,"value")!==t||(this.value=r))});if(r)return n=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(r,"value"))!==t?i:(i=r.value,"string"==typeof i?i.replace(wt,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,s=r?null:[],a=r?o+1:i.length,l=0>o?a:r?o:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==o||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),r)return t;s.push(t)}return s},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,o){var r,s,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return o&&Z.isFunction(Z.fn[n])?Z(e)[n](i):"undefined"==typeof e.getAttribute?Z.prop(e,n,i):(a=1!==l||!Z.isXMLDoc(e),a&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Ct.test(n)?vt:yt)),i!==t?null===i?(Z.removeAttr(e,n),void 0):s&&"set"in s&&a&&(r=s.set(e,i,n))!==t?r:(e.setAttribute(n,i+""),i):s&&"get"in s&&a&&null!==(r=s.get(e,n))?r:(r=e.getAttribute(n),null===r?t:r))},removeAttr:function(e,t){var n,i,o,r,s=0;if(t&&1===e.nodeType)for(i=t.split(tt);s<i.length;s++)o=i[s],o&&(n=Z.propFix[o]||o,r=Ct.test(o),r||Z.attr(e,o,""),e.removeAttribute(St?o:n),r&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return yt&&Z.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,n){return yt&&Z.nodeName(e,"button")?yt.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var o,r,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!Z.isXMLDoc(e),s&&(n=Z.propFix[n]||n,r=Z.propHooks[n]),i!==t?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:e[n]=i:r&&"get"in r&&null!==(o=r.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):_t.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var i,o=Z.prop(e,n);return o===!0||"boolean"!=typeof o&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Z.removeAttr(e,n):(i=Z.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},St||(bt={name:!0,id:!0,coords:!0},yt=Z.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=W.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0
}})}),Z.attrHooks.contenteditable={get:yt.get,set:function(e,t,n){""===t&&(t="false"),yt.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Mt=/^(?:textarea|input|select)$/i,Et=/^([^\.]*|)(?:\.(.+)|)$/,Dt=/(?:^|\s)hover(\.\S+|)\b/,Ot=/^key/,At=/^(?:mouse|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){return Z.event.special.hover?e:e.replace(Dt,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,i,o,r){var s,a,l,c,u,d,f,p,h,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=Z._data(e))){for(i.handler&&(h=i,i=h.handler,r=h.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),a=s.handle,a||(s.handle=a=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=Z.trim(Lt(n)).split(" "),c=0;c<n.length;c++)u=Et.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),g=Z.event.special[d]||{},d=(r?g.delegateType:g.bindType)||d,g=Z.event.special[d]||{},p=Z.extend({type:d,origType:u[1],data:o,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},h),m=l[d],m||(m=l[d]=[],m.delegateCount=0,g.setup&&g.setup.call(e,o,f,a)!==!1||(e.addEventListener?e.addEventListener(d,a,!1):e.attachEvent&&e.attachEvent("on"+d,a))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),r?m.splice(m.delegateCount++,0,p):m.push(p),Z.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,o){var r,s,a,l,c,u,d,f,p,h,m,g=Z.hasData(e)&&Z._data(e);if(g&&(f=g.events)){for(t=Z.trim(Lt(t||"")).split(" "),r=0;r<t.length;r++)if(s=Et.exec(t[r])||[],a=l=s[1],c=s[2],a){for(p=Z.event.special[a]||{},a=(i?p.delegateType:p.bindType)||a,h=f[a]||[],u=h.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<h.length;d++)m=h[d],!(!o&&l!==m.origType||n&&n.guid!==m.guid||c&&!c.test(m.namespace)||i&&i!==m.selector&&("**"!==i||!m.selector)||(h.splice(d--,1),m.selector&&h.delegateCount--,!p.remove||!p.remove.call(e,m)));0===h.length&&u!==h.length&&((!p.teardown||p.teardown.call(e,c,g.handle)===!1)&&Z.removeEvent(e,a,g.handle),delete f[a])}else for(a in f)Z.event.remove(e,a+t[r],n,i,!0);Z.isEmptyObject(f)&&(delete g.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,o,r){if(!o||3!==o.nodeType&&8!==o.nodeType){var s,a,l,c,u,d,f,p,h,m,g=n.type||n,y=[];if(Nt.test(g+Z.event.triggered))return;if(g.indexOf("!")>=0&&(g=g.slice(0,-1),a=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),(!o||Z.event.customEvent[g])&&!Z.event.global[g])return;if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=a,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"",!o){s=Z.cache;for(l in s)s[l].events&&s[l].events[g]&&Z.event.trigger(n,i,s[l].handle.elem,!0);return}if(n.result=t,n.target||(n.target=o),i=null!=i?Z.makeArray(i):[],i.unshift(n),f=Z.event.special[g]||{},f.trigger&&f.trigger.apply(o,i)===!1)return;if(h=[[o,f.bindType||g]],!r&&!f.noBubble&&!Z.isWindow(o)){for(m=f.delegateType||g,c=Nt.test(m+g)?o:o.parentNode,u=o;c;c=c.parentNode)h.push([c,m]),u=c;u===(o.ownerDocument||W)&&h.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<h.length&&!n.isPropagationStopped();l++)c=h[l][0],n.type=h[l][1],p=(Z._data(c,"events")||{})[n.type]&&Z._data(c,"handle"),p&&p.apply(c,i),p=d&&c[d],p&&Z.acceptData(c)&&p.apply&&p.apply(c,i)===!1&&n.preventDefault();return n.type=g,!(r||n.isDefaultPrevented()||f._default&&f._default.apply(o.ownerDocument,i)!==!1||"click"===g&&Z.nodeName(o,"a")||!Z.acceptData(o)||!d||!o[g]||("focus"===g||"blur"===g)&&0===n.target.offsetWidth||Z.isWindow(o)||(u=o[d],u&&(o[d]=null),Z.event.triggered=g,o[g](),Z.event.triggered=t,!u||!(o[d]=u))),n.result}},dispatch:function(n){n=Z.event.fix(n||e.event);var i,o,r,s,a,l,c,u,d,f=(Z._data(this,"events")||{})[n.type]||[],p=f.delegateCount,h=V.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},y=[];if(h[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(p&&(!n.button||"click"!==n.type))for(r=n.target;r!=this;r=r.parentNode||this)if(r.disabled!==!0||"click"!==n.type){for(a={},c=[],i=0;p>i;i++)u=f[i],d=u.selector,a[d]===t&&(a[d]=u.needsContext?Z(d,this).index(r)>=0:Z.find(d,this,null,[r]).length),a[d]&&c.push(u);c.length&&y.push({elem:r,matches:c})}for(f.length>p&&y.push({elem:this,matches:f.slice(p)}),i=0;i<y.length&&!n.isPropagationStopped();i++)for(l=y[i],n.currentTarget=l.elem,o=0;o<l.matches.length&&!n.isImmediatePropagationStopped();o++)u=l.matches[o],(m||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,s=((Z.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,h),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,o,r,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||W,o=i.documentElement,r=i.body,e.pageX=n.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&s!==t&&(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i=e,o=Z.event.fixHooks[e.type]||{},r=o.props?this.props.concat(o.props):this.props;for(e=Z.Event(i),t=r.length;t;)n=r[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||W),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var o=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(o,null,t):Z.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=W.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:r):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,void 0):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return r.selector,(!o||o!==i&&!Z.contains(i,o))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:(Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:(Z.event.remove(this,"._submit"),void 0)}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):(Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&W.addEventListener(e,i,!0)},teardown:function(){0===--n&&W.removeEventListener(e,i,!0)}}}),Z.fn.extend({on:function(e,n,i,o,s){var a,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],s);return this}if(null==i&&null==o?(o=n,i=n=t):null==o&&("string"==typeof n?(o=i,i=t):(o=i,i=n,n=t)),o===!1)o=r;else if(!o)return this;return 1===s&&(a=o,o=function(e){return Z().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,o,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var o,s;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,Z(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=r),this.each(function(){Z.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,i=0,o=function(n){var o=(Z._data(this,"lastToggle"+e.guid)||0)%i;return Z._data(this,"lastToggle"+e.guid,o+1),n.preventDefault(),t[o].apply(this,arguments)||!1};for(o.guid=n;i<t.length;)t[i++].guid=n;return this.click(o)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),At.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||A;var o,r,s,a,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(s=w(t),!s&&!i&&(o=nt.exec(e)))if(a=o[1]){if(9===l){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&k(t,r)&&r.id===a)return n.push(r),n}else{if(o[2])return B.apply(n,I.call(t.getElementsByTagName(e),0)),n;if((a=o[3])&&ft&&t.getElementsByClassName)return B.apply(n,I.call(t.getElementsByClassName(a),0)),n}return m(e.replace(J,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function o(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function r(e){return F(function(t){return t=+t,F(function(n,i){for(var o,r=e([],n.length,t),s=r.length;s--;)n[o=r[s]]&&(n[o]=!(i[o]=n[o]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function a(e,t){var i,o,r,s,a,l,c,u=z[D][e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=b.preFilter;a;){(!i||(o=K.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),i=!1,(o=et.exec(a))&&(r.push(i=new O(o.shift())),a=a.slice(i.length),i.type=o[0].replace(J," "));for(s in b.filter)(o=at[s].exec(a))&&(!c[s]||(o=c[s](o)))&&(r.push(i=new O(o.shift())),a=a.slice(i.length),i.type=s,i.matches=o);if(!i)break}return t?a.length:a?n.error(e):z(e,l).slice(0)}function l(e,t,n){var i=t.dir,o=n&&"parentNode"===t.dir,r=P++;return t.first?function(t,n,r){for(;t=t[i];)if(o||1===t.nodeType)return e(t,n,r)}:function(t,n,s){if(s){for(;t=t[i];)if((o||1===t.nodeType)&&e(t,n,s))return t}else for(var a,l=L+" "+r+" ",c=l+y;t=t[i];)if(o||1===t.nodeType){if((a=t[D])===c)return t.sizset;if("string"==typeof a&&0===a.indexOf(l)){if(t.sizset)return t}else{if(t[D]=c,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function c(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function u(e,t,n,i,o){for(var r,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(r=e[a])&&(!n||n(r,i,o))&&(s.push(r),c&&t.push(a));return s}function d(e,t,n,i,o,r){return i&&!i[D]&&(i=d(i)),o&&!o[D]&&(o=d(o,r)),F(function(r,s,a,l){var c,d,f,p=[],m=[],g=s.length,y=r||h(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?y:u(y,p,e,a,l),b=n?o||(r?e:g||i)?[]:s:v;if(n&&n(v,b,a,l),i)for(c=u(b,m),i(c,[],a,l),d=c.length;d--;)(f=c[d])&&(b[m[d]]=!(v[m[d]]=f));if(r){if(o||e){if(o){for(c=[],d=b.length;d--;)(f=b[d])&&c.push(v[d]=f);o(null,b=[],c,l)}for(d=b.length;d--;)(f=b[d])&&(c=o?R.call(r,f):p[d])>-1&&(r[c]=!(s[c]=f))}}else b=u(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):B.apply(s,b)})}function f(e){for(var t,n,i,o=e.length,r=b.relative[e[0].type],s=r||b.relative[" "],a=r?1:0,u=l(function(e){return e===t},s,!0),p=l(function(e){return R.call(t,e)>-1},s,!0),h=[function(e,n,i){return!r&&(i||n!==S)||((t=n).nodeType?u(e,n,i):p(e,n,i))}];o>a;a++)if(n=b.relative[e[a].type])h=[l(c(h),n)];else{if(n=b.filter[e[a].type].apply(null,e[a].matches),n[D]){for(i=++a;o>i&&!b.relative[e[i].type];i++);return d(a>1&&c(h),a>1&&e.slice(0,a-1).join("").replace(J,"$1"),n,i>a&&f(e.slice(a,i)),o>i&&f(e=e.slice(i)),o>i&&e.join(""))}h.push(n)}return c(h)}function p(e,t){var i=t.length>0,o=e.length>0,r=function(s,a,l,c,d){var f,p,h,m=[],g=0,v="0",x=s&&[],w=null!=d,k=S,_=s||o&&b.find.TAG("*",d&&a.parentNode||a),T=L+=null==k?1:Math.E;for(w&&(S=a!==A&&a,y=r.el);null!=(f=_[v]);v++){if(o&&f){for(p=0;h=e[p];p++)if(h(f,a,l)){c.push(f);break}w&&(L=T,y=++r.el)}i&&((f=!h&&f)&&g--,s&&x.push(f))}if(g+=v,i&&v!==g){for(p=0;h=t[p];p++)h(x,m,a,l);if(s){if(g>0)for(;v--;)!x[v]&&!m[v]&&(m[v]=H.call(c));m=u(m)}B.apply(c,m),w&&!s&&m.length>0&&g+t.length>1&&n.uniqueSort(c)}return w&&(L=T,S=k),x};return r.el=0,i?F(r):r}function h(e,t,i){for(var o=0,r=t.length;r>o;o++)n(e,t[o],i);return i}function m(e,t,n,i,o){var r,s,l,c,u,d=a(e);if(d.length,!i&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!o&&b.relative[s[1].type]){if(t=b.find.ID(l.matches[0].replace(st,""),t,o)[0],!t)return n;e=e.slice(s.shift().length)}for(r=at.POS.test(e)?-1:s.length-1;r>=0&&(l=s[r],!b.relative[c=l.type]);r--)if((u=b.find[c])&&(i=u(l.matches[0].replace(st,""),it.test(s[0].type)&&t.parentNode||t,o))){if(s.splice(r,1),e=i.length&&s.join(""),!e)return B.apply(n,I.call(i,0)),n;break}}return _(e,d)(i,t,o,n,it.test(e)),n}function g(){}var y,v,b,x,w,k,_,T,C,S,M=!0,E="undefined",D=("sizcache"+Math.random()).replace(".",""),O=String,A=e.document,N=A.documentElement,L=0,P=0,H=[].pop,B=[].push,I=[].slice,R=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},F=function(e,t){return e[D]=null==t||t,e},j=function(){var e={},t=[];return F(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},W=j(),z=j(),q=j(),Y="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",$=U.replace("w","w#"),V="([*^$|!~]?=)",X="\\["+Y+"*("+U+")"+Y+"*(?:"+V+Y+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+Y+"*\\]",G=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),K=new RegExp("^"+Y+"*,"+Y+"*"),et=new RegExp("^"+Y+"*([\\x20\\t\\r\\n\\f>+~])"+Y+"*"),tt=new RegExp(G),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,ot=/h\d/i,rt=/input|select|textarea|button/i,st=/\\(?!\\)/g,at={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+G),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),needsContext:new RegExp("^"+Y+"*[>+~]|"+Q,"i")},lt=function(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ct=lt(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),ut=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==E&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ft=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pt=lt(function(e){e.id=D+0,e.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",N.insertBefore(e,N.firstChild);var t=A.getElementsByName&&A.getElementsByName(D).length===2+A.getElementsByName(D+0).length;return v=!A.getElementById(D),N.removeChild(e),t});try{I.call(N.childNodes,0)[0].nodeType}catch(ht){I=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i];i++)n+=x(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=n.contains=N.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:N.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=w(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:F,match:at,attrHandle:ut?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==E&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==E&&!i){var o=n.getElementById(e);return o?o.id===e||typeof o.getAttributeNode!==E&&o.getAttributeNode("id").value===e?[o]:t:[]}},TAG:ct?function(e,t){return typeof t.getElementsByTagName!==E?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,o=[],r=0;i=n[r];r++)1===i.nodeType&&o.push(i);return o}return n},NAME:pt&&function(e,t){return typeof t.getElementsByName!==E?t.getElementsByName(name):void 0},CLASS:ft&&function(e,t,n){return typeof t.getElementsByClassName===E||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return at.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=a(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var n=typeof t.getAttributeNode!==E&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[D][e+" "];return t||(t=new RegExp("(^|"+Y+")"+e+"("+Y+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==E&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(o){var r=n.attr(o,e);return null==r?"!="===t:t?(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.substr(r.length-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t?r===i||r.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,o,r=e.parentNode;if(1===n&&0===i)return!0;if(r)for(o=0,t=r.firstChild;t&&(1!==t.nodeType||(o++,e!==t));t=t.nextSibling);return o-=i,o===n||0===o%n&&o/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[D]?o(t):o.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)i=R.call(e,r[s]),e[i]=!(n[i]=r[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:F(function(e){var t=[],n=[],i=_(e.replace(J,"$1"));return i[D]?F(function(e,t,n,o){for(var r,s=i(e,null,o,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,o,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:F(function(e){return function(t){return n(e,t).length>0}}),contains:F(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return ot.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:o("submit"),reset:o("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return rt.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:r(function(){return[0]}),last:r(function(e,t){return[t-1]}),eq:r(function(e,t,n){return[0>n?n+t:n]}),even:r(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:r(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:r(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:r(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},T=N.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,o=[],r=[],a=e.parentNode,l=t.parentNode,c=a;if(a===l)return s(e,t);if(!a)return-1;if(!l)return 1;for(;c;)o.unshift(c),c=c.parentNode;for(c=l;c;)r.unshift(c),c=c.parentNode;n=o.length,i=r.length;for(var u=0;n>u&&i>u;u++)if(o[u]!==r[u])return s(o[u],r[u]);return u===n?s(e,r[u],-1):s(o[u],t,1)},[0,0].sort(T),M=!C,n.uniqueSort=function(e){var t,n=[],i=1,o=0;if(C=M,e.sort(T),C){for(;t=e[i];i++)t===e[i-1]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_=n.compile=function(e,t){var n,i=[],o=[],r=q[D][e+" "];if(!r){for(t||(t=a(e)),n=t.length;n--;)r=f(t[n]),r[D]?i.push(r):o.push(r);r=q(e,p(o,i))}return r},A.querySelectorAll&&function(){var e,t=m,i=/'|\\/g,o=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,r=[":focus"],s=[":active"],l=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||r.push("\\["+Y+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||r.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&r.push("[*^$]="+Y+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||r.push(":enabled",":disabled")}),r=new RegExp(r.join("|")),m=function(e,n,o,s,l){if(!s&&!l&&!r.test(e)){var c,u,d=!0,f=D,p=n,h=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(c=a(e),(d=n.getAttribute("id"))?f=d.replace(i,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;u--;)c[u]=f+c[u].join("");p=it.test(e)&&n.parentNode||n,h=c.join(",")}if(h)try{return B.apply(o,I.call(p.querySelectorAll(h),0)),o}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,o,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",G)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(o,"='$1']"),!w(t)&&!s.test(i)&&!r.test(i))try{var a=l.call(t,i);if(a||e||t.document&&11!==t.document.nodeType)return a}catch(c){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Pt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,It=Z.expr.match.needsContext,Rt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,i,o,r,s,a=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=a.length;n>t;t++)if(Z.contains(a[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,Z.find(e,this[t],s),t>0)for(o=i;o<s.length;o++)for(r=0;i>r;r++)if(s[r]===s[o]){s.splice(o--,1);break}return s},has:function(e){var t,n=Z(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?It.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,o=this.length,r=[],s=It.test(e)||"string"!=typeof e?Z(e,t||this.context):0;o>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,e)){r.push(n);break}n=n.parentNode}return r=r.length>1?Z.unique(r):r,this.pushStack(r,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),i=Z.merge(this.get(),n);return this.pushStack(a(n[0])||a(i[0])?i:Z.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var o=Z.map(this,t,n);return Pt.test(e)||(i=n),i&&"string"==typeof i&&(o=Z.filter(i,o)),o=this.length>1&&!Rt[e]?Z.unique(o):o,this.length>1&&Ht.test(e)&&(o=o.reverse()),this.pushStack(o,e,V.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,i){for(var o=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!Z(r).is(i));)1===r.nodeType&&o.push(r),r=r[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Wt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Yt=/<tbody/i,Ut=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Vt=/<(?:script|object|embed|option|style)/i,Xt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Gt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=u(W),tn=en.appendChild(W.createElement("div"));
Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,Z.support.htmlSerialize||(Kt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!a(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Z.filter(e,[n]).length)&&(!t&&1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},i=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(jt,""):t;if(!("string"!=typeof e||$t.test(e)||!Z.support.htmlSerialize&&Xt.test(e)||!Z.support.leadingWhitespace&&Wt.test(e)||Kt[(qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(zt,"<$1></$2>");try{for(;o>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return a(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var o,r,s,a,l=0,c=e[0],u=[],f=this.length;if(!Z.support.checkClone&&f>1&&"string"==typeof c&&Qt.test(c))return this.each(function(){Z(this).domManip(e,n,i)});if(Z.isFunction(c))return this.each(function(o){var r=Z(this);e[0]=c.call(this,o,n?r.html():t),r.domManip(e,n,i)});if(this[0]){if(o=Z.buildFragment(e,this,u),s=o.fragment,r=s.firstChild,1===s.childNodes.length&&(s=r),r)for(n=n&&Z.nodeName(r,"tr"),a=o.cacheable||f-1;f>l;l++)i.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===a?s:Z.clone(s,!0,!0));s=r=null,u.length&&Z.each(u,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,i){var o,r,s,a=e[0];return n=n||W,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,1===e.length&&"string"==typeof a&&a.length<512&&n===W&&"<"===a.charAt(0)&&!Vt.test(a)&&(Z.support.checkClone||!Qt.test(a))&&(Z.support.html5Clone||!Xt.test(a))&&(r=!0,o=Z.fragments[a],s=o!==t),o||(o=n.createDocumentFragment(),Z.clean(e,n,o,i),r&&(Z.fragments[a]=s&&o)),{fragment:o,cacheable:r}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var i,o=0,r=[],s=Z(n),a=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return s[t](this[0]),this;for(;a>o;o++)i=(o>0?this.clone(!0):this).get(),Z(s[o])[t](i),r=r.concat(i);return this.pushStack(r,e,s.selector)}}),Z.extend({clone:function(e,t,n){var i,o,r,s;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(s=tn.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(p(e,s),i=h(e),o=h(s),r=0;i[r];++r)o[r]&&p(i[r],o[r]);if(t&&(f(e,s),n))for(i=h(e),o=h(s),r=0;i[r];++r)f(i[r],o[r]);return i=o=null,s},clean:function(e,t,n,i){var o,r,s,a,l,c,d,f,p,h,g,y=t===W&&en,v=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=W),o=0;null!=(s=e[o]);o++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Ut.test(s)){for(y=y||u(t),d=t.createElement("div"),y.appendChild(d),s=s.replace(zt,"<$1></$2>"),a=(qt.exec(s)||["",""])[1].toLowerCase(),l=Kt[a]||Kt._default,c=l[0],d.innerHTML=l[1]+s+l[2];c--;)d=d.lastChild;if(!Z.support.tbody)for(f=Yt.test(s),p="table"!==a||f?"<table>"!==l[1]||f?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,r=p.length-1;r>=0;--r)Z.nodeName(p[r],"tbody")&&!p[r].childNodes.length&&p[r].parentNode.removeChild(p[r]);!Z.support.leadingWhitespace&&Wt.test(s)&&d.insertBefore(t.createTextNode(Wt.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?v.push(s):Z.merge(v,s)}if(d&&(s=d=y=null),!Z.support.appendChecked)for(o=0;null!=(s=v[o]);o++)Z.nodeName(s,"input")?m(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),m);if(n)for(h=function(e){return!e.type||Jt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},o=0;null!=(s=v[o]);o++)Z.nodeName(s,"script")&&h(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(g=Z.grep(Z.merge([],s.getElementsByTagName("script")),h),v.splice.apply(v,[o+1,0].concat(g)),o+=g.length));return v},cleanData:function(e,t){for(var n,i,o,r,s=0,a=Z.expando,l=Z.cache,c=Z.support.deleteExpando,u=Z.event.special;null!=(o=e[s]);s++)if((t||Z.acceptData(o))&&(i=o[a],n=i&&l[i])){if(n.events)for(r in n.events)u[r]?Z.event.remove(o,r):Z.removeEvent(o,r,n.handle);l[i]&&(delete l[i],c?delete o[a]:o.removeAttribute?o.removeAttribute(a):o[a]=null,Z.deletedIds.push(i))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(q.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof e)&&(i=e(i)),Z.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(W);return e}}();var nn,on,rn,sn=/alpha\([^)]*\)/i,an=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,dn=new RegExp("^("+K+")(.*)$","i"),fn=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),pn=new RegExp("^([-+])=("+K+")","i"),hn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},yn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,i){return i!==t?Z.style(e,n,i):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:y(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,l=Z.camelCase(n),c=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(c,l)),a=Z.cssHooks[n]||Z.cssHooks[l],i===t)return a&&"get"in a&&(r=a.get(e,!1,o))!==t?r:c[n];if(s=typeof i,"string"===s&&(r=pn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"===s&&!Z.cssNumber[l]&&(i+="px"),a&&"set"in a&&(i=a.set(e,i,o))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,o){var r,s,a,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),a=Z.cssHooks[n]||Z.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,o)),r===t&&(r=nn(e,n)),"normal"===r&&n in gn&&(r=gn[n]),i||o!==t?(s=parseFloat(r),i||Z.isNumeric(s)?s||0:r):r},swap:function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];i=n.call(e);for(o in t)e.style[o]=r[o];return i}}),e.getComputedStyle?nn=function(t,n){var i,o,r,s,a=e.getComputedStyle(t,null),l=t.style;return a&&(i=a.getPropertyValue(n)||a[n],""===i&&!Z.contains(t.ownerDocument,t)&&(i=Z.style(t,n)),fn.test(i)&&un.test(n)&&(o=l.width,r=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=a.width,l.width=o,l.minWidth=r,l.maxWidth=s)),i}:W.documentElement.currentStyle&&(nn=function(e,t){var n,i,o=e.currentStyle&&e.currentStyle[t],r=e.style;return null==o&&r&&r[t]&&(o=r[t]),fn.test(o)&&!ln.test(t)&&(n=r.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),r.left="fontSize"===t?"1em":o,o=r.pixelLeft+"px",r.left=n,i&&(e.runtimeStyle.left=i)),""===o?"auto":o}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&cn.test(nn(e,"display"))?Z.swap(e,mn,function(){return w(e,t,i)}):w(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?x(e,t,i,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,o=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(r.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(r)?r.replace(sn,o):r+" "+o)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return fn.test(i)?Z(e).position()[t]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var i,o="string"==typeof n?n.split(" "):[n],r={};for(i=0;4>i;i++)r[e+yn[i]+t]=o[i]||o[i-2]||o[0];return r}},un.test(e)||(Z.cssHooks[e+t].set=b)});var xn=/%20/g,wn=/\[\]$/,kn=/\r?\n/g,_n=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||_n.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),Z.param=function(e,n){var i,o=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(i in e)_(i,e[i],n,r);return o.join("&").replace(xn,"+")};var Cn,Sn,Mn=/#.*$/,En=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,An=/^\/\//,Nn=/\?/,Ln=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,Hn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=Z.fn.load,In={},Rn={},Fn=["*/"]+["*"];try{Sn=z.href}catch(jn){Sn=W.createElement("a"),Sn.href="",Sn=Sn.href}Cn=Hn.exec(Sn.toLowerCase())||[],Z.fn.load=function(e,n,i){if("string"!=typeof e&&Bn)return Bn.apply(this,arguments);if(!this.length)return this;var o,r,s,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(r="POST"),Z.ajax({url:e,type:r,dataType:"html",data:n,complete:function(e,t){i&&a.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,a.html(o?Z("<div>").append(e.replace(Ln,"")).find(o):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,i,o,r){return Z.isFunction(i)&&(r=r||o,o=i,i=t),Z.ajax({type:n,url:e,data:i,success:o,dataType:r})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?S(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),S(e,t),e},ajaxSettings:{url:Sn,isLocal:Dn.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Fn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(In),ajaxTransport:T(Rn),ajax:function(e,n){function i(e,n,i,s){var c,d,v,b,w,_=n;2!==x&&(x=2,l&&clearTimeout(l),a=t,r=s||"",k.readyState=e>0?4:0,i&&(b=M(f,k,i)),e>=200&&300>e||304===e?(f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(Z.lastModified[o]=w),w=k.getResponseHeader("Etag"),w&&(Z.etag[o]=w)),304===e?(_="notmodified",c=!0):(c=E(f,b),_=c.state,d=c.data,v=c.error,c=!v)):(v=_,(!_||e)&&(_="error",0>e&&(e=0))),k.status=e,k.statusText=(n||_)+"",c?m.resolveWith(p,[d,_,k]):m.rejectWith(p,[k,_,v]),k.statusCode(y),y=t,u&&h.trigger("ajax"+(c?"Success":"Error"),[k,f,c?d:v]),g.fireWith(p,[k,_]),u&&(h.trigger("ajaxComplete",[k,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,r,s,a,l,c,u,d,f=Z.ajaxSetup({},n),p=f.context||f,h=p!==f&&(p.nodeType||p instanceof Z)?Z(p):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),y=f.statusCode||{},v={},b={},x=0,w="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return 2===x?r:null},getResponseHeader:function(e){var n;if(2===x){if(!s)for(s={};n=En.exec(r);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(f.mimeType=e),this},abort:function(e){return e=e||w,a&&a.abort(e),i(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(2>x)for(t in e)y[t]=[y[t],e[t]];else t=e[k.status],k.always(t)}return this},f.url=((e||f.url)+"").replace(Mn,"").replace(An,Cn[1]+"//"),f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().split(tt),null==f.crossDomain&&(c=Hn.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===Cn[1]&&c[2]===Cn[2]&&(c[3]||("http:"===c[1]?80:443))==(Cn[3]||("http:"===Cn[1]?80:443)))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),C(In,f,n,k),2===x)return k;if(u=f.global,f.type=f.type.toUpperCase(),f.hasContent=!On.test(f.type),u&&0===Z.active++&&Z.event.trigger("ajaxStart"),!f.hasContent&&(f.data&&(f.url+=(Nn.test(f.url)?"&":"?")+f.data,delete f.data),o=f.url,f.cache===!1)){var _=Z.now(),T=f.url.replace(Pn,"$1_="+_);f.url=T+(T===f.url?(Nn.test(f.url)?"&":"?")+"_="+_:"")}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(o=o||f.url,Z.lastModified[o]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[o]),Z.etag[o]&&k.setRequestHeader("If-None-Match",Z.etag[o])),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fn+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)k.setRequestHeader(d,f.headers[d]);if(!f.beforeSend||f.beforeSend.call(p,k,f)!==!1&&2!==x){w="abort";for(d in{success:1,error:1,complete:1})k[d](f[d]);if(a=C(Rn,f,n,k)){k.readyState=1,u&&h.trigger("ajaxSend",[k,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},f.timeout));try{x=1,a.send(v,i)}catch(S){if(!(2>x))throw S;i(-1,S)}}else i(-1,"No Transport");return k}return k.abort()},active:0,lastModified:{},etag:{}});var Wn=[],zn=/\?/,qn=/(=)\?(?=&|$)|\?\?/,Yn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||Z.expando+"_"+Yn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,i,o){var r,s,a,l=n.data,c=n.url,u=n.jsonp!==!1,d=u&&qn.test(c),f=u&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&qn.test(l);return"jsonp"===n.dataTypes[0]||d||f?(r=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[r],d?n.url=c.replace(qn,"$1"+r):f?n.data=l.replace(qn,"$1"+r):u&&(n.url+=(zn.test(c)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return a||Z.error(r+" was not called"),a[0]},n.dataTypes[0]="json",e[r]=function(){a=arguments},o.always(function(){e[r]=s,n[r]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(r)),a&&Z.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(o,r){n=W.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,o){(o||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,o||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Un,$n=e.ActiveXObject?function(){for(var e in Un)Un[e](0,1)}:!1,Vn=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||O()}:D,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(o,r){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!o["X-Requested-With"]&&(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,o){var a,c,u,d,f;try{if(i&&(o||4===l.readyState))if(i=t,s&&(l.onreadystatechange=Z.noop,$n&&delete Un[s]),o)4!==l.readyState&&l.abort();else{a=l.status,u=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(p){}try{c=l.statusText}catch(p){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(h){o||r(-1,h)}d&&r(a,c,d,u)},n.async?4===l.readyState?setTimeout(i,0):(s=++Vn,$n&&(Un||(Un={},Z(e).unload($n)),Un[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Xn,Gn,Qn=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([-+])=|)("+K+")([a-z%]*)$","i"),Zn=/queueHooks$/,Kn=[H],ei={"*":[function(e,t){var n,i,o=this.createTween(e,t),r=Jn.exec(t),s=o.cur(),a=+s||0,l=1,c=20;if(r){if(n=+r[2],i=r[3]||(Z.cssNumber[e]?"":"px"),"px"!==i&&a){a=Z.css(o.elem,e,!0)||n||1;do l=l||".5",a/=l,Z.style(o.elem,e,a+i);while(l!==(l=o.cur()/s)&&1!==l&&--c)}o.unit=i,o.start=a,o.end=r[1]?a+(r[1]+1)*n:n}return o}]};Z.Animation=Z.extend(L,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,o=e.length;o>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Kn.unshift(e):Kn.push(e)}}),Z.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Z.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(i,o,r){return null==i||"boolean"==typeof i||!e&&Z.isFunction(i)&&Z.isFunction(o)?n.apply(this,arguments):this.animate(I(t,!0),i,o,r)}}),Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=Z.isEmptyObject(e),r=Z.speed(t,n,i),s=function(){var t=L(this,Z.extend({},e),r);o&&t.stop(!0)};return o||r.queue===!1?this.each(s):this.queue(r.queue,s)},stop:function(e,n,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&Zn.test(n)&&o(s[n]);for(n=r.length;n--;)r[n].elem===this&&(null==e||r[n].queue===e)&&(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&Z.dequeue(this,e)})}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=B.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,i=0;for(Xn=Z.now();i<n.length;i++)e=n[i],!e()&&n[i]===e&&n.splice(i--,1);n.length||Z.fx.stop(),Xn=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Gn&&(Gn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Gn),Gn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,i,o,r,s,a,l,c={top:0,left:0},u=this[0],d=u&&u.ownerDocument;if(d)return(i=d.body)===u?Z.offset.bodyOffset(u):(n=d.documentElement,Z.contains(n,u)?("undefined"!=typeof u.getBoundingClientRect&&(c=u.getBoundingClientRect()),o=R(d),r=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,a=o.pageYOffset||n.scrollTop,l=o.pageXOffset||n.scrollLeft,{top:c.top+a-r,left:c.left+l-s}):c)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Z.css(e,"position");"static"===i&&(e.style.position="relative");var o,r,s=Z(e),a=s.offset(),l=Z.css(e,"top"),c=Z.css(e,"left"),u=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,c])>-1,d={},f={};u?(f=s.position(),o=f.top,r=f.left):(o=parseFloat(l)||0,r=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):s.css(d)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,i.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||W.body;e&&!ti.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||W.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Z.fn[e]=function(o){return Z.access(this,function(e,o,r){var s=R(e);return r===t?s?n in s?s[n]:s.document.documentElement[o]:e[o]:(s?s.scrollTo(i?Z(s).scrollLeft():r,i?r:Z(s).scrollTop()):e[o]=r,void 0)},e,o,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,o){Z.fn[o]=function(o,r){var s=arguments.length&&(i||"boolean"!=typeof o),a=i||(o===!0||r===!0?"margin":"border");return Z.access(this,function(n,i,o){var r;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):o===t?Z.css(n,i,o,a):Z.style(n,i,o,a)},n,s?o:t,s,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),!function(e){e.color={},e.color.make=function(t,n,i,o){var r={};return r.r=t||0,r.g=n||0,r.b=i||0,r.a=null!=o?o:1,r.add=function(e,t){for(var n=0;n<e.length;++n)r[e.charAt(n)]+=t;return r.normalize()},r.scale=function(e,t){for(var n=0;n<e.length;++n)r[e.charAt(n)]*=t;return r.normalize()},r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"},r.normalize=function(){function e(e,t,n){return e>t?e:t>n?n:t}return r.r=e(0,parseInt(r.r),255),r.g=e(0,parseInt(r.g),255),r.b=e(0,parseInt(r.b),255),r.a=e(0,r.a,1),r},r.clone=function(){return e.color.make(r.r,r.b,r.g,r.a)},r.normalize()},e.color.extract=function(t,n){var i;do{if(i=t.css(n).toLowerCase(),""!=i&&"transparent"!=i)break;t=t.parent()}while(!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),e.color.parse(i)},e.color.parse=function(n){var i,o=e.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return o(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return o(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return o(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return o(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return o(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return o(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var r=e.trim(n).toLowerCase();return"transparent"==r?o(255,255,255,0):(i=t[r]||[0,0,0],o(i[0],i[1],i[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),!function(e){function t(t,o,r,s){function a(e,t){t=[xt].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function l(){for(var t=0;t<s.length;++t){var n=s[t];n.init(xt),n.options&&e.extend(!0,st,n.options)}}function c(t){var n;for(e.extend(!0,st,t),null==st.xaxis.color&&(st.xaxis.color=st.grid.color),null==st.yaxis.color&&(st.yaxis.color=st.grid.color),null==st.xaxis.tickColor&&(st.xaxis.tickColor=st.grid.tickColor),null==st.yaxis.tickColor&&(st.yaxis.tickColor=st.grid.tickColor),null==st.grid.borderColor&&(st.grid.borderColor=st.grid.color),null==st.grid.tickColor&&(st.grid.tickColor=e.color.parse(st.grid.color).scale("a",.22).toString()),n=0;n<Math.max(1,st.xaxes.length);++n)st.xaxes[n]=e.extend(!0,{},st.xaxis,st.xaxes[n]);for(n=0;n<Math.max(1,st.yaxes.length);++n)st.yaxes[n]=e.extend(!0,{},st.yaxis,st.yaxes[n]);for(st.xaxis.noTicks&&null==st.xaxis.ticks&&(st.xaxis.ticks=st.xaxis.noTicks),st.yaxis.noTicks&&null==st.yaxis.ticks&&(st.yaxis.ticks=st.yaxis.noTicks),st.x2axis&&(st.xaxes[1]=e.extend(!0,{},st.xaxis,st.x2axis),st.xaxes[1].position="top"),st.y2axis&&(st.yaxes[1]=e.extend(!0,{},st.yaxis,st.y2axis),st.yaxes[1].position="right"),st.grid.coloredAreas&&(st.grid.markings=st.grid.coloredAreas),st.grid.coloredAreasColor&&(st.grid.markingsColor=st.grid.coloredAreasColor),st.lines&&e.extend(!0,st.series.lines,st.lines),st.points&&e.extend(!0,st.series.points,st.points),st.bars&&e.extend(!0,st.series.bars,st.bars),null!=st.shadowSize&&(st.series.shadowSize=st.shadowSize),n=0;n<st.xaxes.length;++n)g(ft,n+1).options=st.xaxes[n];
for(n=0;n<st.yaxes.length;++n)g(pt,n+1).options=st.yaxes[n];for(var i in bt)st.hooks[i]&&st.hooks[i].length&&(bt[i]=bt[i].concat(st.hooks[i]));a(bt.processOptions,[st])}function u(e){rt=d(e),y(),v()}function d(t){for(var n=[],i=0;i<t.length;++i){var o=e.extend(!0,{},st.series);null!=t[i].data?(o.data=t[i].data,delete t[i].data,e.extend(!0,o,t[i]),t[i].data=o.data):o.data=t[i],n.push(o)}return n}function f(e,t){var n=e[t+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function p(){return e.grep(ft.concat(pt),function(e){return e})}function h(e){var t,n,i={};for(t=0;t<ft.length;++t)n=ft[t],n&&n.used&&(i["x"+n.n]=n.c2p(e.left));for(t=0;t<pt.length;++t)n=pt[t],n&&n.used&&(i["y"+n.n]=n.c2p(e.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function m(e){var t,n,i,o={};for(t=0;t<ft.length;++t)if(n=ft[t],n&&n.used&&(i="x"+n.n,null==e[i]&&1==n.n&&(i="x"),null!=e[i])){o.left=n.p2c(e[i]);break}for(t=0;t<pt.length;++t)if(n=pt[t],n&&n.used&&(i="y"+n.n,null==e[i]&&1==n.n&&(i="y"),null!=e[i])){o.top=n.p2c(e[i]);break}return o}function g(t,n){return t[n-1]||(t[n-1]={n:n,direction:t==ft?"x":"y",options:e.extend(!0,{},t==ft?st.xaxis:st.yaxis)}),t[n-1]}function y(){var t,n=rt.length,i=[],o=[];for(t=0;t<rt.length;++t){var r=rt[t].color;null!=r&&(--n,"number"==typeof r?o.push(r):i.push(e.color.parse(rt[t].color)))}for(t=0;t<o.length;++t)n=Math.max(n,o[t]+1);var s=[],a=0;for(t=0;s.length<n;){var l;l=st.colors.length==t?e.color.make(100,100,100):e.color.parse(st.colors[t]);var c=1==a%2?-1:1;l.scale("rgb",1+.2*c*Math.ceil(a/2)),s.push(l),++t,t>=st.colors.length&&(t=0,++a)}var u,d=0;for(t=0;t<rt.length;++t){if(u=rt[t],null==u.color?(u.color=s[d].toString(),++d):"number"==typeof u.color&&(u.color=s[u.color].toString()),null==u.lines.show){var p,h=!0;for(p in u)if(u[p]&&u[p].show){h=!1;break}h&&(u.lines.show=!0)}u.xaxis=g(ft,f(u,"x")),u.yaxis=g(pt,f(u,"y"))}}function v(){function t(e,t,n){t<e.datamin&&t!=-g&&(e.datamin=t),n>e.datamax&&n!=g&&(e.datamax=n)}var n,i,o,r,s,l,c,u,d,f,h=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=Number.MAX_VALUE;for(e.each(p(),function(e,t){t.datamin=h,t.datamax=m,t.used=!1}),n=0;n<rt.length;++n)s=rt[n],s.datapoints={points:[]},a(bt.processRawData,[s,s.data,s.datapoints]);for(n=0;n<rt.length;++n){s=rt[n];var y=s.data,v=s.datapoints.format;if(v||(v=[],v.push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),(s.bars.show||s.lines.show&&s.lines.fill)&&(v.push({y:!0,number:!0,required:!1,defaultValue:0}),s.bars.horizontal&&(delete v[v.length-1].y,v[v.length-1].x=!0)),s.datapoints.format=v),null==s.datapoints.pointsize)for(s.datapoints.pointsize=v.length,c=s.datapoints.pointsize,l=s.datapoints.points,insertSteps=s.lines.show&&s.lines.steps,s.xaxis.used=s.yaxis.used=!0,i=o=0;i<y.length;++i,o+=c){f=y[i];var b=null==f;if(!b)for(r=0;c>r;++r)u=f[r],d=v[r],d&&(d.number&&null!=u&&(u=+u,isNaN(u)?u=null:1/0==u?u=g:u==-1/0&&(u=-g)),null==u&&(d.required&&(b=!0),null!=d.defaultValue&&(u=d.defaultValue))),l[o+r]=u;if(b)for(r=0;c>r;++r)u=l[o+r],null!=u&&(d=v[r],d.x&&t(s.xaxis,u,u),d.y&&t(s.yaxis,u,u)),l[o+r]=null;else if(insertSteps&&o>0&&null!=l[o-c]&&l[o-c]!=l[o]&&l[o-c+1]!=l[o+1]){for(r=0;c>r;++r)l[o+c+r]=l[o+r];l[o+1]=l[o-c+1],o+=c}}}for(n=0;n<rt.length;++n)s=rt[n],a(bt.processDatapoints,[s,s.datapoints]);for(n=0;n<rt.length;++n){s=rt[n],l=s.datapoints.points,c=s.datapoints.pointsize;var x=h,w=h,k=m,_=m;for(i=0;i<l.length;i+=c)if(null!=l[i])for(r=0;c>r;++r)u=l[i+r],d=v[r],d&&u!=g&&u!=-g&&(d.x&&(x>u&&(x=u),u>k&&(k=u)),d.y&&(w>u&&(w=u),u>_&&(_=u)));if(s.bars.show){var T="left"==s.bars.align?0:-s.bars.barWidth/2;s.bars.horizontal?(w+=T,_+=T+s.bars.barWidth):(x+=T,k+=T+s.bars.barWidth)}t(s.xaxis,x,k),t(s.yaxis,w,_)}e.each(p(),function(e,t){t.datamin==h&&(t.datamin=null),t.datamax==m&&(t.datamax=null)})}function b(n,i){var o=document.createElement("canvas");return o.className=i,o.width=mt,o.height=gt,n||e(o).css({position:"absolute",left:0,top:0}),e(o).appendTo(t),o.getContext||(o=window.G_vmlCanvasManager.initElement(o)),o.getContext("2d").save(),o}function x(){if(mt=t.width(),gt=t.height(),0>=mt||0>=gt)throw"Invalid dimensions for plot, width = "+mt+", height = "+gt}function w(e){e.width!=mt&&(e.width=mt),e.height!=gt&&(e.height=gt);var t=e.getContext("2d");t.restore(),t.save()}function k(){var n,i=t.children("canvas.base"),o=t.children("canvas.overlay");0==i.length||0==o?(t.html(""),t.css({padding:0}),"static"==t.css("position")&&t.css("position","relative"),x(),at=b(!0,"base"),lt=b(!1,"overlay"),n=!1):(at=i.get(0),lt=o.get(0),n=!0),ut=at.getContext("2d"),dt=lt.getContext("2d"),ct=e([lt,at]),n&&(t.data("plot").shutdown(),xt.resize(),dt.clearRect(0,0,mt,gt),ct.unbind(),t.children().not([at,lt]).remove()),t.data("plot",xt)}function _(){st.grid.hoverable&&(ct.mousemove(V),ct.mouseleave(X)),st.grid.clickable&&ct.click(G),a(bt.bindEvents,[ct])}function T(){kt&&clearTimeout(kt),ct.unbind("mousemove",V),ct.unbind("mouseleave",X),ct.unbind("click",G),a(bt.shutdown,[ct])}function C(e){function t(e){return e}var n,i,o=e.options.transform||t,r=e.options.inverseTransform;"x"==e.direction?(n=e.scale=yt/Math.abs(o(e.max)-o(e.min)),i=Math.min(o(e.max),o(e.min))):(n=e.scale=vt/Math.abs(o(e.max)-o(e.min)),n=-n,i=Math.max(o(e.max),o(e.min))),e.p2c=o==t?function(e){return(e-i)*n}:function(e){return(o(e)-i)*n},e.c2p=r?function(e){return r(i+e/n)}:function(e){return i+e/n}}function S(n){function i(i,o){return e('<div style="position:absolute;top:-10000px;'+o+'font-size:smaller">'+'<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis">'+i.join("")+"</div></div>").appendTo(t)}var o,r,s,a=n.options,l=n.ticks||[],c=[],u=a.labelWidth,d=a.labelHeight;if("x"==n.direction){if(null==u&&(u=Math.floor(mt/(l.length>0?l.length:1))),null==d){for(c=[],o=0;o<l.length;++o)r=l[o].label,r&&c.push('<div class="tickLabel" style="float:left;width:'+u+'px">'+r+"</div>");c.length>0&&(c.push('<div style="clear:left"></div>'),s=i(c,"width:10000px;"),d=s.height(),s.remove())}}else if(null==u||null==d){for(o=0;o<l.length;++o)r=l[o].label,r&&c.push('<div class="tickLabel">'+r+"</div>");c.length>0&&(s=i(c,""),null==u&&(u=s.children().width()),null==d&&(d=s.find("div.tickLabel").height()),s.remove())}null==u&&(u=0),null==d&&(d=0),n.labelWidth=u,n.labelHeight=d}function M(t){var n=t.labelWidth,i=t.labelHeight,o=t.options.position,r=t.options.tickLength,s=st.grid.axisMargin,a=st.grid.labelMargin,l="x"==t.direction?ft:pt,c=e.grep(l,function(e){return e&&e.options.position==o&&e.reserveSpace});e.inArray(t,c)==c.length-1&&(s=0),null==r&&(r="full");var u=e.grep(l,function(e){return e&&e.reserveSpace}),d=0==e.inArray(t,u);d||"full"!=r||(r=5),isNaN(+r)||(a+=+r),"x"==t.direction?(i+=a,"bottom"==o?(ht.bottom+=i+s,t.box={top:gt-ht.bottom,height:i}):(t.box={top:ht.top+s,height:i},ht.top+=i+s)):(n+=a,"left"==o?(t.box={left:ht.left+s,width:n},ht.left+=n+s):(ht.right+=n+s,t.box={left:mt-ht.right,width:n})),t.position=o,t.tickLength=r,t.box.padding=a,t.innermost=d}function E(e){"x"==e.direction?(e.box.left=ht.left,e.box.width=yt):(e.box.top=ht.top,e.box.height=vt)}function D(){var t,n=p();if(e.each(n,function(e,t){t.show=t.options.show,null==t.show&&(t.show=t.used),t.reserveSpace=t.show||t.options.reserveSpace,O(t)}),allocatedAxes=e.grep(n,function(e){return e.reserveSpace}),ht.left=ht.right=ht.top=ht.bottom=0,st.grid.show){for(e.each(allocatedAxes,function(e,t){A(t),N(t),L(t,t.ticks),S(t)}),t=allocatedAxes.length-1;t>=0;--t)M(allocatedAxes[t]);var i=st.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<rt.length;++t)i=Math.max(i,rt[t].points.radius+rt[t].points.lineWidth/2);for(var o in ht)ht[o]+=st.grid.borderWidth,ht[o]=Math.max(i,ht[o])}yt=mt-ht.left-ht.right,vt=gt-ht.bottom-ht.top,e.each(n,function(e,t){C(t)}),st.grid.show&&(e.each(allocatedAxes,function(e,t){E(t)}),R()),U()}function O(e){var t=e.options,n=+(null!=t.min?t.min:e.datamin),i=+(null!=t.max?t.max:e.datamax),o=i-n;if(0==o){var r=0==i?1:.01;null==t.min&&(n-=r),(null==t.max||null!=t.min)&&(i+=r)}else{var s=t.autoscaleMargin;null!=s&&(null==t.min&&(n-=o*s,0>n&&null!=e.datamin&&e.datamin>=0&&(n=0)),null==t.max&&(i+=o*s,i>0&&null!=e.datamax&&e.datamax<=0&&(i=0)))}e.min=n,e.max=i}function A(t){var i,o=t.options;i="number"==typeof o.ticks&&o.ticks>0?o.ticks:.3*Math.sqrt("x"==t.direction?mt:gt);var r,s,a,l,c,u,d,f=(t.max-t.min)/i;if("time"==o.mode){var p={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:1e3*525949.2*60},h=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],m=0;null!=o.minTickSize&&(m="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*p[o.minTickSize[1]]);for(var c=0;c<h.length-1&&!(f<(h[c][0]*p[h[c][1]]+h[c+1][0]*p[h[c+1][1]])/2&&h[c][0]*p[h[c][1]]>=m);++c);r=h[c][0],a=h[c][1],"year"==a&&(u=Math.pow(10,Math.floor(Math.log(f/p.year)/Math.LN10)),d=f/p.year/u,r=1.5>d?1:3>d?2:7.5>d?5:10,r*=u),t.tickSize=o.tickSize||[r,a],s=function(e){var t=[],i=e.tickSize[0],o=e.tickSize[1],r=new Date(e.min),s=i*p[o];"second"==o&&r.setUTCSeconds(n(r.getUTCSeconds(),i)),"minute"==o&&r.setUTCMinutes(n(r.getUTCMinutes(),i)),"hour"==o&&r.setUTCHours(n(r.getUTCHours(),i)),"month"==o&&r.setUTCMonth(n(r.getUTCMonth(),i)),"year"==o&&r.setUTCFullYear(n(r.getUTCFullYear(),i)),r.setUTCMilliseconds(0),s>=p.minute&&r.setUTCSeconds(0),s>=p.hour&&r.setUTCMinutes(0),s>=p.day&&r.setUTCHours(0),s>=4*p.day&&r.setUTCDate(1),s>=p.year&&r.setUTCMonth(0);var a,l=0,c=Number.NaN;do if(a=c,c=r.getTime(),t.push(c),"month"==o)if(1>i){r.setUTCDate(1);var u=r.getTime();r.setUTCMonth(r.getUTCMonth()+1);var d=r.getTime();r.setTime(c+l*p.hour+(d-u)*i),l=r.getUTCHours(),r.setUTCHours(0)}else r.setUTCMonth(r.getUTCMonth()+i);else"year"==o?r.setUTCFullYear(r.getUTCFullYear()+i):r.setTime(c+s);while(c<e.max&&c!=a);return t},l=function(t,n){var i=new Date(t);if(null!=o.timeformat)return e.plot.formatDate(i,o.timeformat,o.monthNames);var r=n.tickSize[0]*p[n.tickSize[1]],s=n.max-n.min,a=o.twelveHourClock?" %p":"";return fmt=r<p.minute?"%h:%M:%S"+a:r<p.day?s<2*p.day?"%h:%M"+a:"%b %d %h:%M"+a:r<p.month?"%b %d":r<p.year?s<p.year?"%b":"%b %y":"%y",e.plot.formatDate(i,fmt,o.monthNames)}}else{var g=o.tickDecimals,y=-Math.floor(Math.log(f)/Math.LN10);null!=g&&y>g&&(y=g),u=Math.pow(10,-y),d=f/u,1.5>d?r=1:3>d?(r=2,d>2.25&&(null==g||g>=y+1)&&(r=2.5,++y)):r=7.5>d?5:10,r*=u,null!=o.minTickSize&&r<o.minTickSize&&(r=o.minTickSize),t.tickDecimals=Math.max(0,null!=g?g:y),t.tickSize=o.tickSize||r,s=function(e){var t,i=[],o=n(e.min,e.tickSize),r=0,s=Number.NaN;do t=s,s=o+r*e.tickSize,i.push(s),++r;while(s<e.max&&s!=t);return i},l=function(e,t){return e.toFixed(t.tickDecimals)}}if(null!=o.alignTicksWithAxis){var v=("x"==t.direction?ft:pt)[o.alignTicksWithAxis-1];if(v&&v.used&&v!=t){var b=s(t);if(b.length>0&&(null==o.min&&(t.min=Math.min(t.min,b[0])),null==o.max&&b.length>1&&(t.max=Math.max(t.max,b[b.length-1]))),s=function(e){var t,n,i=[];for(n=0;n<v.ticks.length;++n)t=(v.ticks[n].v-v.min)/(v.max-v.min),t=e.min+t*(e.max-e.min),i.push(t);return i},"time"!=t.mode&&null==o.tickDecimals){var x=Math.max(0,-Math.floor(Math.log(f)/Math.LN10)+1),w=s(t);w.length>1&&/\..*0$/.test((w[1]-w[0]).toFixed(x))||(t.tickDecimals=x)}}}t.tickGenerator=s,t.tickFormatter=e.isFunction(o.tickFormatter)?function(e,t){return""+o.tickFormatter(e,t)}:l}function N(t){var n=t.options.ticks,i=[];null==n||"number"==typeof n&&n>0?i=t.tickGenerator(t):n&&(i=e.isFunction(n)?n({min:t.min,max:t.max}):n);var o,r;for(t.ticks=[],o=0;o<i.length;++o){var s=null,a=i[o];"object"==typeof a?(r=+a[0],a.length>1&&(s=a[1])):r=+a,null==s&&(s=t.tickFormatter(r,t)),isNaN(r)||t.ticks.push({v:r,label:s})}}function L(e,t){e.options.autoscaleMargin&&t.length>0&&(null==e.options.min&&(e.min=Math.min(e.min,t[0].v)),null==e.options.max&&t.length>1&&(e.max=Math.max(e.max,t[t.length-1].v)))}function P(){ut.clearRect(0,0,mt,gt);var e=st.grid;e.show&&e.backgroundColor&&B(),e.show&&!e.aboveData&&I();for(var t=0;t<rt.length;++t)a(bt.drawSeries,[ut,rt[t]]),F(rt[t]);a(bt.draw,[ut]),e.show&&e.aboveData&&I()}function H(e,t){var n,o,r,s,a=p();for(i=0;i<a.length;++i)if(n=a[i],n.direction==t&&(s=t+n.n+"axis",e[s]||1!=n.n||(s=t+"axis"),e[s])){o=e[s].from,r=e[s].to;break}if(e[s]||(n="x"==t?ft[0]:pt[0],o=e[t+"1"],r=e[t+"2"]),null!=o&&null!=r&&o>r){var l=o;o=r,r=l}return{from:o,to:r,axis:n}}function B(){ut.save(),ut.translate(ht.left,ht.top),ut.fillStyle=ot(st.grid.backgroundColor,vt,0,"rgba(255, 255, 255, 0)"),ut.fillRect(0,0,yt,vt),ut.restore()}function I(){var t;ut.save(),ut.translate(ht.left,ht.top);var n=st.grid.markings;if(n){if(e.isFunction(n)){var i=xt.getAxes();i.xmin=i.xaxis.min,i.xmax=i.xaxis.max,i.ymin=i.yaxis.min,i.ymax=i.yaxis.max,n=n(i)}for(t=0;t<n.length;++t){var o=n[t],r=H(o,"x"),s=H(o,"y");null==r.from&&(r.from=r.axis.min),null==r.to&&(r.to=r.axis.max),null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),r.to<r.axis.min||r.from>r.axis.max||s.to<s.axis.min||s.from>s.axis.max||(r.from=Math.max(r.from,r.axis.min),r.to=Math.min(r.to,r.axis.max),s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),(r.from!=r.to||s.from!=s.to)&&(r.from=r.axis.p2c(r.from),r.to=r.axis.p2c(r.to),s.from=s.axis.p2c(s.from),s.to=s.axis.p2c(s.to),r.from==r.to||s.from==s.to?(ut.beginPath(),ut.strokeStyle=o.color||st.grid.markingsColor,ut.lineWidth=o.lineWidth||st.grid.markingsLineWidth,ut.moveTo(r.from,s.from),ut.lineTo(r.to,s.to),ut.stroke()):(ut.fillStyle=o.color||st.grid.markingsColor,ut.fillRect(r.from,s.to,r.to-r.from,s.from-s.to))))}}for(var i=p(),a=st.grid.borderWidth,l=0;l<i.length;++l){var c,u,d,f,h=i[l],m=h.box,g=h.tickLength;if(h.show&&0!=h.ticks.length){for(ut.strokeStyle=h.options.tickColor||e.color.parse(h.options.color).scale("a",.22).toString(),ut.lineWidth=1,"x"==h.direction?(c=0,u="full"==g?"top"==h.position?0:vt:m.top-ht.top+("top"==h.position?m.height:0)):(u=0,c="full"==g?"left"==h.position?0:yt:m.left-ht.left+("left"==h.position?m.width:0)),h.innermost||(ut.beginPath(),d=f=0,"x"==h.direction?d=yt:f=vt,1==ut.lineWidth&&(c=Math.floor(c)+.5,u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+d,u+f),ut.stroke()),ut.beginPath(),t=0;t<h.ticks.length;++t){var y=h.ticks[t].v;d=f=0,y<h.min||y>h.max||"full"==g&&a>0&&(y==h.min||y==h.max)||("x"==h.direction?(c=h.p2c(y),f="full"==g?-vt:g,"top"==h.position&&(f=-f)):(u=h.p2c(y),d="full"==g?-yt:g,"left"==h.position&&(d=-d)),1==ut.lineWidth&&("x"==h.direction?c=Math.floor(c)+.5:u=Math.floor(u)+.5),ut.moveTo(c,u),ut.lineTo(c+d,u+f))}ut.stroke()}}a&&(ut.lineWidth=a,ut.strokeStyle=st.grid.borderColor,ut.strokeRect(-a/2,-a/2,yt+a,vt+a)),ut.restore()}function R(){t.find(".tickLabels").remove();for(var e=['<div class="tickLabels" style="font-size:smaller">'],n=p(),i=0;i<n.length;++i){var o=n[i],r=o.box;if(o.show){e.push('<div class="'+o.direction+"Axis "+o.direction+o.n+'Axis" style="color:'+o.options.color+'">');for(var s=0;s<o.ticks.length;++s){var a=o.ticks[s];if(!(!a.label||a.v<o.min||a.v>o.max)){var l,c={};"x"==o.direction?(l="center",c.left=Math.round(ht.left+o.p2c(a.v)-o.labelWidth/2),"bottom"==o.position?c.top=r.top+r.padding:c.bottom=gt-(r.top+r.height-r.padding)):(c.top=Math.round(ht.top+o.p2c(a.v)-o.labelHeight/2),"left"==o.position?(c.right=mt-(r.left+r.width-r.padding),l="right"):(c.left=r.left+r.padding,l="left")),c.width=o.labelWidth;var u=["position:absolute","text-align:"+l];for(var d in c)u.push(d+":"+c[d]+"px");e.push('<div class="tickLabel" style="'+u.join(";")+'">'+a.label+"</div>")}}e.push("</div>")}}e.push("</div>"),t.append(e.join(""))}function F(e){e.lines.show&&j(e),e.bars.show&&q(e),e.points.show&&W(e)}function j(e){function t(e,t,n,i,o){var r=e.points,s=e.pointsize,a=null,l=null;ut.beginPath();for(var c=s;c<r.length;c+=s){var u=r[c-s],d=r[c-s+1],f=r[c],p=r[c+1];if(null!=u&&null!=f){if(p>=d&&d<o.min){if(p<o.min)continue;u=(o.min-d)/(p-d)*(f-u)+u,d=o.min}else if(d>=p&&p<o.min){if(d<o.min)continue;f=(o.min-d)/(p-d)*(f-u)+u,p=o.min}if(d>=p&&d>o.max){if(p>o.max)continue;u=(o.max-d)/(p-d)*(f-u)+u,d=o.max}else if(p>=d&&p>o.max){if(d>o.max)continue;f=(o.max-d)/(p-d)*(f-u)+u,p=o.max}if(f>=u&&u<i.min){if(f<i.min)continue;d=(i.min-u)/(f-u)*(p-d)+d,u=i.min}else if(u>=f&&f<i.min){if(u<i.min)continue;p=(i.min-u)/(f-u)*(p-d)+d,f=i.min}if(u>=f&&u>i.max){if(f>i.max)continue;d=(i.max-u)/(f-u)*(p-d)+d,u=i.max}else if(f>=u&&f>i.max){if(u>i.max)continue;p=(i.max-u)/(f-u)*(p-d)+d,f=i.max}(u!=a||d!=l)&&ut.moveTo(i.p2c(u)+t,o.p2c(d)+n),a=f,l=p,ut.lineTo(i.p2c(f)+t,o.p2c(p)+n)}}ut.stroke()}function n(e,t,n){for(var i=e.points,o=e.pointsize,r=Math.min(Math.max(0,n.min),n.max),s=0,a=!1,l=1,c=0,u=0;;){if(o>0&&s>i.length+o)break;s+=o;var d=i[s-o],f=i[s-o+l],p=i[s],h=i[s+l];if(a){if(o>0&&null!=d&&null==p){u=s,o=-o,l=2;continue}if(0>o&&s==c+o){ut.fill(),a=!1,o=-o,l=1,s=c=u+o;continue}}if(null!=d&&null!=p){if(p>=d&&d<t.min){if(p<t.min)continue;f=(t.min-d)/(p-d)*(h-f)+f,d=t.min}else if(d>=p&&p<t.min){if(d<t.min)continue;h=(t.min-d)/(p-d)*(h-f)+f,p=t.min}if(d>=p&&d>t.max){if(p>t.max)continue;f=(t.max-d)/(p-d)*(h-f)+f,d=t.max}else if(p>=d&&p>t.max){if(d>t.max)continue;h=(t.max-d)/(p-d)*(h-f)+f,p=t.max}if(a||(ut.beginPath(),ut.moveTo(t.p2c(d),n.p2c(r)),a=!0),f>=n.max&&h>=n.max)ut.lineTo(t.p2c(d),n.p2c(n.max)),ut.lineTo(t.p2c(p),n.p2c(n.max));else if(f<=n.min&&h<=n.min)ut.lineTo(t.p2c(d),n.p2c(n.min)),ut.lineTo(t.p2c(p),n.p2c(n.min));else{var m=d,g=p;h>=f&&f<n.min&&h>=n.min?(d=(n.min-f)/(h-f)*(p-d)+d,f=n.min):f>=h&&h<n.min&&f>=n.min&&(p=(n.min-f)/(h-f)*(p-d)+d,h=n.min),f>=h&&f>n.max&&h<=n.max?(d=(n.max-f)/(h-f)*(p-d)+d,f=n.max):h>=f&&h>n.max&&f<=n.max&&(p=(n.max-f)/(h-f)*(p-d)+d,h=n.max),d!=m&&ut.lineTo(t.p2c(m),n.p2c(f)),ut.lineTo(t.p2c(d),n.p2c(f)),ut.lineTo(t.p2c(p),n.p2c(h)),p!=g&&(ut.lineTo(t.p2c(p),n.p2c(h)),ut.lineTo(t.p2c(g),n.p2c(h)))}}}}ut.save(),ut.translate(ht.left,ht.top),ut.lineJoin="round";var i=e.lines.lineWidth,o=e.shadowSize;if(i>0&&o>0){ut.lineWidth=o,ut.strokeStyle="rgba(0,0,0,0.1)";var r=Math.PI/18;t(e.datapoints,Math.sin(r)*(i/2+o/2),Math.cos(r)*(i/2+o/2),e.xaxis,e.yaxis),ut.lineWidth=o/2,t(e.datapoints,Math.sin(r)*(i/2+o/4),Math.cos(r)*(i/2+o/4),e.xaxis,e.yaxis)}ut.lineWidth=i,ut.strokeStyle=e.color;var s=Y(e.lines,e.color,0,vt);s&&(ut.fillStyle=s,n(e.datapoints,e.xaxis,e.yaxis)),i>0&&t(e.datapoints,0,0,e.xaxis,e.yaxis),ut.restore()}function W(e){function t(e,t,n,i,o,r,s,a){for(var l=e.points,c=e.pointsize,u=0;u<l.length;u+=c){var d=l[u],f=l[u+1];null==d||d<r.min||d>r.max||f<s.min||f>s.max||(ut.beginPath(),d=r.p2c(d),f=s.p2c(f)+i,"circle"==a?ut.arc(d,f,t,0,o?Math.PI:2*Math.PI,!1):a(ut,d,f,t,o),ut.closePath(),n&&(ut.fillStyle=n,ut.fill()),ut.stroke())}}ut.save(),ut.translate(ht.left,ht.top);var n=e.points.lineWidth,i=e.shadowSize,o=e.points.radius,r=e.points.symbol;if(n>0&&i>0){var s=i/2;ut.lineWidth=s,ut.strokeStyle="rgba(0,0,0,0.1)",t(e.datapoints,o,null,s+s/2,!0,e.xaxis,e.yaxis,r),ut.strokeStyle="rgba(0,0,0,0.2)",t(e.datapoints,o,null,s/2,!0,e.xaxis,e.yaxis,r)}ut.lineWidth=n,ut.strokeStyle=e.color,t(e.datapoints,o,Y(e.points,e.color),0,!1,e.xaxis,e.yaxis,r),ut.restore()}function z(e,t,n,i,o,r,s,a,l,c,u,d){var f,p,h,m,g,y,v,b,x;u?(b=y=v=!0,g=!1,f=n,p=e,m=t+i,h=t+o,f>p&&(x=p,p=f,f=x,g=!0,y=!1)):(g=y=v=!0,b=!1,f=e+i,p=e+o,h=n,m=t,h>m&&(x=m,m=h,h=x,b=!0,v=!1)),p<a.min||f>a.max||m<l.min||h>l.max||(f<a.min&&(f=a.min,g=!1),p>a.max&&(p=a.max,y=!1),h<l.min&&(h=l.min,b=!1),m>l.max&&(m=l.max,v=!1),f=a.p2c(f),h=l.p2c(h),p=a.p2c(p),m=l.p2c(m),s&&(c.beginPath(),c.moveTo(f,h),c.lineTo(f,m),c.lineTo(p,m),c.lineTo(p,h),c.fillStyle=s(h,m),c.fill()),d>0&&(g||y||v||b)&&(c.beginPath(),c.moveTo(f,h+r),g?c.lineTo(f,m+r):c.moveTo(f,m+r),v?c.lineTo(p,m+r):c.moveTo(p,m+r),y?c.lineTo(p,h+r):c.moveTo(p,h+r),b?c.lineTo(f,h+r):c.moveTo(f,h+r),c.stroke()))}function q(e){function t(t,n,i,o,r,s,a){for(var l=t.points,c=t.pointsize,u=0;u<l.length;u+=c)null!=l[u]&&z(l[u],l[u+1],l[u+2],n,i,o,r,s,a,ut,e.bars.horizontal,e.bars.lineWidth)}ut.save(),ut.translate(ht.left,ht.top),ut.lineWidth=e.bars.lineWidth,ut.strokeStyle=e.color;var n="left"==e.bars.align?0:-e.bars.barWidth/2,i=e.bars.fill?function(t,n){return Y(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,0,i,e.xaxis,e.yaxis),ut.restore()}function Y(t,n,i,o){var r=t.fill;if(!r)return null;if(t.fillColor)return ot(t.fillColor,i,o,n);var s=e.color.parse(n);return s.a="number"==typeof r?r:.4,s.normalize(),s.toString()}function U(){if(t.find(".legend").remove(),st.legend.show){for(var n,i,o=[],r=!1,s=st.legend.labelFormatter,a=0;a<rt.length;++a)n=rt[a],i=n.label,i&&(0==a%st.legend.noColumns&&(r&&o.push("</tr>"),o.push("<tr>"),r=!0),s&&(i=s(i,n)),o.push('<td class="legendColorBox"><div style="border:1px solid '+st.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+n.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+i+"</td>"));if(r&&o.push("</tr>"),0!=o.length){var l='<table style="font-size:smaller;color:'+st.grid.color+'">'+o.join("")+"</table>";if(null!=st.legend.container)e(st.legend.container).html(l);else{var c="",u=st.legend.position,d=st.legend.margin;null==d[0]&&(d=[d,d]),"n"==u.charAt(0)?c+="top:"+(d[1]+ht.top)+"px;":"s"==u.charAt(0)&&(c+="bottom:"+(d[1]+ht.bottom)+"px;"),"e"==u.charAt(1)?c+="right:"+(d[0]+ht.right)+"px;":"w"==u.charAt(1)&&(c+="left:"+(d[0]+ht.left)+"px;");var f=e('<div class="legend">'+l.replace('style="','style="position:absolute;'+c+";")+"</div>").appendTo(t);if(0!=st.legend.backgroundOpacity){var p=st.legend.backgroundColor;null==p&&(p=st.grid.backgroundColor,p=p&&"string"==typeof p?e.color.parse(p):e.color.extract(f,"background-color"),p.a=1,p=p.toString());var h=f.children();e('<div style="position:absolute;width:'+h.width()+"px;height:"+h.height()+"px;"+c+"background-color:"+p+';"> </div>').prependTo(f).css("opacity",st.legend.backgroundOpacity)}}}}}function $(e,t,n){var i,o,r=st.grid.mouseActiveRadius,s=r*r+1,a=null;for(i=rt.length-1;i>=0;--i)if(n(rt[i])){var l=rt[i],c=l.xaxis,u=l.yaxis,d=l.datapoints.points,f=l.datapoints.pointsize,p=c.c2p(e),h=u.c2p(t),m=r/c.scale,g=r/u.scale;if(c.options.inverseTransform&&(m=Number.MAX_VALUE),u.options.inverseTransform&&(g=Number.MAX_VALUE),l.lines.show||l.points.show)for(o=0;o<d.length;o+=f){var y=d[o],v=d[o+1];if(null!=y&&!(y-p>m||-m>y-p||v-h>g||-g>v-h)){var b=Math.abs(c.p2c(y)-e),x=Math.abs(u.p2c(v)-t),w=b*b+x*x;s>w&&(s=w,a=[i,o/f])}}if(l.bars.show&&!a){var k="left"==l.bars.align?0:-l.bars.barWidth/2,_=k+l.bars.barWidth;for(o=0;o<d.length;o+=f){var y=d[o],v=d[o+1],T=d[o+2];null!=y&&(rt[i].bars.horizontal?p<=Math.max(T,y)&&p>=Math.min(T,y)&&h>=v+k&&v+_>=h:p>=y+k&&y+_>=p&&h>=Math.min(T,v)&&h<=Math.max(T,v))&&(a=[i,o/f])}}}return a?(i=a[0],o=a[1],f=rt[i].datapoints.pointsize,{datapoint:rt[i].datapoints.points.slice(o*f,(o+1)*f),dataIndex:o,series:rt[i],seriesIndex:i}):null}function V(e){st.grid.hoverable&&Q("plothover",e,function(e){return 0!=e.hoverable})}function X(e){st.grid.hoverable&&Q("plothover",e,function(){return!1})}function G(e){Q("plotclick",e,function(e){return 0!=e.clickable})}function Q(e,n,i){var o=ct.offset(),r=n.pageX-o.left-ht.left,s=n.pageY-o.top-ht.top,a=h({left:r,top:s});a.pageX=n.pageX,a.pageY=n.pageY;var l=$(r,s,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+o.left+ht.left),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+o.top+ht.top)),st.grid.autoHighlight){for(var c=0;c<wt.length;++c){var u=wt[c];u.auto!=e||l&&u.series==l.series&&u.point[0]==l.datapoint[0]&&u.point[1]==l.datapoint[1]||et(u.series,u.point)}l&&K(l.series,l.datapoint,e)}t.trigger(e,[a,l])}function J(){kt||(kt=setTimeout(Z,30))}function Z(){kt=null,dt.save(),dt.clearRect(0,0,mt,gt),dt.translate(ht.left,ht.top);var e,t;for(e=0;e<wt.length;++e)t=wt[e],t.series.bars.show?it(t.series,t.point):nt(t.series,t.point);dt.restore(),a(bt.drawOverlay,[dt])}function K(e,t,n){if("number"==typeof e&&(e=rt[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var o=tt(e,t);-1==o?(wt.push({series:e,point:t,auto:n}),J()):n||(wt[o].auto=!1)}function et(e,t){null==e&&null==t&&(wt=[],J()),"number"==typeof e&&(e=rt[e]),"number"==typeof t&&(t=e.data[t]);var n=tt(e,t);-1!=n&&(wt.splice(n,1),J())}function tt(e,t){for(var n=0;n<wt.length;++n){var i=wt[n];if(i.series==e&&i.point[0]==t[0]&&i.point[1]==t[1])return n}return-1}function nt(t,n){var i=n[0],o=n[1],r=t.xaxis,s=t.yaxis;if(!(i<r.min||i>r.max||o<s.min||o>s.max)){var a=t.points.radius+t.points.lineWidth/2;dt.lineWidth=a,dt.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var l=1.5*a,i=r.p2c(i),o=s.p2c(o);dt.beginPath(),"circle"==t.points.symbol?dt.arc(i,o,l,0,2*Math.PI,!1):t.points.symbol(dt,i,o,l,!1),dt.closePath(),dt.stroke()}}function it(t,n){dt.lineWidth=t.bars.lineWidth,dt.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var i=e.color.parse(t.color).scale("a",.5).toString(),o="left"==t.bars.align?0:-t.bars.barWidth/2;z(n[0],n[1],n[2]||0,o,o+t.bars.barWidth,0,function(){return i},t.xaxis,t.yaxis,dt,t.bars.horizontal,t.bars.lineWidth)}function ot(t,n,i,o){if("string"==typeof t)return t;for(var r=ut.createLinearGradient(0,i,0,n),s=0,a=t.colors.length;a>s;++s){var l=t.colors[s];if("string"!=typeof l){var c=e.color.parse(o);null!=l.brightness&&(c=c.scale("rgb",l.brightness)),null!=l.opacity&&(c.a*=l.opacity),l=c.toString()}r.addColorStop(s/(a-1),l)}return r}var rt=[],st={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},at=null,lt=null,ct=null,ut=null,dt=null,ft=[],pt=[],ht={left:0,right:0,top:0,bottom:0},mt=0,gt=0,yt=0,vt=0,bt={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},xt=this;xt.setData=u,xt.setupGrid=D,xt.draw=P,xt.getPlaceholder=function(){return t},xt.getCanvas=function(){return at},xt.getPlotOffset=function(){return ht},xt.width=function(){return yt},xt.height=function(){return vt},xt.offset=function(){var e=ct.offset();return e.left+=ht.left,e.top+=ht.top,e},xt.getData=function(){return rt},xt.getAxes=function(){var t={};return e.each(ft.concat(pt),function(e,n){n&&(t[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),t},xt.getXAxes=function(){return ft},xt.getYAxes=function(){return pt},xt.c2p=h,xt.p2c=m,xt.getOptions=function(){return st},xt.highlight=K,xt.unhighlight=et,xt.triggerRedrawOverlay=J,xt.pointOffset=function(e){return{left:parseInt(ft[f(e,"x")-1].p2c(+e.x)+ht.left),top:parseInt(pt[f(e,"y")-1].p2c(+e.y)+ht.top)}},xt.shutdown=T,xt.resize=function(){x(),w(at),w(lt)},xt.hooks=bt,l(xt),c(r),k(),u(o),D(),P(),_();var wt=[],kt=null}function n(e,t){return t*Math.floor(e/t)}e.plot=function(n,i,o){var r=new t(e(n),i,o,e.plot.plugins);return r},e.plot.version="0.7",e.plot.plugins=[],e.plot.formatDate=function(e,t,n){var i=function(e){return e=""+e,1==e.length?"0"+e:e},o=[],r=!1,s=!1,a=e.getUTCHours(),l=12>a;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),-1!=t.search(/%p|%P/)&&(a>12?a-=12:0==a&&(a=12));for(var c=0;c<t.length;++c){var u=t.charAt(c);if(r){switch(u){case"h":u=""+a;break;case"H":u=i(a);break;case"M":u=i(e.getUTCMinutes());break;case"S":u=i(e.getUTCSeconds());break;case"d":u=""+e.getUTCDate();break;case"m":u=""+(e.getUTCMonth()+1);break;case"y":u=""+e.getUTCFullYear();break;case"b":u=""+n[e.getUTCMonth()];break;case"p":u=l?"am":"pm";break;case"P":u=l?"AM":"PM";break;case"0":u="",s=!0}u&&s&&(u=i(u),s=!1),o.push(u),s||(r=!1)}else"%"==u?r=!0:o.push(u)}return o.join("")}}(jQuery),!function(e,t,n){function i(e){var t={},i=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!i.test(n.name)&&(t[n.name]=n.value)}),t}function o(e,i){var o=this,r=n(o);if(o.value==r.attr("placeholder")&&r.hasClass("placeholder"))if(r.data("placeholder-password")){if(r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id")),e===!0)return r[0].value=i;r.focus()}else o.value="",r.removeClass("placeholder"),o==t.activeElement&&o.select()}function r(){var e,t=this,r=n(t),s=this.id;if(""==t.value){if("password"==t.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(a){e=n("<input>").attr(n.extend(i(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":s}).bind("focus.placeholder",o),r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var s,a,l="placeholder"in t.createElement("input"),c="placeholder"in t.createElement("textarea"),u=n.fn,d=n.valHooks,f=n.propHooks;l&&c?(a=u.placeholder=function(){return this},a.input=a.textarea=!0):(a=u.placeholder=function(){var e=this;return e.filter((l?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":o,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},a.input=l,a.textarea=c,s={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,i){var s=n(e),a=s.data("placeholder-password");return a?a[0].value=i:s.data("placeholder-enabled")?(""==i?(e.value=i,e!=t.activeElement&&r.call(e)):s.hasClass("placeholder")?o.call(e,!0,i)||(e.value=i):e.value=i,s):e.value=i}},l||(d.input=s,f.value=s),c||(d.textarea=s,f.value=s),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(o);setTimeout(function(){e.each(r)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),!function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n),i[0].className="tipsy",i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var o,r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),s=i[0].offsetWidth,a=i[0].offsetHeight,l=t(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":o={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-s/2};break;case"s":o={top:r.top-a-this.options.offset,left:r.left+r.width/2-s/2};break;case"e":o={top:r.top+r.height/2-a/2,left:r.left-s-this.options.offset};break;case"w":o={top:r.top+r.height/2-a/2,left:r.left+r.width+this.options.offset}}2==l.length&&(o.left="w"==l.charAt(1)?r.left+r.width/2-15:r.left+r.width/2-s+15),i.css(o).addClass("tipsy-"+l),i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&i.addClass(t(this.options.className,this.$element[0])),this.options.fade?i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):i.css({visibility:"visible",opacity:this.options.opacity})
}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var o=e.data(n,"tipsy");return o||(o=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",o)),o}function o(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function r(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"==e.hoverState&&e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if("string"==typeof t){var s=this.data("tipsy");return s&&s[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var a=t.live?"live":"bind",l="hover"==t.trigger?"mouseenter":"focus",c="hover"==t.trigger?"mouseleave":"blur";this[a](l,o)[a](c,r)}return this},e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},o=e(document).scrollTop()+t,r=e(document).scrollLeft()+t,s=e(this);return s.offset().top<o&&(i.ns="n"),s.offset().left<r&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-s.offset().left<t&&(i.ew="e"),e(window).height()+e(document).scrollTop()-s.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),!function(e,t,n){"use strict";var i={html:'<!DOCTYPE html><html><head><style>.ie * {min-height: auto !important}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" value="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" value="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" value="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'},o=function(t,n,o){var r=i[t];return e.each(n,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","g"),t)}),o&&(r=e(r)),r};e.sceditor=function(i,r){var s,a,l,c,u,d,f,p,h,m,g,y,v,b,x,w,k,_,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q,J,Z,K,et,tt,nt,it,ot,rt,st=this,at=i.get?i.get(0):i,lt=e(at),ct=[],ut=[],dt=[],ft=[],pt={},ht=[];st.commands=e.extend(!0,{},r.commands||e.sceditor.commands),st.opts=r=e.extend({},e.sceditor.defaultOptions,r),S=function(){lt.data("sceditor",st),e.each(r,function(t,n){e.isPlainObject(n)&&(r[t]=e.extend(!0,{},n))}),r.locale&&"en"!==r.locale&&N(),s=e('<div class="sceditor-container" />').insertAfter(lt).css("z-index",r.zIndex),e.sceditor.ie&&s.addClass("ie ie"+e.sceditor.ie),T=!!lt.attr("required"),lt.removeAttr("required"),A(),R(),L(),O(),B(),P(),H(),e.sceditor.isWysiwygSupported||st.toggleSourceMode();var i=function(){e(t).unbind("load",i),r.autofocus&&nt(),r.autoExpand&&st.expandToContent(),G()};e(t).load(i),n.readyState&&"complete"===n.readyState&&i(),J(),b.call("ready")},A=function(){var t=r.plugins;t=t?t.toString().split(","):[],b=new e.sceditor.PluginManager(st),e.each(t,function(t,n){b.register(e.trim(n))})},N=function(){var t;e.sceditor.locale[r.locale]?g=e.sceditor.locale[r.locale]:(t=r.locale.split("-"),e.sceditor.locale[t[0]]&&(g=e.sceditor.locale[t[0]])),g&&g.dateFormat&&(r.dateFormat=g.dateFormat)},O=function(){var n,i;f=e("<textarea></textarea>").hide(),l=e('<iframe frameborder="0"></iframe>'),r.spellcheck||f.attr("spellcheck","false"),"https:"===t.location.protocol&&l.attr("src","javascript:false"),s.append(l).append(f),c=l[0],p=f[0],st.width(r.width||lt.width()),st.height(r.height||lt.height()),n=F(),n.open(),n.write(o("html",{spellcheck:r.spellcheck?"":'spellcheck="false"',charset:r.charset,style:r.style})),n.close(),d=e(n),u=e(n.body),st.readOnly(!!r.readOnly),e.sceditor.ie&&d.find("html").addClass("ie ie"+e.sceditor.ie),(e.sceditor.ios||e.sceditor.ie)&&(u.height("100%"),e.sceditor.ie||u.bind("touchend",st.focus)),y=new e.sceditor.rangeHelper(c.contentWindow),st.val(lt.hide().val()),i=lt.attr("tabindex"),f.attr("tabindex",i),l.attr("tabindex",i)},P=function(){r.autoUpdate&&(u.bind("blur",st.updateOriginal),f.bind("blur",st.updateOriginal)),null===r.rtl&&(r.rtl="rtl"===f.css("direction")),st.rtl(!!r.rtl),r.autoExpand&&d.bind("keyup",st.expandToContent),r.resizeEnabled&&I(),s.attr("id",r.id),st.emoticons(r.emoticonsEnabled)},H=function(){e(n).click(X),e(at.form).bind("reset",U).submit(st.updateOriginal),e(t).bind("resize orientationChanged",G),u.keypress(Y).keydown(z).keydown(q).keyup(K).bind("paste",j).bind(e.sceditor.ie?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",et).bind("keydown keyup keypress focus blur contextmenu",V),r.emoticonsCompat&&t.getSelection&&u.keyup(ot),f.bind("keydown keyup keypress focus blur contextmenu",V).keydown(z),d.keypress(Y).mousedown($).bind(e.sceditor.ie?"selectionchange":"focus blur contextmenu mouseup click",et).bind("beforedeactivate keyup",D).keyup(K).focus(function(){m=null}),s.bind("selectionchanged",tt).bind("selectionchanged",J).bind("selectionchanged",V).bind("nodechanged",V)},L=function(){var t,n,i=(r.toolbarExclude||"").split(","),l=r.toolbar.split("|");a=e('<div class="sceditor-toolbar" unselectable="on" />'),e.each(l,function(r,s){t=e('<div class="sceditor-group" />'),e.each(s.split(","),function(r,s){!st.commands[s]||e.inArray(s,i)>-1||(n=o("toolbarButton",{name:s,dispName:st._(st.commands[s].tooltip||s)},!0),n.data("sceditor-txtmode",!!st.commands[s].txtExec),n.data("sceditor-wysiwygmode",!!st.commands[s].exec),n.click(function(){var t=e(this);return t.hasClass("disabled")||E(t,st.commands[s]),J(),!1}),st.commands[s].tooltip&&n.attr("title",st._(st.commands[s].tooltip)),st.commands[s].exec||n.addClass("disabled"),st.commands[s].shortcut&&st.addShortcut(st.commands[s].shortcut,s),t.append(n))}),t[0].firstChild&&a.append(t)}),e(r.toolbarContainer||s).append(a)},B=function(){e.each(st.commands,function(t,n){n.keyPress&&ct.push(n.keyPress),n.forceNewLineAfter&&e.isArray(n.forceNewLineAfter)&&(dt=e.merge(dt,n.forceNewLineAfter)),n.state?ft.push({name:t,state:n.state}):"string"==typeof n.exec&&ft.push({name:t,state:n.exec})}),K()},I=function(){var i,o,a,l,c,u,d=e('<div class="sceditor-grip" />'),f=e('<div class="sceditor-resize-cover" />'),p=0,h=0,m=0,g=0,y=s.width(),v=s.height(),b=!1,x=st.rtl();i=r.resizeMinHeight||v/1.5,o=r.resizeMaxHeight||2.5*v,a=r.resizeMinWidth||y/1.25,l=r.resizeMaxWidth||1.25*y,c=function(n){"touchmove"===n.type&&(n=t.event);var c=g+(n.pageY-h),u=x?m-(n.pageX-p):m+(n.pageX-p);l>0&&u>l&&(u=l),o>0&&c>o&&(c=o),(!r.resizeWidth||a>u||l>0&&u>l)&&(u=!1),(!r.resizeHeight||i>c||o>0&&c>o)&&(c=!1),(u||c)&&(st.dimensions(u,c),e.sceditor.ie<7&&s.height(c)),n.preventDefault()},u=function(t){b&&(b=!1,f.hide(),s.removeClass("resizing").height("auto"),e(n).unbind("touchmove mousemove",c),e(n).unbind("touchend mouseup",u),t.preventDefault())},s.append(d),s.append(f.hide()),d.bind("touchstart mousedown",function(i){"touchstart"===i.type&&(i=t.event),p=i.pageX,h=i.pageY,m=s.width(),g=s.height(),b=!0,s.addClass("resizing"),f.show(),e(n).bind("touchmove mousemove",c),e(n).bind("touchend mouseup",u),e.sceditor.ie<7&&s.height(g),i.preventDefault()})},R=function(){var t,i=r.emoticons,o=r.emoticonsRoot;e.isPlainObject(i)&&r.emoticonsEnabled&&e.each(i,function(r,s){e.each(s,function(e,s){o&&(s={url:o+(s.url||s),tooltip:s.tooltip||e},i[r][e]=s),t=n.createElement("img"),t.src=s.url||s,ut.push(t)})})},nt=function(){var t,n,i,o=d[0],a=u[0],l=!!r.autofocusEnd;if(s.is(":visible")){if(st.sourceMode())i=p.value.length,p.setSelectionRange?p.setSelectionRange(i,i):p.createTextRange&&(t=p.createTextRange(),t.moveEnd("character",i),t.moveStart("character",i),y.selectRange(t));else{if(e.sceditor.dom.removeWhiteSpace(a),l)for((n=a.lastChild)||u.append(n=o.createElement("div"));n.lastChild;)n=n.lastChild,/br/i.test(n.nodeName)&&n.previousSibling&&(n=n.previousSibling);else n=a.firstChild;o.createRange?(t=o.createRange(),/br/i.test(n.nodeName)?t.setStartBefore(n):t.selectNodeContents(n),t.collapse(!1)):(t=a.createTextRange(),t.moveToElementText(3!==n.nodeType?n:n.parentNode),t.collapse(!1)),y.selectRange(t),l&&(d.scrollTop(a.scrollHeight),u.scrollTop(a.scrollHeight))}st.focus()}},st.readOnly=function(e){return"boolean"!=typeof e?"readonly"===f.attr("readonly"):(u[0].contentEditable=!e,e?f.attr("readonly","readonly"):f.removeAttr("readonly"),Q(e),this)},st.rtl=function(e){var t=e?"rtl":"ltr";return"boolean"!=typeof e?"rtl"===f.attr("dir"):(u.attr("dir",t),f.attr("dir",t),s.removeClass("rtl").removeClass("ltr").addClass(t),this)},Q=function(t){var n=st.inSourceMode();a.find(".sceditor-button").removeClass("disabled").each(function(){var i=e(this);t===!0||n&&!i.data("sceditor-txtmode")?i.addClass("disabled"):n||i.data("sceditor-wysiwygmode")||i.addClass("disabled")})},st.width=function(e,t){return e||0===e?(st.dimensions(e,null,t),this):s.width()},st.dimensions=function(t,i,o){var c=e.sceditor.ie<8||n.documentMode<8?2:0;return t=t||0===t?t:!1,i=i||0===i?i:!1,t===!1&&i===!1?{width:st.width(),height:st.height()}:("undefined"==typeof l.data("outerWidthOffset")&&st.updateStyleCache(),t!==!1&&(o!==!1&&(r.width=t),i===!1&&(i=s.height(),o=!1),s.width(t),t&&t.toString().indexOf("%")>-1&&(t=s.width()),l.width(t-l.data("outerWidthOffset")),f.width(t-f.data("outerWidthOffset")),e.sceditor.ios&&u&&u.width(t-l.data("outerWidthOffset")-(u.outerWidth(!0)-u.width()))),i!==!1&&(o!==!1&&(r.height=i),i&&i.toString().indexOf("%")>-1&&(i=s.height(i).height(),s.height("auto")),i-=r.toolbarContainer?0:a.outerHeight(!0),l.height(i-l.data("outerHeightOffset")),f.height(i-c-f.data("outerHeightOffset"))),this)},st.updateStyleCache=function(){l.data("outerWidthOffset",l.outerWidth(!0)-l.width()),f.data("outerWidthOffset",f.outerWidth(!0)-f.width()),l.data("outerHeightOffset",l.outerHeight(!0)-l.height()),f.data("outerHeightOffset",f.outerHeight(!0)-f.height())},st.height=function(e,t){return e||0===e?(st.dimensions(null,e,t),this):s.height()},st.maximize=function(t){return"undefined"==typeof t?s.is(".sceditor-maximize"):(t=!!t,e.sceditor.ie<7&&e("html, body").toggleClass("sceditor-maximize",t),s.toggleClass("sceditor-maximize",t),st.width(t?"100%":r.width,!1),st.height(t?"100%":r.height,!1),this)},st.expandToContent=function(e){var t=s.height(),n=u[0].scrollHeight||d[0].documentElement.scrollHeight,i=t-l.height(),o=r.resizeMaxHeight||2*(r.height||lt.height());n+=i,e!==!0&&n>o&&(n=o),n>t&&st.height(n)},st.destroy=function(){b.destroy(),y=null,m=null,b=null,e(n).unbind("click",X),e(t).unbind("resize orientationChanged",G),e(at.form).unbind("reset",U).unbind("submit",st.updateOriginal),u.unbind(),d.unbind().find("*").remove(),f.unbind().remove(),a.remove(),s.unbind().find("*").unbind().remove(),s.remove(),lt.removeData("sceditor").removeData("sceditorbbcode").show(),T&&lt.attr("required","required")},st.createDropDown=function(t,n,i,o){var s,a=h&&h.is(".sceditor-"+n);st.closeDropDown(),a||(o!==!1&&e(i).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),s={top:t.offset().top,left:t.offset().left,marginTop:t.outerHeight()},e.extend(s,r.dropDownCss),h=e('<div class="sceditor-dropdown sceditor-'+n+'" />').css(s).append(i).appendTo(e("body")).click(function(e){e.stopPropagation()}))},X=function(e){3!==e.which&&st.closeDropDown()},j=function(e){var t,i,o=u[0],s=d[0],a=0,l=n.createElement("div"),c=s.createDocumentFragment();if(r.disablePasting)return!1;if(r.enablePasteFiltering){if(y.saveRange(),n.body.appendChild(l),e&&e.clipboardData&&e.clipboardData.getData&&((t=e.clipboardData.getData("text/html"))||(t=e.clipboardData.getData("text/plain"))))return l.innerHTML=t,W(o,l),!1;for(;o.firstChild;)c.appendChild(o.firstChild);return i=function(e,t){if(e.childNodes.length>0){for(;e.firstChild;)t.appendChild(e.firstChild);for(;c.firstChild;)e.appendChild(c.firstChild);W(e,t)}else{if(a>25){for(;c.firstChild;)e.appendChild(c.firstChild);return y.restoreRange(),void 0}++a,setTimeout(function(){i(e,t)},20)}},i(o,l),st.focus(),!0}},W=function(t,n){e.sceditor.dom.fixNesting(n);var i=n.innerHTML;b.hasHandler("toSource")&&(i=b.callOnlyFirst("toSource",i,e(n))),n.parentNode.removeChild(n),b.hasHandler("toWysiwyg")&&(i=b.callOnlyFirst("toWysiwyg",i,!0)),y.restoreRange(),st.wysiwygEditorInsertHtml(i,null,!0)},st.closeDropDown=function(e){h&&(h.unbind().remove(),h=null),e===!0&&st.focus()},F=function(){return c.contentDocument?c.contentDocument:c.contentWindow&&c.contentWindow.document?c.contentWindow.document:c.document?c.document:null},st.wysiwygEditorInsertHtml=function(t,n,i){var o,r,s='<span id="sceditor-cursor">&nbsp;</span>';st.focus(),(i||!e(w).is("code")&&0===e(w).parents("code").length)&&(n?n+=s:t+=s,y.insertHTML(t,n),r=u.find("#sceditor-cursor"),o=r.offset().top+2*r.outerHeight(!0)-l.height(),r.remove(),d.scrollTop(o),u.scrollTop(o),y.saveRange(),M(u[0]),y.restoreRange(),K())},st.wysiwygEditorInsertText=function(t,n){st.wysiwygEditorInsertHtml(e.sceditor.escapeEntities(t),e.sceditor.escapeEntities(n))},st.insertText=function(e,t){return st.inSourceMode()?st.sourceEditorInsertText(e,t):st.wysiwygEditorInsertText(e,t),this},st.sourceEditorInsertText=function(e,t){var i,o,r,s,a;a=p.scrollTop,p.focus(),"undefined"!=typeof p.selectionStart?(o=p.selectionStart,r=p.selectionEnd,s=e.length,t&&(e+=p.value.substring(o,r)+t),p.value=p.value.substring(0,o)+e+p.value.substring(r,p.value.length),p.selectionStart=o+e.length-(t?t.length:0),p.selectionEnd=p.selectionStart):"undefined"!=typeof n.selection.createRange?(i=n.selection.createRange(),t&&(e+=i.text+t),i.text=e,t&&i.moveEnd("character",0-t.length),i.moveStart("character",i.End-i.Start),i.select()):p.value+=e+t,p.scrollTop=a,p.focus()},st.getRangeHelper=function(){return y},st.val=function(e,t){return"string"==typeof e?(st.inSourceMode()?st.setSourceEditorValue(e):(t!==!1&&b.hasHandler("toWysiwyg")&&(e=b.callOnlyFirst("toWysiwyg",e)),st.setWysiwygEditorValue(e)),this):st.inSourceMode()?st.getSourceEditorValue(!1):st.getWysiwygEditorValue()},st.insert=function(t,n,i,o,r){if(st.inSourceMode())st.sourceEditorInsertText(t,n);else{if(n){var s=st.getRangeHelper().selectedHtml(),a=e("<div>").appendTo(e("body")).hide().html(s);i!==!1&&b.hasHandler("toSource")&&(s=b.callOnlyFirst("toSource",s,a)),a.remove(),t+=s+n}i!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t,!0)),i!==!1&&r===!0&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),st.wysiwygEditorInsertHtml(t)}return this},st.getWysiwygEditorValue=function(t){var n,i,o=y.hasSelection();return o?y.saveRange():m&&m.getBookmark&&(i=m.getBookmark()),e.sceditor.dom.fixNesting(u[0]),n=u.html(),t!==!1&&b.hasHandler("toSource")&&(n=b.callOnlyFirst("toSource",n,u)),o?(y.restoreRange(),m=null):i&&(m.moveToBookmark(i),m=null),n},st.getBody=function(){return u},st.getContentAreaContainer=function(){return l},st.getSourceEditorValue=function(e){var t=f.val();return e!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t)),t},st.setWysiwygEditorValue=function(t){t||(t="<p>"+(e.sceditor.ie?"":"<br />")+"</p>"),u[0].innerHTML=t,M(u[0]),K()},st.setSourceEditorValue=function(e){f.val(e)},st.updateOriginal=function(){lt.val(st.val())},M=function(t){if(r.emoticonsEnabled&&!e(t).parents("code").length){var n=t.ownerDocument,i=[],s=[],a=e.extend({},r.emoticons.more,r.emoticons.dropdown,r.emoticons.hidden);e.each(a,function(t){r.emoticonsCompat&&(s[t]=new RegExp("(>|^|\\s| | | | |&nbsp;)"+e.sceditor.regexEscape(t)+"(\\s|$|<| | | | |&nbsp;)")),i.push(t)}),function l(t){for(t=t.firstChild;null!=t;){var c,u,d,f,p,h,m,g=t.parentNode,y=t.nodeValue;if(3!==t.nodeType)e(t).is("code")||l(t);else if(y)for(p=i.length;p--;)u=i[p],m=r.emoticonsCompat?y.search(s[u]):y.indexOf(u),m>-1&&(h=t.nextSibling,d=a[u],c=y.substr(m).split(u),y=y.substr(0,m)+c.shift(),t.nodeValue=y,f=e.sceditor.dom.parseHTML(o("emoticon",{key:u,url:d.url||d,tooltip:d.tooltip||u}),n),g.insertBefore(f[0],h),g.insertBefore(n.createTextNode(c.join(u)),h));t=t.nextSibling}}(t),r.emoticonsCompat&&(ht=u.find("img[data-sceditor-emoticon]"))}},st.inSourceMode=function(){return s.hasClass("sourceMode")},st.sourceMode=function(e){return"boolean"!=typeof e?st.inSourceMode():((st.inSourceMode()&&!e||!st.inSourceMode()&&e)&&st.toggleSourceMode(),this)},st.toggleSourceMode=function(){(e.sceditor.isWysiwygSupported||!st.inSourceMode())&&(st.blur(),st.inSourceMode()?st.setWysiwygEditorValue(st.getSourceEditorValue()):st.setSourceEditorValue(st.getWysiwygEditorValue()),m=null,f.toggle(),l.toggle(),st.inSourceMode()?s.removeClass("sourceMode").addClass("wysiwygMode"):s.removeClass("wysiwygMode").addClass("sourceMode"),Q(),J())},Z=function(){return p.focus(),null!=p.selectionStart?p.value.substring(p.selectionStart,p.selectionEnd):n.selection.createRange?n.selection.createRange().text:void 0},E=function(t,n){return st.inSourceMode()?(n.txtExec&&(e.isArray(n.txtExec)?st.sourceEditorInsertText.apply(st,n.txtExec):n.txtExec.call(st,t,Z())),void 0):(n.exec&&(e.isFunction(n.exec)?n.exec.call(st,t):st.execCommand(n.exec,n.hasOwnProperty("execParam")?n.execParam:null)),void 0)},D=function(){e.sceditor.ie&&(m=y.selectedRange())},st.execCommand=function(t,n){var i=!1,o=e(y.parentNode());if(st.focus(),!o.is("code")&&0===o.parents("code").length){try{i=d[0].execCommand(t,!1,n)}catch(r){}!i&&st.commands[t]&&st.commands[t].errorMessage&&alert(st._(st.commands[t].errorMessage))}},et=function(){var t=function(){y&&!y.compare(k)&&(k=y.cloneSelected(),s.trigger(e.Event("selectionchanged"))),_=!1};_||(_=!0,e.sceditor.ie?t():setTimeout(t,100))},tt=function(){var t,n=y.parentNode();x!==n&&(t=x,x=n,w=y.getFirstBlockParent(n),s.trigger(e.Event("nodechanged",{oldNode:t,newNode:x})))},st.currentNode=function(){return x},st.currentBlockNode=function(){return w},J=function(e){var t,n,i,o,r,s=d[0],l=ft.length,c=st.sourceMode();if(st.sourceMode()||st.readOnly())a.find(".sceditor-button").removeClass("active");else for(r=e?e.newNode:y.parentNode(),i=y.getFirstBlockParent(r);l--;)if(t=0,n=ft[l],o=a.find(".sceditor-button-"+n.name),c&&!o.data("sceditor-txtmode"))o.addClass("disabled");else if(c||o.data("sceditor-wysiwygmode")){if("string"==typeof n.state)try{t=s.queryCommandEnabled(n.state)?0:-1,t>-1&&(t=s.queryCommandState(n.state)?1:0)}catch(u){}else t=n.state.call(st,r,i);0>t?o.addClass("disabled"):o.removeClass("disabled"),t>0?o.addClass("active"):o.removeClass("active")}else o.addClass("disabled")},Y=function(t){var n,i=ct.length;if(st.closeDropDown(),n=e(x),13===t.which&&(n.is("code,blockquote,pre")||0!==n.parents("code,blockquote,pre").length))return m=null,st.wysiwygEditorInsertHtml("<br />",null,!0),!1;if(!n.is("code")&&0===n.parents("code").length)for(;i--;)ct[i].call(st,t,c,f)},K=function(){var t,n,i;e.sceditor.dom.rTraverse(u[0],function(o){return t=o.nodeName.toLowerCase(),e.inArray(t,dt)>-1&&(n=!0),3===o.nodeType&&!/^\s*$/.test(o.nodeValue)||"br"===t||e.sceditor.ie&&!o.firstChild&&!e.sceditor.dom.isInline(o,!1)?(n&&(i=u[0].ownerDocument.createElement("div"),i.className="sceditor-nlf",i.innerHTML=e.sceditor.ie?"":"<br />",u[0].appendChild(i)),!1):void 0})},U=function(){st.val(lt.val())},$=function(){st.closeDropDown(),m=null},G=function(){var e=r.height,t=r.width;st.maximize()?st.dimensions("100%","100%",!1):(e&&e.toString().indexOf("%")>-1&&st.height(e),t&&t.toString().indexOf("%")>-1&&st.width(t))},st._=function(){var e=arguments;return g&&g[e[0]]&&(e[0]=g[e[0]]),e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})},V=function(t){var n,i=e.extend({},t);b.call(i.type+"Event",t,st),delete i.type,n=e.Event((t.target===p?"scesrc":"scewys")+t.type,i),s.trigger.apply(s,[n,st]),n.isDefaultPrevented()&&t.preventDefault(),n.isImmediatePropagationStopped()&&n.stopImmediatePropagation(),n.isPropagationStopped()&&n.stopPropagation()},st.bind=function(t,n,i,o){var r=t.length;for(t=t.split(" ");r--;)e.isFunction(n)&&(i||s.bind("scewys"+t[r],n),o||s.bind("scesrc"+t[r],n));return this},st.unbind=function(t,n,i,o){var r=t.length;for(t=t.split(" ");r--;)e.isFunction(n)&&(i||s.unbind("scewys"+t[r],n),o||s.unbind("scesrc"+t[r],n));return this},st.blur=function(t,n,i){return e.isFunction(t)?st.bind("blur",t,n,i):st.sourceMode()?f.blur():(v||(v=e('<input style="position:absolute;width:0;height:0;opacity:0;border:0;padding:0;filter:alpha(opacity=0)" type="text" />').appendTo(s)),v.removeAttr("disabled").show().focus().blur().hide().attr("disabled","disabled")),this},st.focus=function(t,n,i){return e.isFunction(t)?st.bind("focus",t,n,i):st.inSourceMode()?p.focus():(c.contentWindow.focus(),u[0].focus(),m&&(y.selectRange(m),m=null)),this},st.keyDown=function(e,t,n){return st.bind("keydown",e,t,n)},st.keyPress=function(e,t,n){return st.bind("keypress",e,t,n)},st.keyUp=function(e,t,n){return st.bind("keyup",e,t,n)},st.nodeChanged=function(e){return st.bind("nodechanged",e,!1,!0)},st.selectionChanged=function(e){return st.bind("selectionchanged",e,!1,!0)},it=function(t){var n=0,i=String.fromCharCode(t.which);return e(w).is("code")||e(w).parents("code").length?void 0:(st.emoticonsCache||(st.emoticonsCache=[],e.each(e.extend({},r.emoticons.more,r.emoticons.dropdown,r.emoticons.hidden),function(e,t){st.emoticonsCache[n++]=[e,o("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),st.emoticonsCache.sort(function(e,t){return e[0].length-t[0].length}),st.longestEmoticonCode=st.emoticonsCache[st.emoticonsCache.length-1][0].length),st.getRangeHelper().raplaceKeyword(st.emoticonsCache,!0,!0,st.longestEmoticonCode,r.emoticonsCompat,i)?(r.emoticonsCompat&&(ht=u.find("img[data-sceditor-emoticon]")),/^\s$/.test(i)&&r.emoticonsCompat):void 0)},ot=function(){if(ht.length){var t,n,i,o,r,s,a=st.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009]+/;ht=e.map(ht,function(u){return u&&u.parentNode?e.contains(a,u)?(t=u.previousSibling,n=u.nextSibling,r=t.nodeValue,null===r&&(r=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(i=u.parentNode,o=y.cloneSelected(),s=o.startContainer,r+=e(u).data("sceditor-emoticon"),s===n?l=r.length+o.startOffset:s===a&&a.childNodes[o.startOffset]===n?l=r.length:s===t&&(l=o.startOffset),n&&3===n.nodeType||(n=i.insertBefore(i.ownerDocument.createTextNode(""),n)),n.insertData(0,r),i.removeChild(t),i.removeChild(u),l!==!1&&(o.setStart(n,l),o.collapse(!0),y.selectRange(o)),null):u):u:null})}},st.emoticons=function(t){return t||t===!1?(r.emoticonsEnabled=t,t?(u.keypress(it),st.sourceMode()||(y.saveRange(),M(u[0]),ht=u.find("img[data-sceditor-emoticon]"),y.restoreRange())):(u.find("img[data-sceditor-emoticon]").replaceWith(function(){return e(this).data("sceditor-emoticon")}),ht=[],u.unbind("keypress",it)),this):r.emoticonsEnabled},st.css=function(t){return C||(C=e('<style id="#inline" />').appendTo(d.find("head"))[0]),"string"!=typeof t?C.styleSheet?C.styleSheet.cssText:C.innerHTML:(C.styleSheet?C.styleSheet.cssText=t:C.innerHTML=t,this)},z=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},i={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},r=e.which,s=i[r]||String.fromCharCode(r).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),o[r]?s=o[r]:n[s]&&(s=n[s])),s&&(16>r||r>18)&&t.push(s),t=t.join("+"),pt[t]?pt[t].call(st):void 0},st.addShortcut=function(e,t){return e=e.toLowerCase(),pt[e]="string"==typeof t?function(){return E(a.find(".sceditor-button-"+t),st.commands[t]),!1}:t,this},st.removeShortcut=function(e){return delete pt[e.toLowerCase()],this},q=function(n){var i,o,s,a,l;if(!e.sceditor.ie&&!r.disableBlockRemove&&8===n.which&&(a=y.selectedRange())&&(t.getSelection?(i=a.startContainer,o=a.startOffset):(i=a.parentElement(),s=d[0].selection.createRange(),s.moveToElementText(i),s.setEndPoint("EndToStart",a),o=s.text.length),0===o&&(l=rt()))){for(;i!==l;){for(;i.previousSibling;)if(i=i.previousSibling,3!==i.nodeType||i.nodeValue)return;if(!(i=i.parentNode))return}if(l&&!e(l).is("body"))return st.clearBlockFormatting(l),!1}},rt=function(){for(var t=w;!e.sceditor.dom.hasStyling(t);)if(!(t=t.parentNode)||e(t).is("body"))return;return t},st.clearBlockFormatting=function(t){return t=t||rt(),!t||e(t).is("body")?this:(y.saveRange(),m=null,t.className="",e(t).attr("style",""),e(t).is("p,div")||e.sceditor.dom.convertElement(t,"p"),y.restoreRange(),this)},S()},e.sceditor.ie=function(){var e,i=3,o=n.createElement("div"),r=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(r[0]);return n.documentMode&&n.all&&t.atob&&(i=10),4===i&&n.documentMode&&(i=11),i>4?i:e}(),e.sceditor.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(navigator.userAgent),e.sceditor.isWysiwygSupported=function(){var t,n,i=e('<div contenteditable="true">')[0].contentEditable,o="undefined"!=typeof i&&"inherit"!==i,r=navigator.userAgent;return o?(n=/Opera Mobi|Opera Mini/i.test(r),/Android/i.test(r)&&(n=!0,/Safari/.test(r)&&(t=/Safari\/(\d+)/.exec(r),n=t&&t[1]?t[1]<534:!0)),/ Silk\//i.test(r)&&(t=/AppleWebKit\/(\d+)/.exec(r),n=t&&t[1]?t[1]<534:!0),e.sceditor.ios&&(n=!/OS [5-9](_\d)+ like Mac OS X/i.test(r)),/fennec/i.test(r)&&(n=!1),/OneBrowser/i.test(r)&&(n=!1),"UCWEB"===navigator.vendor&&(n=!1),!n):!1}(),e.sceditor.regexEscape=function(e){return e.replace(/[\$\?\[\]\.\*\(\)\|\\]/g,"\\$&")},e.sceditor.escapeEntities=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />"):e},e.sceditor.locale={},e.sceditor.commands={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(t,n,i){for(var r=t.opts.fonts.split(","),s=e("<div />"),a=function(){return i(e(this).data("font")),t.closeDropDown(!0),!1},l=0;l<r.length;l++)s.append(o("fontOpt",{font:r[l]},!0).click(a));t.createDropDown(n,"font-picker",s)},exec:function(t){var n=this;e.sceditor.command.get("font")._dropDown(n,t,function(e){n.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,n,i){for(var r=e("<div />"),s=function(n){i(e(this).data("size")),t.closeDropDown(!0),n.preventDefault()},a=1;7>=a;a++)r.append(o("sizeOpt",{size:a},!0).click(s));t.createDropDown(n,"fontsize-picker",r)},exec:function(t){var n=this;e.sceditor.command.get("size")._dropDown(n,t,function(e){n.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,n,i){var o,r,s,a,l={r:255,g:255,b:255},c=e("<div />"),u=t.opts.colors?t.opts.colors.split("|"):new Array(21),d=[],f=e.sceditor.command.get("color");if(!f._htmlCache){for(o=0;o<u.length;++o){for(a=u[o]?u[o].split(","):new Array(21),d.push('<div class="sceditor-color-column">'),r=0;r<a.length;++r)s=a[r]||"#"+l.r.toString(16)+l.g.toString(16)+l.b.toString(16),d.push('<a href="#" class="sceditor-color-option" style="background-color: '+s+'" data-color="'+s+'"></a>'),0===r%5?(l.g-=51,l.b=255):l.b-=51;d.push("</div>"),0===o%5?(l.r-=51,l.g=255,l.b=255):(l.g=255,l.b=255)}f._htmlCache=d.join("")}c.append(f._htmlCache).find("a").click(function(n){i(e(this).attr("data-color")),t.closeDropDown(!0),n.preventDefault()}),t.createDropDown(n,"color-picker",c)},exec:function(t){var n=this;e.sceditor.command.get("color")._dropDown(n,t,function(e){n.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n=this,i=o("pastetext",{label:n._("Paste your text inside the following box:"),insert:n._("Insert")},!0);
i.find(".button").click(function(e){t=i.find("#txt").val(),t&&n.wysiwygEditorInsertText(t),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"pastetext",i)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},table:{exec:function(t){var n=this,i=o("table",{rows:n._("Rows:"),cols:n._("Cols:"),insert:n._("Insert")},!0);i.find(".button").click(function(t){var o=i.find("#rows").val()-0,r=i.find("#cols").val()-0,s="<table>";if(!(1>o||1>r)){for(var a=0;o>a;a++){s+="<tr>";for(var l=0;r>l;l++)s+="<td>"+(e.sceditor.ie?"":"<br />")+"</td>";s+="</tr>"}s+="</table>",n.wysiwygEditorInsertHtml(s),n.closeDropDown(!0),t.preventDefault()}}),n.createDropDown(t,"inserttable",i)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>","<br /></code>")},tooltip:"Code"},image:{exec:function(e){var t=this,n=o("image",{url:t._("URL:"),width:t._("Width (optional):"),height:t._("Height (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#image").val(),o=n.find("#width").val(),r=n.find("#height").val(),s="";o&&(s+=' width="'+o+'"'),r&&(s+=' height="'+r+'"'),i&&"http://"!==i&&t.wysiwygEditorInsertHtml("<img"+s+' src="'+i+'" />'),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertimage",n)},tooltip:"Insert an image"},email:{exec:function(e){var t=this,n=o("email",{label:t._("E-mail:"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#email").val();i&&(t.focus(),t.getRangeHelper().selectedHtml()?t.execCommand("createlink","mailto:"+i):t.wysiwygEditorInsertHtml('<a href="mailto:'+i+'">'+i+"</a>")),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertemail",n)},tooltip:"Insert an email"},link:{exec:function(e){var t=this,n=o("link",{url:t._("URL:"),desc:t._("Description (optional):"),ins:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#link").val(),o=n.find("#des").val();i&&"http://"!==i&&(t.focus(),!t.getRangeHelper().selectedHtml()||o?(o||(o=i),t.wysiwygEditorInsertHtml('<a href="'+i+'">'+o+"</a>")):t.execCommand("createlink",i)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertlink",n)},tooltip:"Insert a link"},unlink:{state:function(){var t=e(this.currentNode());return t.is("a")||t.parents("a").length>0?0:-1},exec:function(){var t=e(this.currentNode()),n=t.is("a")?t:t.parents("a").first();n.length&&n.replaceWith(n.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(t,n,i){var o="<blockquote>",r="</blockquote>";n?(i=i?"<cite>"+i+"</cite>":"",o=o+i+n+r,r=null):""===this.getRangeHelper().selectedHtml()&&(r=e.sceditor.ie?"":"<br />"+r),this.wysiwygEditorInsertHtml(o,r)},tooltip:"Insert a Quote"},emoticon:{exec:function(t){var n=this,i=function(o){var r=n.opts.emoticonsCompat,s=n.getRangeHelper(),a=r&&" "!==s.getOuterText(!0,1)?" ":"",l=r&&" "!==s.getOuterText(!1,1)?" ":"",c=e("<div />"),u=e("<div />").appendTo(c),d=e.extend({},n.opts.emoticons.dropdown,o?n.opts.emoticons.more:{}),f=0;return e.each(d,function(){f++}),f=Math.sqrt(f),e.each(d,function(t,i){u.append(e("<img />").attr({src:i.url||i,alt:t,title:i.tooltip||t}).click(function(){return n.insert(a+e(this).attr("alt")+l,null,!1).closeDropDown(!0),!1})),u.children().length>=f&&(u=e("<div />").appendTo(c))}),o||c.append(e(n._('<a class="sceditor-more">{0}</a>',n._("More"))).click(function(){return n.createDropDown(t,"more-emoticons",i(!0)),!1})),c};n.createDropDown(t,"emoticons",i(!1))},txtExec:function(t){e.sceditor.command.get("emoticon").exec.call(this,t)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(e,t,n){var i,r=o("youtubeMenu",{label:e._("Video URL:"),insert:e._("Insert")},!0);r.find(".button").click(function(t){var o=r.find("#link").val().replace("http://","");""!==o&&(i=o.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/),i&&(o=i[1]),/^[a-zA-Z0-9_\-]{11}$/.test(o)?n(o):alert("Invalid YouTube video")),e.closeDropDown(!0),t.preventDefault()}),e.createDropDown(t,"insertlink",r)},exec:function(t){var n=this;e.sceditor.command.get("youtube")._dropDown(n,t,function(e){n.wysiwygEditorInsertHtml(o("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),i=t.getMonth()+1,o=t.getDate();return 2e3>n&&(n=1900+n),10>i&&(i="0"+i),10>o&&(o="0"+o),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,i).replace(/day/i,o)},exec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},txtExec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),t+":"+n+":"+i},exec:function(){this.insertText(e.sceditor.command.get("time")._time())},txtExec:function(){this.insertText(e.sceditor.command.get("time")._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("ltr"===i.css("direction")?i.css("direction",""):i.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("rtl"===i.css("direction")?i.css("direction",""):i.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}},e.sceditor.rangeHelper=function(t,n){var i,o,r,s,a,l=!0,c="sceditor-start-marker",u="sceditor-end-marker",d="character",f=this;r=function(e,t){o=t||e.contentDocument||e.document,i=e,l=!!e.getSelection}(t,n),f.insertHTML=function(e,t){var n,i,r=f.selectedRange();if(t&&(e+=f.selectedHtml()+t),l){for(i=o.createElement("div"),n=o.createDocumentFragment(),i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);f.insertNode(n)}else{if(!r)return!1;r.pasteHTML(e)}},f.insertNode=function(e,t){if(l){var n,i,r=o.createDocumentFragment(),s=f.selectedRange();if(!s)return!1;if(r.appendChild(e),t&&(r.appendChild(s.extractContents()),r.appendChild(t)),i=r.lastChild,!i)return;s.deleteContents(),s.insertNode(r),n=o.createRange(),n.setStartAfter(i),f.selectRange(n)}else f.insertHTML(e.outerHTML,t?t.outerHTML:null)},f.cloneSelected=function(){var e=f.selectedRange();return e?l?e.cloneRange():e.duplicate():void 0},f.selectedRange=function(){var e,t,n=l?i.getSelection():o.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=o.body;t.firstChild;)t=t.firstChild;e=o.createRange(),e.setStart(t,0),n.addRange(e)}return l&&(e=n.getRangeAt(0)),l||"Control"===n.type||(e=n.createRange()),a(e)?e:null}},a=function(e){var t;return e&&e.parentElement&&(t=e.parentElement())?t.ownerDocument===o:!0},f.hasSelection=function(){var e,t=l?i.getSelection():o.selection;return l||!t?t&&t.rangeCount>0:(e=t.createRange(),e&&a(e))},f.selectedHtml=function(){var e,t=f.selectedRange();return t?!l&&""!==t.text&&t.htmlText?t.htmlText:l?(e=o.createElement("div"),e.appendChild(t.cloneContents()),e.innerHTML):"":""},f.parentNode=function(){var e=f.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},f.getFirstBlockParent=function(t){var n=function(t){return e.sceditor.dom.isInline(t,!0)?(t=t?t.parentNode:null,t?n(t):null):t};return n(t||f.parentNode())},f.insertNodeAt=function(e,t){var n=f.selectedRange(),i=f.cloneSelected();return i?(i.collapse(e),i.insertNode?i.insertNode(t):i.pasteHTML(t.outerHTML),f.selectRange(n),void 0):!1},s=function(e){f.removeMarker(e);var t=o.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},f.insertMarkers=function(){f.insertNodeAt(!0,s(c)),f.insertNodeAt(!1,s(u))},f.getMarker=function(e){return o.getElementById(e)},f.removeMarker=function(e){var t=f.getMarker(e);t&&t.parentNode.removeChild(t)},f.removeMarkers=function(){f.removeMarker(c),f.removeMarker(u)},f.saveRange=function(){f.insertMarkers()},f.selectRange=function(e){l?(i.getSelection().removeAllRanges(),i.getSelection().addRange(e)):e.select()},f.restoreRange=function(){var e,t=f.selectedRange(),n=f.getMarker(c),i=f.getMarker(u);return n&&i&&t?(l?(t=o.createRange(),t.setStartBefore(n),t.setEndAfter(i),f.selectRange(t)):(t=o.body.createTextRange(),e=o.body.createTextRange(),e.moveToElementText(n),t.setEndPoint("StartToStart",e),t.moveStart(d,0),e.moveToElementText(i),t.setEndPoint("EndToStart",e),t.moveEnd(d,0),f.selectRange(t)),f.removeMarkers(),void 0):!1},f.selectOuterText=function(e,t){var n=f.cloneSelected();return n?(n.collapse(!1),l?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(d,0-e),n.moveEnd(d,t)),f.selectRange(n),void 0):!1},f.getOuterText=function(e,t){var n="",i=f.cloneSelected();return i?(i.collapse(!1),e?l?(n=i.startContainer.textContent.substr(0,i.startOffset),n=n.substr(Math.max(0,n.length-t))):(i.moveStart(d,0-t),n=i.text):l?n=i.startContainer.textContent.substr(i.startOffset,t):(i.moveEnd(d,t),n=i.text),n):""},f.raplaceKeyword=function(t,n,i,o,r,s){i||t.sort(function(e,t){return e.length-t.length});var a,c,u,d,p,h,m,g=t.length,y=o||t[g-1][0].length;if(r){if(!l)return!1;++y}for(a=f.getOuterText(!0,y),c=a+(null!=s?s:""),n&&(c+=f.getOuterText(!1,y));g--;)if(m=t[g][0],p=new RegExp("(?:[\\s    ])"+e.sceditor.regexEscape(m)+"(?=[\\s    ])"),h=a.length-1-m.length,r&&--h,h=Math.max(0,h),(u=r?c.substr(h).search(p):c.indexOf(m,h))>-1){if(r&&(u+=h+1),u>a.length||u+m.length+(r?1:0)<a.length)continue;return d=a.length-u,f.selectOuterText(d,m.length-d-(null!=s&&/^\S/.test(s)?1:0)),f.insertHTML(t[g][1]),!0}return!1},f.compare=function(e,t){return t||(t=f.selectedRange()),e&&t?l?0===e.compareBoundaryPoints(Range.END_TO_END,t)&&0===e.compareBoundaryPoints(Range.START_TO_START,t):a(e)&&a(t)&&0===e.compareEndPoints("EndToEnd",t)&&0===e.compareEndPoints("StartToStart",t):!e&&!t}},e.sceditor.dom={traverse:function(e,t,n,i,o){if(e)for(e=o?e.lastChild:e.firstChild;null!=e;){var r=o?e.previousSibling:e.nextSibling;if(!n&&t(e)===!1)return!1;if(!i&&this.traverse(e,t,n,i,o)===!1)return!1;if(n&&t(e)===!1)return!1;e=r}},rTraverse:function(e,t,n,i){this.traverse(e,t,n,i,!0)},parseHTML:function(t,i){var o=[],r=(i||n).createElement("div");return r.innerHTML=t,e.merge(o,r.childNodes),o},hasStyling:function(t){var n=e(t);return t&&(!n.is("p,div")||t.className||n.attr("style")||!e.isEmptyObject(n.data()))},convertElement:function(t,n){for(var i,o,r=t.attributes.length,s=t.ownerDocument.createElement(n);r--;)o=t.attributes[r],(!e.sceditor.ie||o.specified)&&(e.sceditor.ie<8&&/style/i.test(o.name)?t.style.cssText=t.style.cssText:s.setAttribute(o.name,o.value));for(;i=t.firstChild;)s.appendChild(i);return t.parentNode.replaceChild(s,t),s},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",isInline:function(t,n){return t&&1===t.nodeType?(t=t.tagName.toLowerCase(),"code"===t?!n:e.sceditor.dom.blockLevelList.indexOf("|"+t+"|")<0):!0},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var t=this,n=function(e){for(;t.isInline(e.parentNode,!0);)e=e.parentNode;return e};t.traverse(e,function(e){if(1===e.nodeType&&!t.isInline(e,!0)&&t.isInline(e.parentNode,!0)){var i=n(e),o=i.parentNode,r=t.extractContents(i,e),s=e;t.copyCSS(i,s),o.insertBefore(r,i),o.insertBefore(s,i)}})},findCommonAncestor:function(t,n){return e(t).parents().has(e(n)).first()},getSibling:function(t,n){var i;return t?(i=t[n?"previousSibling":"nextSibling"])?i:e.sceditor.dom.getSibling(t.parentNode,n):null},removeWhiteSpace:function(t,n){for(var i,o,r,s,a,l,c,u,d=e.sceditor.dom.getSibling,f=e.sceditor.dom.isInline,p=t.firstChild,h=/[\t ]+/g,m=/[\t\n\r ]+/g;p;){if(l=p.nextSibling,i=p.nodeValue,o=p.nodeType,1===o&&p.firstChild&&(a=e(p).css("whiteSpace"),/pre(?:\-wrap)?$/i.test(a)||e.sceditor.dom.removeWhiteSpace(p,/line$/i.test(a))),3===o&&i){for(r=d(p),s=d(p,!0),u=s,c=!1;e(u).hasClass("sceditor-ignore");)u=d(u,!0);if(f(p)&&u){for(;u.lastChild;)u=u.lastChild;c=3===u.nodeType?/[\t\n\r ]$/.test(u.nodeValue):!f(u)}f(p)&&s&&f(s)&&!c||(i=i.replace(/^[\t\n\r ]+/,"")),f(p)&&r&&f(r)||(i=i.replace(/[\t\n\r ]+$/,"")),i.length?p.nodeValue=i.replace(n?h:m," "):t.removeChild(p)}p=l}},extractContents:function(e,t){var n=this,i=n.findCommonAncestor(e,t),o=i?i[0]:null,r=!1,s=!1;return function a(i){var o=e.ownerDocument.createDocumentFragment();return n.traverse(i,function(n){if(s||n===t&&r)return s=!0,!1;n===e&&(r=!0);var i,l;r?jQuery.contains(n,t)&&1===n.nodeType?(i=a(n),l=n.cloneNode(!1),l.appendChild(i),o.appendChild(l)):o.appendChild(n):jQuery.contains(n,e)&&1===n.nodeType&&(i=a(n),l=n.cloneNode(!1),l.appendChild(i),o.appendChild(l))},!1),o}(o)}},e.sceditor.plugins={},e.sceditor.PluginManager=function(t){var n=this,i=[],o=t,r=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},s=function(e,t){e=[].slice.call(e);for(var n=i.length,s=r(e.shift());n--;)if(s in i[n]){if(t)return i[n][s].apply(o,e);i[n][s].apply(o,e)}};n.call=function(){s(arguments,!1)},n.callOnlyFirst=function(){return s(arguments,!0)},n.iter=function(e){return e=r(e),function(){var t=i.length;return{callNext:function(n){for(;t--;)if(i[t]&&e in i[t])return i[t].apply(o,n)},hasNext:function(){for(var n=t;n--;)if(i[n]&&e in i[n])return!0;return!1}}}()},n.hasHandler=function(e){var t=i.length;for(e=r(e);t--;)if(e in i[t])return!0;return!1},n.exsists=function(t){return t in e.sceditor.plugins?(t=e.sceditor.plugins[t],"function"==typeof t&&"object"==typeof t.prototype):!1},n.isRegistered=function(t){var o=i.length;if(!n.exsists(t))return!1;for(;o--;)if(i[o]instanceof e.sceditor.plugins[t])return!0;return!1},n.register=function(t){return n.exsists(t)?(t=new e.sceditor.plugins[t],i.push(t),"init"in t&&t.init.apply(o),!0):!1},n.deregister=function(t){var r,s=i.length,a=!1;if(!n.isRegistered(t))return!1;for(;s--;)i[s]instanceof e.sceditor.plugins[t]&&(r=i.splice(s,1)[0],a=!0,"destroy"in r&&r.destroy.apply(o));return a},n.destroy=function(){for(var e=i.length;e--;)"destroy"in i[e]&&i[e].destroy.apply(o);i=null,o=null}},e.sceditor.command={get:function(t){return e.sceditor.commands[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.commands[t]||{},n),n.remove=function(){e.sceditor.command.remove(t)},e.sceditor.commands[t]=n,this):!1},remove:function(t){return e.sceditor.commands[t]&&delete e.sceditor.commands[t],this}},e.sceditor.defaultOptions={toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"jquery.sceditor.default.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"emoticons/smile.png",":angel:":"emoticons/angel.png",":angry:":"emoticons/angry.png","8-)":"emoticons/cool.png",":'(":"emoticons/cwy.png",":ermm:":"emoticons/ermm.png",":D":"emoticons/grin.png","<3":"emoticons/heart.png",":(":"emoticons/sad.png",":O":"emoticons/shocked.png",":P":"emoticons/tongue.png",";)":"emoticons/wink.png"},more:{":alien:":"emoticons/alien.png",":blink:":"emoticons/blink.png",":blush:":"emoticons/blush.png",":cheerful:":"emoticons/cheerful.png",":devil:":"emoticons/devil.png",":dizzy:":"emoticons/dizzy.png",":getlost:":"emoticons/getlost.png",":happy:":"emoticons/happy.png",":kissing:":"emoticons/kissing.png",":ninja:":"emoticons/ninja.png",":pinch:":"emoticons/pinch.png",":pouty:":"emoticons/pouty.png",":sick:":"emoticons/sick.png",":sideways:":"emoticons/sideways.png",":silly:":"emoticons/silly.png",":sleeping:":"emoticons/sleeping.png",":unsure:":"emoticons/unsure.png",":woot:":"emoticons/w00t.png",":wassat:":"emoticons/wassat.png"},hidden:{":whistling:":"emoticons/whistling.png",":love:":"emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,getHtmlHandler:null,getTextHandler:null,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}},e.fn.sceditor=function(t){var n,i=[];return t=t||{},t.runWithoutWysiwygSupport||e.sceditor.isWysiwygSupported?(this.each(function(){n=this.jquery?this:e(this),n.parents(".sceditor-container").length>0||("state"===t?i.push(!!n.data("sceditor")):"instance"===t?i.push(n.data("sceditor")):n.data("sceditor")||new e.sceditor(this,t))}),i.length?1===i.length?i[0]:e(i):this):void 0}}(jQuery,window,document),!function(e,t,n){"use strict";var i={html:'<!DOCTYPE html><html><head><style>.ie * {min-height: auto !important}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" value="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" value="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" value="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'},o=function(t,n,o){var r=i[t];return e.each(n,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","g"),t)}),o&&(r=e(r)),r};e.sceditor=function(i,r){var s,a,l,c,u,d,f,p,h,m,g,y,v,b,x,w,k,_,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q,J,Z,K,et,tt,nt,it,ot,rt,st=this,at=i.get?i.get(0):i,lt=e(at),ct=[],ut=[],dt=[],ft=[],pt={},ht=[];st.commands=e.extend(!0,{},r.commands||e.sceditor.commands),st.opts=r=e.extend({},e.sceditor.defaultOptions,r),S=function(){lt.data("sceditor",st),e.each(r,function(t,n){e.isPlainObject(n)&&(r[t]=e.extend(!0,{},n))}),r.locale&&"en"!==r.locale&&N(),s=e('<div class="sceditor-container" />').insertAfter(lt).css("z-index",r.zIndex),e.sceditor.ie&&s.addClass("ie ie"+e.sceditor.ie),T=!!lt.attr("required"),lt.removeAttr("required"),A(),R(),L(),O(),B(),P(),H(),e.sceditor.isWysiwygSupported||st.toggleSourceMode();var i=function(){e(t).unbind("load",i),r.autofocus&&nt(),r.autoExpand&&st.expandToContent(),G()};e(t).load(i),n.readyState&&"complete"===n.readyState&&i(),J(),b.call("ready")},A=function(){var t=r.plugins;t=t?t.toString().split(","):[],b=new e.sceditor.PluginManager(st),e.each(t,function(t,n){b.register(e.trim(n))})},N=function(){var t;e.sceditor.locale[r.locale]?g=e.sceditor.locale[r.locale]:(t=r.locale.split("-"),e.sceditor.locale[t[0]]&&(g=e.sceditor.locale[t[0]])),g&&g.dateFormat&&(r.dateFormat=g.dateFormat)},O=function(){var n,i;f=e("<textarea></textarea>").hide(),l=e('<iframe frameborder="0"></iframe>'),r.spellcheck||f.attr("spellcheck","false"),"https:"===t.location.protocol&&l.attr("src","javascript:false"),s.append(l).append(f),c=l[0],p=f[0],st.width(r.width||lt.width()),st.height(r.height||lt.height()),n=F(),n.open(),n.write(o("html",{spellcheck:r.spellcheck?"":'spellcheck="false"',charset:r.charset,style:r.style})),n.close(),d=e(n),u=e(n.body),st.readOnly(!!r.readOnly),e.sceditor.ie&&d.find("html").addClass("ie ie"+e.sceditor.ie),(e.sceditor.ios||e.sceditor.ie)&&(u.height("100%"),e.sceditor.ie||u.bind("touchend",st.focus)),y=new e.sceditor.rangeHelper(c.contentWindow),st.val(lt.hide().val()),i=lt.attr("tabindex"),f.attr("tabindex",i),l.attr("tabindex",i)},P=function(){r.autoUpdate&&(u.bind("blur",st.updateOriginal),f.bind("blur",st.updateOriginal)),null===r.rtl&&(r.rtl="rtl"===f.css("direction")),st.rtl(!!r.rtl),r.autoExpand&&d.bind("keyup",st.expandToContent),r.resizeEnabled&&I(),s.attr("id",r.id),st.emoticons(r.emoticonsEnabled)},H=function(){e(n).click(X),e(at.form).bind("reset",U).submit(st.updateOriginal),e(t).bind("resize orientationChanged",G),u.keypress(Y).keydown(z).keydown(q).keyup(K).bind("paste",j).bind(e.sceditor.ie?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",et).bind("keydown keyup keypress focus blur contextmenu",V),r.emoticonsCompat&&t.getSelection&&u.keyup(ot),f.bind("keydown keyup keypress focus blur contextmenu",V).keydown(z),d.keypress(Y).mousedown($).bind(e.sceditor.ie?"selectionchange":"focus blur contextmenu mouseup click",et).bind("beforedeactivate keyup",D).keyup(K).focus(function(){m=null}),s.bind("selectionchanged",tt).bind("selectionchanged",J).bind("selectionchanged",V).bind("nodechanged",V)},L=function(){var t,n,i=(r.toolbarExclude||"").split(","),l=r.toolbar.split("|");a=e('<div class="sceditor-toolbar" unselectable="on" />'),e.each(l,function(r,s){t=e('<div class="sceditor-group" />'),e.each(s.split(","),function(r,s){!st.commands[s]||e.inArray(s,i)>-1||(n=o("toolbarButton",{name:s,dispName:st._(st.commands[s].tooltip||s)},!0),n.data("sceditor-txtmode",!!st.commands[s].txtExec),n.data("sceditor-wysiwygmode",!!st.commands[s].exec),n.click(function(){var t=e(this);return t.hasClass("disabled")||E(t,st.commands[s]),J(),!1}),st.commands[s].tooltip&&n.attr("title",st._(st.commands[s].tooltip)),st.commands[s].exec||n.addClass("disabled"),st.commands[s].shortcut&&st.addShortcut(st.commands[s].shortcut,s),t.append(n))}),t[0].firstChild&&a.append(t)}),e(r.toolbarContainer||s).append(a)},B=function(){e.each(st.commands,function(t,n){n.keyPress&&ct.push(n.keyPress),n.forceNewLineAfter&&e.isArray(n.forceNewLineAfter)&&(dt=e.merge(dt,n.forceNewLineAfter)),n.state?ft.push({name:t,state:n.state}):"string"==typeof n.exec&&ft.push({name:t,state:n.exec})}),K()},I=function(){var i,o,a,l,c,u,d=e('<div class="sceditor-grip" />'),f=e('<div class="sceditor-resize-cover" />'),p=0,h=0,m=0,g=0,y=s.width(),v=s.height(),b=!1,x=st.rtl();i=r.resizeMinHeight||v/1.5,o=r.resizeMaxHeight||2.5*v,a=r.resizeMinWidth||y/1.25,l=r.resizeMaxWidth||1.25*y,c=function(n){"touchmove"===n.type&&(n=t.event);var c=g+(n.pageY-h),u=x?m-(n.pageX-p):m+(n.pageX-p);l>0&&u>l&&(u=l),o>0&&c>o&&(c=o),(!r.resizeWidth||a>u||l>0&&u>l)&&(u=!1),(!r.resizeHeight||i>c||o>0&&c>o)&&(c=!1),(u||c)&&(st.dimensions(u,c),e.sceditor.ie<7&&s.height(c)),n.preventDefault()},u=function(t){b&&(b=!1,f.hide(),s.removeClass("resizing").height("auto"),e(n).unbind("touchmove mousemove",c),e(n).unbind("touchend mouseup",u),t.preventDefault())},s.append(d),s.append(f.hide()),d.bind("touchstart mousedown",function(i){"touchstart"===i.type&&(i=t.event),p=i.pageX,h=i.pageY,m=s.width(),g=s.height(),b=!0,s.addClass("resizing"),f.show(),e(n).bind("touchmove mousemove",c),e(n).bind("touchend mouseup",u),e.sceditor.ie<7&&s.height(g),i.preventDefault()})},R=function(){var t,i=r.emoticons,o=r.emoticonsRoot;e.isPlainObject(i)&&r.emoticonsEnabled&&e.each(i,function(r,s){e.each(s,function(e,s){o&&(s={url:o+(s.url||s),tooltip:s.tooltip||e},i[r][e]=s),t=n.createElement("img"),t.src=s.url||s,ut.push(t)})})},nt=function(){var t,n,i,o=d[0],a=u[0],l=!!r.autofocusEnd;if(s.is(":visible")){if(st.sourceMode())i=p.value.length,p.setSelectionRange?p.setSelectionRange(i,i):p.createTextRange&&(t=p.createTextRange(),t.moveEnd("character",i),t.moveStart("character",i),y.selectRange(t));else{if(e.sceditor.dom.removeWhiteSpace(a),l)for((n=a.lastChild)||u.append(n=o.createElement("div"));n.lastChild;)n=n.lastChild,/br/i.test(n.nodeName)&&n.previousSibling&&(n=n.previousSibling);else n=a.firstChild;o.createRange?(t=o.createRange(),/br/i.test(n.nodeName)?t.setStartBefore(n):t.selectNodeContents(n),t.collapse(!1)):(t=a.createTextRange(),t.moveToElementText(3!==n.nodeType?n:n.parentNode),t.collapse(!1)),y.selectRange(t),l&&(d.scrollTop(a.scrollHeight),u.scrollTop(a.scrollHeight))}st.focus()}},st.readOnly=function(e){return"boolean"!=typeof e?"readonly"===f.attr("readonly"):(u[0].contentEditable=!e,e?f.attr("readonly","readonly"):f.removeAttr("readonly"),Q(e),this)},st.rtl=function(e){var t=e?"rtl":"ltr";return"boolean"!=typeof e?"rtl"===f.attr("dir"):(u.attr("dir",t),f.attr("dir",t),s.removeClass("rtl").removeClass("ltr").addClass(t),this)},Q=function(t){var n=st.inSourceMode();a.find(".sceditor-button").removeClass("disabled").each(function(){var i=e(this);t===!0||n&&!i.data("sceditor-txtmode")?i.addClass("disabled"):n||i.data("sceditor-wysiwygmode")||i.addClass("disabled")})},st.width=function(e,t){return e||0===e?(st.dimensions(e,null,t),this):s.width()},st.dimensions=function(t,i,o){var c=e.sceditor.ie<8||n.documentMode<8?2:0;return t=t||0===t?t:!1,i=i||0===i?i:!1,t===!1&&i===!1?{width:st.width(),height:st.height()}:("undefined"==typeof l.data("outerWidthOffset")&&st.updateStyleCache(),t!==!1&&(o!==!1&&(r.width=t),i===!1&&(i=s.height(),o=!1),s.width(t),t&&t.toString().indexOf("%")>-1&&(t=s.width()),l.width(t-l.data("outerWidthOffset")),f.width(t-f.data("outerWidthOffset")),e.sceditor.ios&&u&&u.width(t-l.data("outerWidthOffset")-(u.outerWidth(!0)-u.width()))),i!==!1&&(o!==!1&&(r.height=i),i&&i.toString().indexOf("%")>-1&&(i=s.height(i).height(),s.height("auto")),i-=r.toolbarContainer?0:a.outerHeight(!0),l.height(i-l.data("outerHeightOffset")),f.height(i-c-f.data("outerHeightOffset"))),this)},st.updateStyleCache=function(){l.data("outerWidthOffset",l.outerWidth(!0)-l.width()),f.data("outerWidthOffset",f.outerWidth(!0)-f.width()),l.data("outerHeightOffset",l.outerHeight(!0)-l.height()),f.data("outerHeightOffset",f.outerHeight(!0)-f.height())},st.height=function(e,t){return e||0===e?(st.dimensions(null,e,t),this):s.height()},st.maximize=function(t){return"undefined"==typeof t?s.is(".sceditor-maximize"):(t=!!t,e.sceditor.ie<7&&e("html, body").toggleClass("sceditor-maximize",t),s.toggleClass("sceditor-maximize",t),st.width(t?"100%":r.width,!1),st.height(t?"100%":r.height,!1),this)},st.expandToContent=function(e){var t=s.height(),n=u[0].scrollHeight||d[0].documentElement.scrollHeight,i=t-l.height(),o=r.resizeMaxHeight||2*(r.height||lt.height());n+=i,e!==!0&&n>o&&(n=o),n>t&&st.height(n)},st.destroy=function(){b.destroy(),y=null,m=null,b=null,e(n).unbind("click",X),e(t).unbind("resize orientationChanged",G),e(at.form).unbind("reset",U).unbind("submit",st.updateOriginal),u.unbind(),d.unbind().find("*").remove(),f.unbind().remove(),a.remove(),s.unbind().find("*").unbind().remove(),s.remove(),lt.removeData("sceditor").removeData("sceditorbbcode").show(),T&&lt.attr("required","required")},st.createDropDown=function(t,n,i,o){var s,a=h&&h.is(".sceditor-"+n);st.closeDropDown(),a||(o!==!1&&e(i).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),s={top:t.offset().top,left:t.offset().left,marginTop:t.outerHeight()},e.extend(s,r.dropDownCss),h=e('<div class="sceditor-dropdown sceditor-'+n+'" />').css(s).append(i).appendTo(e("body")).click(function(e){e.stopPropagation()}))},X=function(e){3!==e.which&&st.closeDropDown()},j=function(e){var t,i,o=u[0],s=d[0],a=0,l=n.createElement("div"),c=s.createDocumentFragment();if(r.disablePasting)return!1;if(r.enablePasteFiltering){if(y.saveRange(),n.body.appendChild(l),e&&e.clipboardData&&e.clipboardData.getData&&((t=e.clipboardData.getData("text/html"))||(t=e.clipboardData.getData("text/plain"))))return l.innerHTML=t,W(o,l),!1;for(;o.firstChild;)c.appendChild(o.firstChild);return i=function(e,t){if(e.childNodes.length>0){for(;e.firstChild;)t.appendChild(e.firstChild);for(;c.firstChild;)e.appendChild(c.firstChild);W(e,t)}else{if(a>25){for(;c.firstChild;)e.appendChild(c.firstChild);return y.restoreRange(),void 0}++a,setTimeout(function(){i(e,t)},20)}},i(o,l),st.focus(),!0}},W=function(t,n){e.sceditor.dom.fixNesting(n);var i=n.innerHTML;b.hasHandler("toSource")&&(i=b.callOnlyFirst("toSource",i,e(n))),n.parentNode.removeChild(n),b.hasHandler("toWysiwyg")&&(i=b.callOnlyFirst("toWysiwyg",i,!0)),y.restoreRange(),st.wysiwygEditorInsertHtml(i,null,!0)},st.closeDropDown=function(e){h&&(h.unbind().remove(),h=null),e===!0&&st.focus()},F=function(){return c.contentDocument?c.contentDocument:c.contentWindow&&c.contentWindow.document?c.contentWindow.document:c.document?c.document:null},st.wysiwygEditorInsertHtml=function(t,n,i){var o,r,s='<span id="sceditor-cursor">&nbsp;</span>';st.focus(),(i||!e(w).is("code")&&0===e(w).parents("code").length)&&(n?n+=s:t+=s,y.insertHTML(t,n),r=u.find("#sceditor-cursor"),o=r.offset().top+2*r.outerHeight(!0)-l.height(),r.remove(),d.scrollTop(o),u.scrollTop(o),y.saveRange(),M(u[0]),y.restoreRange(),K())},st.wysiwygEditorInsertText=function(t,n){st.wysiwygEditorInsertHtml(e.sceditor.escapeEntities(t),e.sceditor.escapeEntities(n))},st.insertText=function(e,t){return st.inSourceMode()?st.sourceEditorInsertText(e,t):st.wysiwygEditorInsertText(e,t),this},st.sourceEditorInsertText=function(e,t){var i,o,r,s,a;a=p.scrollTop,p.focus(),"undefined"!=typeof p.selectionStart?(o=p.selectionStart,r=p.selectionEnd,s=e.length,t&&(e+=p.value.substring(o,r)+t),p.value=p.value.substring(0,o)+e+p.value.substring(r,p.value.length),p.selectionStart=o+e.length-(t?t.length:0),p.selectionEnd=p.selectionStart):"undefined"!=typeof n.selection.createRange?(i=n.selection.createRange(),t&&(e+=i.text+t),i.text=e,t&&i.moveEnd("character",0-t.length),i.moveStart("character",i.End-i.Start),i.select()):p.value+=e+t,p.scrollTop=a,p.focus()},st.getRangeHelper=function(){return y},st.val=function(e,t){return"string"==typeof e?(st.inSourceMode()?st.setSourceEditorValue(e):(t!==!1&&b.hasHandler("toWysiwyg")&&(e=b.callOnlyFirst("toWysiwyg",e)),st.setWysiwygEditorValue(e)),this):st.inSourceMode()?st.getSourceEditorValue(!1):st.getWysiwygEditorValue()
},st.insert=function(t,n,i,o,r){if(st.inSourceMode())st.sourceEditorInsertText(t,n);else{if(n){var s=st.getRangeHelper().selectedHtml(),a=e("<div>").appendTo(e("body")).hide().html(s);i!==!1&&b.hasHandler("toSource")&&(s=b.callOnlyFirst("toSource",s,a)),a.remove(),t+=s+n}i!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t,!0)),i!==!1&&r===!0&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),st.wysiwygEditorInsertHtml(t)}return this},st.getWysiwygEditorValue=function(t){var n,i,o=y.hasSelection();return o?y.saveRange():m&&m.getBookmark&&(i=m.getBookmark()),e.sceditor.dom.fixNesting(u[0]),n=u.html(),t!==!1&&b.hasHandler("toSource")&&(n=b.callOnlyFirst("toSource",n,u)),o?(y.restoreRange(),m=null):i&&(m.moveToBookmark(i),m=null),n},st.getBody=function(){return u},st.getContentAreaContainer=function(){return l},st.getSourceEditorValue=function(e){var t=f.val();return e!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t)),t},st.setWysiwygEditorValue=function(t){t||(t="<p>"+(e.sceditor.ie?"":"<br />")+"</p>"),u[0].innerHTML=t,M(u[0]),K()},st.setSourceEditorValue=function(e){f.val(e)},st.updateOriginal=function(){lt.val(st.val())},M=function(t){if(r.emoticonsEnabled&&!e(t).parents("code").length){var n=t.ownerDocument,i=[],s=[],a=e.extend({},r.emoticons.more,r.emoticons.dropdown,r.emoticons.hidden);e.each(a,function(t){r.emoticonsCompat&&(s[t]=new RegExp("(>|^|\\s| | | | |&nbsp;)"+e.sceditor.regexEscape(t)+"(\\s|$|<| | | | |&nbsp;)")),i.push(t)}),function l(t){for(t=t.firstChild;null!=t;){var c,u,d,f,p,h,m,g=t.parentNode,y=t.nodeValue;if(3!==t.nodeType)e(t).is("code")||l(t);else if(y)for(p=i.length;p--;)u=i[p],m=r.emoticonsCompat?y.search(s[u]):y.indexOf(u),m>-1&&(h=t.nextSibling,d=a[u],c=y.substr(m).split(u),y=y.substr(0,m)+c.shift(),t.nodeValue=y,f=e.sceditor.dom.parseHTML(o("emoticon",{key:u,url:d.url||d,tooltip:d.tooltip||u}),n),g.insertBefore(f[0],h),g.insertBefore(n.createTextNode(c.join(u)),h));t=t.nextSibling}}(t),r.emoticonsCompat&&(ht=u.find("img[data-sceditor-emoticon]"))}},st.inSourceMode=function(){return s.hasClass("sourceMode")},st.sourceMode=function(e){return"boolean"!=typeof e?st.inSourceMode():((st.inSourceMode()&&!e||!st.inSourceMode()&&e)&&st.toggleSourceMode(),this)},st.toggleSourceMode=function(){(e.sceditor.isWysiwygSupported||!st.inSourceMode())&&(st.blur(),st.inSourceMode()?st.setWysiwygEditorValue(st.getSourceEditorValue()):st.setSourceEditorValue(st.getWysiwygEditorValue()),m=null,f.toggle(),l.toggle(),st.inSourceMode()?s.removeClass("sourceMode").addClass("wysiwygMode"):s.removeClass("wysiwygMode").addClass("sourceMode"),Q(),J())},Z=function(){return p.focus(),null!=p.selectionStart?p.value.substring(p.selectionStart,p.selectionEnd):n.selection.createRange?n.selection.createRange().text:void 0},E=function(t,n){return st.inSourceMode()?(n.txtExec&&(e.isArray(n.txtExec)?st.sourceEditorInsertText.apply(st,n.txtExec):n.txtExec.call(st,t,Z())),void 0):(n.exec&&(e.isFunction(n.exec)?n.exec.call(st,t):st.execCommand(n.exec,n.hasOwnProperty("execParam")?n.execParam:null)),void 0)},D=function(){e.sceditor.ie&&(m=y.selectedRange())},st.execCommand=function(t,n){var i=!1,o=e(y.parentNode());if(st.focus(),!o.is("code")&&0===o.parents("code").length){try{i=d[0].execCommand(t,!1,n)}catch(r){}!i&&st.commands[t]&&st.commands[t].errorMessage&&alert(st._(st.commands[t].errorMessage))}},et=function(){var t=function(){y&&!y.compare(k)&&(k=y.cloneSelected(),s.trigger(e.Event("selectionchanged"))),_=!1};_||(_=!0,e.sceditor.ie?t():setTimeout(t,100))},tt=function(){var t,n=y.parentNode();x!==n&&(t=x,x=n,w=y.getFirstBlockParent(n),s.trigger(e.Event("nodechanged",{oldNode:t,newNode:x})))},st.currentNode=function(){return x},st.currentBlockNode=function(){return w},J=function(e){var t,n,i,o,r,s=d[0],l=ft.length,c=st.sourceMode();if(st.sourceMode()||st.readOnly())a.find(".sceditor-button").removeClass("active");else for(r=e?e.newNode:y.parentNode(),i=y.getFirstBlockParent(r);l--;)if(t=0,n=ft[l],o=a.find(".sceditor-button-"+n.name),c&&!o.data("sceditor-txtmode"))o.addClass("disabled");else if(c||o.data("sceditor-wysiwygmode")){if("string"==typeof n.state)try{t=s.queryCommandEnabled(n.state)?0:-1,t>-1&&(t=s.queryCommandState(n.state)?1:0)}catch(u){}else t=n.state.call(st,r,i);0>t?o.addClass("disabled"):o.removeClass("disabled"),t>0?o.addClass("active"):o.removeClass("active")}else o.addClass("disabled")},Y=function(t){var n,i=ct.length;if(st.closeDropDown(),n=e(x),13===t.which&&(n.is("code,blockquote,pre")||0!==n.parents("code,blockquote,pre").length))return m=null,st.wysiwygEditorInsertHtml("<br />",null,!0),!1;if(!n.is("code")&&0===n.parents("code").length)for(;i--;)ct[i].call(st,t,c,f)},K=function(){var t,n,i;e.sceditor.dom.rTraverse(u[0],function(o){return t=o.nodeName.toLowerCase(),e.inArray(t,dt)>-1&&(n=!0),3===o.nodeType&&!/^\s*$/.test(o.nodeValue)||"br"===t||e.sceditor.ie&&!o.firstChild&&!e.sceditor.dom.isInline(o,!1)?(n&&(i=u[0].ownerDocument.createElement("div"),i.className="sceditor-nlf",i.innerHTML=e.sceditor.ie?"":"<br />",u[0].appendChild(i)),!1):void 0})},U=function(){st.val(lt.val())},$=function(){st.closeDropDown(),m=null},G=function(){var e=r.height,t=r.width;st.maximize()?st.dimensions("100%","100%",!1):(e&&e.toString().indexOf("%")>-1&&st.height(e),t&&t.toString().indexOf("%")>-1&&st.width(t))},st._=function(){var e=arguments;return g&&g[e[0]]&&(e[0]=g[e[0]]),e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})},V=function(t){var n,i=e.extend({},t);b.call(i.type+"Event",t,st),delete i.type,n=e.Event((t.target===p?"scesrc":"scewys")+t.type,i),s.trigger.apply(s,[n,st]),n.isDefaultPrevented()&&t.preventDefault(),n.isImmediatePropagationStopped()&&n.stopImmediatePropagation(),n.isPropagationStopped()&&n.stopPropagation()},st.bind=function(t,n,i,o){var r=t.length;for(t=t.split(" ");r--;)e.isFunction(n)&&(i||s.bind("scewys"+t[r],n),o||s.bind("scesrc"+t[r],n));return this},st.unbind=function(t,n,i,o){var r=t.length;for(t=t.split(" ");r--;)e.isFunction(n)&&(i||s.unbind("scewys"+t[r],n),o||s.unbind("scesrc"+t[r],n));return this},st.blur=function(t,n,i){return e.isFunction(t)?st.bind("blur",t,n,i):st.sourceMode()?f.blur():(v||(v=e('<input style="position:absolute;width:0;height:0;opacity:0;border:0;padding:0;filter:alpha(opacity=0)" type="text" />').appendTo(s)),v.removeAttr("disabled").show().focus().blur().hide().attr("disabled","disabled")),this},st.focus=function(t,n,i){return e.isFunction(t)?st.bind("focus",t,n,i):st.inSourceMode()?p.focus():(c.contentWindow.focus(),u[0].focus(),m&&(y.selectRange(m),m=null)),this},st.keyDown=function(e,t,n){return st.bind("keydown",e,t,n)},st.keyPress=function(e,t,n){return st.bind("keypress",e,t,n)},st.keyUp=function(e,t,n){return st.bind("keyup",e,t,n)},st.nodeChanged=function(e){return st.bind("nodechanged",e,!1,!0)},st.selectionChanged=function(e){return st.bind("selectionchanged",e,!1,!0)},it=function(t){var n=0,i=String.fromCharCode(t.which);return e(w).is("code")||e(w).parents("code").length?void 0:(st.emoticonsCache||(st.emoticonsCache=[],e.each(e.extend({},r.emoticons.more,r.emoticons.dropdown,r.emoticons.hidden),function(e,t){st.emoticonsCache[n++]=[e,o("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),st.emoticonsCache.sort(function(e,t){return e[0].length-t[0].length}),st.longestEmoticonCode=st.emoticonsCache[st.emoticonsCache.length-1][0].length),st.getRangeHelper().raplaceKeyword(st.emoticonsCache,!0,!0,st.longestEmoticonCode,r.emoticonsCompat,i)?(r.emoticonsCompat&&(ht=u.find("img[data-sceditor-emoticon]")),/^\s$/.test(i)&&r.emoticonsCompat):void 0)},ot=function(){if(ht.length){var t,n,i,o,r,s,a=st.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009]+/;ht=e.map(ht,function(u){return u&&u.parentNode?e.contains(a,u)?(t=u.previousSibling,n=u.nextSibling,r=t.nodeValue,null===r&&(r=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(i=u.parentNode,o=y.cloneSelected(),s=o.startContainer,r+=e(u).data("sceditor-emoticon"),s===n?l=r.length+o.startOffset:s===a&&a.childNodes[o.startOffset]===n?l=r.length:s===t&&(l=o.startOffset),n&&3===n.nodeType||(n=i.insertBefore(i.ownerDocument.createTextNode(""),n)),n.insertData(0,r),i.removeChild(t),i.removeChild(u),l!==!1&&(o.setStart(n,l),o.collapse(!0),y.selectRange(o)),null):u):u:null})}},st.emoticons=function(t){return t||t===!1?(r.emoticonsEnabled=t,t?(u.keypress(it),st.sourceMode()||(y.saveRange(),M(u[0]),ht=u.find("img[data-sceditor-emoticon]"),y.restoreRange())):(u.find("img[data-sceditor-emoticon]").replaceWith(function(){return e(this).data("sceditor-emoticon")}),ht=[],u.unbind("keypress",it)),this):r.emoticonsEnabled},st.css=function(t){return C||(C=e('<style id="#inline" />').appendTo(d.find("head"))[0]),"string"!=typeof t?C.styleSheet?C.styleSheet.cssText:C.innerHTML:(C.styleSheet?C.styleSheet.cssText=t:C.innerHTML=t,this)},z=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},i={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},r=e.which,s=i[r]||String.fromCharCode(r).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),o[r]?s=o[r]:n[s]&&(s=n[s])),s&&(16>r||r>18)&&t.push(s),t=t.join("+"),pt[t]?pt[t].call(st):void 0},st.addShortcut=function(e,t){return e=e.toLowerCase(),pt[e]="string"==typeof t?function(){return E(a.find(".sceditor-button-"+t),st.commands[t]),!1}:t,this},st.removeShortcut=function(e){return delete pt[e.toLowerCase()],this},q=function(n){var i,o,s,a,l;if(!e.sceditor.ie&&!r.disableBlockRemove&&8===n.which&&(a=y.selectedRange())&&(t.getSelection?(i=a.startContainer,o=a.startOffset):(i=a.parentElement(),s=d[0].selection.createRange(),s.moveToElementText(i),s.setEndPoint("EndToStart",a),o=s.text.length),0===o&&(l=rt()))){for(;i!==l;){for(;i.previousSibling;)if(i=i.previousSibling,3!==i.nodeType||i.nodeValue)return;if(!(i=i.parentNode))return}if(l&&!e(l).is("body"))return st.clearBlockFormatting(l),!1}},rt=function(){for(var t=w;!e.sceditor.dom.hasStyling(t);)if(!(t=t.parentNode)||e(t).is("body"))return;return t},st.clearBlockFormatting=function(t){return t=t||rt(),!t||e(t).is("body")?this:(y.saveRange(),m=null,t.className="",e(t).attr("style",""),e(t).is("p,div")||e.sceditor.dom.convertElement(t,"p"),y.restoreRange(),this)},S()},e.sceditor.ie=function(){var e,i=3,o=n.createElement("div"),r=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(r[0]);return n.documentMode&&n.all&&t.atob&&(i=10),4===i&&n.documentMode&&(i=11),i>4?i:e}(),e.sceditor.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(navigator.userAgent),e.sceditor.isWysiwygSupported=function(){var t,n,i=e('<div contenteditable="true">')[0].contentEditable,o="undefined"!=typeof i&&"inherit"!==i,r=navigator.userAgent;return o?(n=/Opera Mobi|Opera Mini/i.test(r),/Android/i.test(r)&&(n=!0,/Safari/.test(r)&&(t=/Safari\/(\d+)/.exec(r),n=t&&t[1]?t[1]<534:!0)),/ Silk\//i.test(r)&&(t=/AppleWebKit\/(\d+)/.exec(r),n=t&&t[1]?t[1]<534:!0),e.sceditor.ios&&(n=!/OS [5-9](_\d)+ like Mac OS X/i.test(r)),/fennec/i.test(r)&&(n=!1),/OneBrowser/i.test(r)&&(n=!1),"UCWEB"===navigator.vendor&&(n=!1),!n):!1}(),e.sceditor.regexEscape=function(e){return e.replace(/[\$\?\[\]\.\*\(\)\|\\]/g,"\\$&")},e.sceditor.escapeEntities=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />"):e},e.sceditor.locale={},e.sceditor.commands={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(t,n,i){for(var r=t.opts.fonts.split(","),s=e("<div />"),a=function(){return i(e(this).data("font")),t.closeDropDown(!0),!1},l=0;l<r.length;l++)s.append(o("fontOpt",{font:r[l]},!0).click(a));t.createDropDown(n,"font-picker",s)},exec:function(t){var n=this;e.sceditor.command.get("font")._dropDown(n,t,function(e){n.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,n,i){for(var r=e("<div />"),s=function(n){i(e(this).data("size")),t.closeDropDown(!0),n.preventDefault()},a=1;7>=a;a++)r.append(o("sizeOpt",{size:a},!0).click(s));t.createDropDown(n,"fontsize-picker",r)},exec:function(t){var n=this;e.sceditor.command.get("size")._dropDown(n,t,function(e){n.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,n,i){var o,r,s,a,l={r:255,g:255,b:255},c=e("<div />"),u=t.opts.colors?t.opts.colors.split("|"):new Array(21),d=[],f=e.sceditor.command.get("color");if(!f._htmlCache){for(o=0;o<u.length;++o){for(a=u[o]?u[o].split(","):new Array(21),d.push('<div class="sceditor-color-column">'),r=0;r<a.length;++r)s=a[r]||"#"+l.r.toString(16)+l.g.toString(16)+l.b.toString(16),d.push('<a href="#" class="sceditor-color-option" style="background-color: '+s+'" data-color="'+s+'"></a>'),0===r%5?(l.g-=51,l.b=255):l.b-=51;d.push("</div>"),0===o%5?(l.r-=51,l.g=255,l.b=255):(l.g=255,l.b=255)}f._htmlCache=d.join("")}c.append(f._htmlCache).find("a").click(function(n){i(e(this).attr("data-color")),t.closeDropDown(!0),n.preventDefault()}),t.createDropDown(n,"color-picker",c)},exec:function(t){var n=this;e.sceditor.command.get("color")._dropDown(n,t,function(e){n.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n=this,i=o("pastetext",{label:n._("Paste your text inside the following box:"),insert:n._("Insert")},!0);i.find(".button").click(function(e){t=i.find("#txt").val(),t&&n.wysiwygEditorInsertText(t),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"pastetext",i)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},table:{exec:function(t){var n=this,i=o("table",{rows:n._("Rows:"),cols:n._("Cols:"),insert:n._("Insert")},!0);i.find(".button").click(function(t){var o=i.find("#rows").val()-0,r=i.find("#cols").val()-0,s="<table>";if(!(1>o||1>r)){for(var a=0;o>a;a++){s+="<tr>";for(var l=0;r>l;l++)s+="<td>"+(e.sceditor.ie?"":"<br />")+"</td>";s+="</tr>"}s+="</table>",n.wysiwygEditorInsertHtml(s),n.closeDropDown(!0),t.preventDefault()}}),n.createDropDown(t,"inserttable",i)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>","<br /></code>")},tooltip:"Code"},image:{exec:function(e){var t=this,n=o("image",{url:t._("URL:"),width:t._("Width (optional):"),height:t._("Height (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#image").val(),o=n.find("#width").val(),r=n.find("#height").val(),s="";o&&(s+=' width="'+o+'"'),r&&(s+=' height="'+r+'"'),i&&"http://"!==i&&t.wysiwygEditorInsertHtml("<img"+s+' src="'+i+'" />'),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertimage",n)},tooltip:"Insert an image"},email:{exec:function(e){var t=this,n=o("email",{label:t._("E-mail:"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#email").val();i&&(t.focus(),t.getRangeHelper().selectedHtml()?t.execCommand("createlink","mailto:"+i):t.wysiwygEditorInsertHtml('<a href="mailto:'+i+'">'+i+"</a>")),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertemail",n)},tooltip:"Insert an email"},link:{exec:function(e){var t=this,n=o("link",{url:t._("URL:"),desc:t._("Description (optional):"),ins:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#link").val(),o=n.find("#des").val();i&&"http://"!==i&&(t.focus(),!t.getRangeHelper().selectedHtml()||o?(o||(o=i),t.wysiwygEditorInsertHtml('<a href="'+i+'">'+o+"</a>")):t.execCommand("createlink",i)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertlink",n)},tooltip:"Insert a link"},unlink:{state:function(){var t=e(this.currentNode());return t.is("a")||t.parents("a").length>0?0:-1},exec:function(){var t=e(this.currentNode()),n=t.is("a")?t:t.parents("a").first();n.length&&n.replaceWith(n.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(t,n,i){var o="<blockquote>",r="</blockquote>";n?(i=i?"<cite>"+i+"</cite>":"",o=o+i+n+r,r=null):""===this.getRangeHelper().selectedHtml()&&(r=e.sceditor.ie?"":"<br />"+r),this.wysiwygEditorInsertHtml(o,r)},tooltip:"Insert a Quote"},emoticon:{exec:function(t){var n=this,i=function(o){var r=n.opts.emoticonsCompat,s=n.getRangeHelper(),a=r&&" "!==s.getOuterText(!0,1)?" ":"",l=r&&" "!==s.getOuterText(!1,1)?" ":"",c=e("<div />"),u=e("<div />").appendTo(c),d=e.extend({},n.opts.emoticons.dropdown,o?n.opts.emoticons.more:{}),f=0;return e.each(d,function(){f++}),f=Math.sqrt(f),e.each(d,function(t,i){u.append(e("<img />").attr({src:i.url||i,alt:t,title:i.tooltip||t}).click(function(){return n.insert(a+e(this).attr("alt")+l,null,!1).closeDropDown(!0),!1})),u.children().length>=f&&(u=e("<div />").appendTo(c))}),o||c.append(e(n._('<a class="sceditor-more">{0}</a>',n._("More"))).click(function(){return n.createDropDown(t,"more-emoticons",i(!0)),!1})),c};n.createDropDown(t,"emoticons",i(!1))},txtExec:function(t){e.sceditor.command.get("emoticon").exec.call(this,t)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(e,t,n){var i,r=o("youtubeMenu",{label:e._("Video URL:"),insert:e._("Insert")},!0);r.find(".button").click(function(t){var o=r.find("#link").val().replace("http://","");""!==o&&(i=o.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/),i&&(o=i[1]),/^[a-zA-Z0-9_\-]{11}$/.test(o)?n(o):alert("Invalid YouTube video")),e.closeDropDown(!0),t.preventDefault()}),e.createDropDown(t,"insertlink",r)},exec:function(t){var n=this;e.sceditor.command.get("youtube")._dropDown(n,t,function(e){n.wysiwygEditorInsertHtml(o("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),i=t.getMonth()+1,o=t.getDate();return 2e3>n&&(n=1900+n),10>i&&(i="0"+i),10>o&&(o="0"+o),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,i).replace(/day/i,o)},exec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},txtExec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),t+":"+n+":"+i},exec:function(){this.insertText(e.sceditor.command.get("time")._time())},txtExec:function(){this.insertText(e.sceditor.command.get("time")._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("ltr"===i.css("direction")?i.css("direction",""):i.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("rtl"===i.css("direction")?i.css("direction",""):i.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}},e.sceditor.rangeHelper=function(t,n){var i,o,r,s,a,l=!0,c="sceditor-start-marker",u="sceditor-end-marker",d="character",f=this;r=function(e,t){o=t||e.contentDocument||e.document,i=e,l=!!e.getSelection}(t,n),f.insertHTML=function(e,t){var n,i,r=f.selectedRange();if(t&&(e+=f.selectedHtml()+t),l){for(i=o.createElement("div"),n=o.createDocumentFragment(),i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);f.insertNode(n)}else{if(!r)return!1;r.pasteHTML(e)}},f.insertNode=function(e,t){if(l){var n,i,r=o.createDocumentFragment(),s=f.selectedRange();if(!s)return!1;if(r.appendChild(e),t&&(r.appendChild(s.extractContents()),r.appendChild(t)),i=r.lastChild,!i)return;s.deleteContents(),s.insertNode(r),n=o.createRange(),n.setStartAfter(i),f.selectRange(n)}else f.insertHTML(e.outerHTML,t?t.outerHTML:null)},f.cloneSelected=function(){var e=f.selectedRange();return e?l?e.cloneRange():e.duplicate():void 0},f.selectedRange=function(){var e,t,n=l?i.getSelection():o.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=o.body;t.firstChild;)t=t.firstChild;e=o.createRange(),e.setStart(t,0),n.addRange(e)}return l&&(e=n.getRangeAt(0)),l||"Control"===n.type||(e=n.createRange()),a(e)?e:null}},a=function(e){var t;return e&&e.parentElement&&(t=e.parentElement())?t.ownerDocument===o:!0},f.hasSelection=function(){var e,t=l?i.getSelection():o.selection;return l||!t?t&&t.rangeCount>0:(e=t.createRange(),e&&a(e))},f.selectedHtml=function(){var e,t=f.selectedRange();return t?!l&&""!==t.text&&t.htmlText?t.htmlText:l?(e=o.createElement("div"),e.appendChild(t.cloneContents()),e.innerHTML):"":""},f.parentNode=function(){var e=f.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},f.getFirstBlockParent=function(t){var n=function(t){return e.sceditor.dom.isInline(t,!0)?(t=t?t.parentNode:null,t?n(t):null):t};return n(t||f.parentNode())},f.insertNodeAt=function(e,t){var n=f.selectedRange(),i=f.cloneSelected();return i?(i.collapse(e),i.insertNode?i.insertNode(t):i.pasteHTML(t.outerHTML),f.selectRange(n),void 0):!1},s=function(e){f.removeMarker(e);var t=o.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},f.insertMarkers=function(){f.insertNodeAt(!0,s(c)),f.insertNodeAt(!1,s(u))},f.getMarker=function(e){return o.getElementById(e)},f.removeMarker=function(e){var t=f.getMarker(e);t&&t.parentNode.removeChild(t)},f.removeMarkers=function(){f.removeMarker(c),f.removeMarker(u)},f.saveRange=function(){f.insertMarkers()},f.selectRange=function(e){l?(i.getSelection().removeAllRanges(),i.getSelection().addRange(e)):e.select()},f.restoreRange=function(){var e,t=f.selectedRange(),n=f.getMarker(c),i=f.getMarker(u);return n&&i&&t?(l?(t=o.createRange(),t.setStartBefore(n),t.setEndAfter(i),f.selectRange(t)):(t=o.body.createTextRange(),e=o.body.createTextRange(),e.moveToElementText(n),t.setEndPoint("StartToStart",e),t.moveStart(d,0),e.moveToElementText(i),t.setEndPoint("EndToStart",e),t.moveEnd(d,0),f.selectRange(t)),f.removeMarkers(),void 0):!1},f.selectOuterText=function(e,t){var n=f.cloneSelected();return n?(n.collapse(!1),l?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(d,0-e),n.moveEnd(d,t)),f.selectRange(n),void 0):!1},f.getOuterText=function(e,t){var n="",i=f.cloneSelected();return i?(i.collapse(!1),e?l?(n=i.startContainer.textContent.substr(0,i.startOffset),n=n.substr(Math.max(0,n.length-t))):(i.moveStart(d,0-t),n=i.text):l?n=i.startContainer.textContent.substr(i.startOffset,t):(i.moveEnd(d,t),n=i.text),n):""},f.raplaceKeyword=function(t,n,i,o,r,s){i||t.sort(function(e,t){return e.length-t.length});var a,c,u,d,p,h,m,g=t.length,y=o||t[g-1][0].length;if(r){if(!l)return!1;++y}for(a=f.getOuterText(!0,y),c=a+(null!=s?s:""),n&&(c+=f.getOuterText(!1,y));g--;)if(m=t[g][0],p=new RegExp("(?:[\\s    ])"+e.sceditor.regexEscape(m)+"(?=[\\s    ])"),h=a.length-1-m.length,r&&--h,h=Math.max(0,h),(u=r?c.substr(h).search(p):c.indexOf(m,h))>-1){if(r&&(u+=h+1),u>a.length||u+m.length+(r?1:0)<a.length)continue;return d=a.length-u,f.selectOuterText(d,m.length-d-(null!=s&&/^\S/.test(s)?1:0)),f.insertHTML(t[g][1]),!0}return!1},f.compare=function(e,t){return t||(t=f.selectedRange()),e&&t?l?0===e.compareBoundaryPoints(Range.END_TO_END,t)&&0===e.compareBoundaryPoints(Range.START_TO_START,t):a(e)&&a(t)&&0===e.compareEndPoints("EndToEnd",t)&&0===e.compareEndPoints("StartToStart",t):!e&&!t}},e.sceditor.dom={traverse:function(e,t,n,i,o){if(e)for(e=o?e.lastChild:e.firstChild;null!=e;){var r=o?e.previousSibling:e.nextSibling;if(!n&&t(e)===!1)return!1;if(!i&&this.traverse(e,t,n,i,o)===!1)return!1;if(n&&t(e)===!1)return!1;e=r}},rTraverse:function(e,t,n,i){this.traverse(e,t,n,i,!0)},parseHTML:function(t,i){var o=[],r=(i||n).createElement("div");return r.innerHTML=t,e.merge(o,r.childNodes),o},hasStyling:function(t){var n=e(t);return t&&(!n.is("p,div")||t.className||n.attr("style")||!e.isEmptyObject(n.data()))},convertElement:function(t,n){for(var i,o,r=t.attributes.length,s=t.ownerDocument.createElement(n);r--;)o=t.attributes[r],(!e.sceditor.ie||o.specified)&&(e.sceditor.ie<8&&/style/i.test(o.name)?t.style.cssText=t.style.cssText:s.setAttribute(o.name,o.value));for(;i=t.firstChild;)s.appendChild(i);return t.parentNode.replaceChild(s,t),s},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",isInline:function(t,n){return t&&1===t.nodeType?(t=t.tagName.toLowerCase(),"code"===t?!n:e.sceditor.dom.blockLevelList.indexOf("|"+t+"|")<0):!0},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var t=this,n=function(e){for(;t.isInline(e.parentNode,!0);)e=e.parentNode;return e};t.traverse(e,function(e){if(1===e.nodeType&&!t.isInline(e,!0)&&t.isInline(e.parentNode,!0)){var i=n(e),o=i.parentNode,r=t.extractContents(i,e),s=e;t.copyCSS(i,s),o.insertBefore(r,i),o.insertBefore(s,i)}})},findCommonAncestor:function(t,n){return e(t).parents().has(e(n)).first()},getSibling:function(t,n){var i;return t?(i=t[n?"previousSibling":"nextSibling"])?i:e.sceditor.dom.getSibling(t.parentNode,n):null},removeWhiteSpace:function(t,n){for(var i,o,r,s,a,l,c,u,d=e.sceditor.dom.getSibling,f=e.sceditor.dom.isInline,p=t.firstChild,h=/[\t ]+/g,m=/[\t\n\r ]+/g;p;){if(l=p.nextSibling,i=p.nodeValue,o=p.nodeType,1===o&&p.firstChild&&(a=e(p).css("whiteSpace"),/pre(?:\-wrap)?$/i.test(a)||e.sceditor.dom.removeWhiteSpace(p,/line$/i.test(a))),3===o&&i){for(r=d(p),s=d(p,!0),u=s,c=!1;e(u).hasClass("sceditor-ignore");)u=d(u,!0);if(f(p)&&u){for(;u.lastChild;)u=u.lastChild;c=3===u.nodeType?/[\t\n\r ]$/.test(u.nodeValue):!f(u)}f(p)&&s&&f(s)&&!c||(i=i.replace(/^[\t\n\r ]+/,"")),f(p)&&r&&f(r)||(i=i.replace(/[\t\n\r ]+$/,"")),i.length?p.nodeValue=i.replace(n?h:m," "):t.removeChild(p)}p=l}},extractContents:function(e,t){var n=this,i=n.findCommonAncestor(e,t),o=i?i[0]:null,r=!1,s=!1;return function a(i){var o=e.ownerDocument.createDocumentFragment();return n.traverse(i,function(n){if(s||n===t&&r)return s=!0,!1;n===e&&(r=!0);var i,l;r?jQuery.contains(n,t)&&1===n.nodeType?(i=a(n),l=n.cloneNode(!1),l.appendChild(i),o.appendChild(l)):o.appendChild(n):jQuery.contains(n,e)&&1===n.nodeType&&(i=a(n),l=n.cloneNode(!1),l.appendChild(i),o.appendChild(l))},!1),o}(o)}},e.sceditor.plugins={},e.sceditor.PluginManager=function(t){var n=this,i=[],o=t,r=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},s=function(e,t){e=[].slice.call(e);for(var n=i.length,s=r(e.shift());n--;)if(s in i[n]){if(t)return i[n][s].apply(o,e);i[n][s].apply(o,e)}};n.call=function(){s(arguments,!1)},n.callOnlyFirst=function(){return s(arguments,!0)},n.iter=function(e){return e=r(e),function(){var t=i.length;return{callNext:function(n){for(;t--;)if(i[t]&&e in i[t])return i[t].apply(o,n)},hasNext:function(){for(var n=t;n--;)if(i[n]&&e in i[n])return!0;return!1}}}()},n.hasHandler=function(e){var t=i.length;for(e=r(e);t--;)if(e in i[t])return!0;return!1},n.exsists=function(t){return t in e.sceditor.plugins?(t=e.sceditor.plugins[t],"function"==typeof t&&"object"==typeof t.prototype):!1},n.isRegistered=function(t){var o=i.length;if(!n.exsists(t))return!1;for(;o--;)if(i[o]instanceof e.sceditor.plugins[t])return!0;return!1},n.register=function(t){return n.exsists(t)?(t=new e.sceditor.plugins[t],i.push(t),"init"in t&&t.init.apply(o),!0):!1},n.deregister=function(t){var r,s=i.length,a=!1;if(!n.isRegistered(t))return!1;for(;s--;)i[s]instanceof e.sceditor.plugins[t]&&(r=i.splice(s,1)[0],a=!0,"destroy"in r&&r.destroy.apply(o));return a},n.destroy=function(){for(var e=i.length;e--;)"destroy"in i[e]&&i[e].destroy.apply(o);i=null,o=null}},e.sceditor.command={get:function(t){return e.sceditor.commands[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.commands[t]||{},n),n.remove=function(){e.sceditor.command.remove(t)},e.sceditor.commands[t]=n,this):!1},remove:function(t){return e.sceditor.commands[t]&&delete e.sceditor.commands[t],this}},e.sceditor.defaultOptions={toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"jquery.sceditor.default.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"emoticons/smile.png",":angel:":"emoticons/angel.png",":angry:":"emoticons/angry.png","8-)":"emoticons/cool.png",":'(":"emoticons/cwy.png",":ermm:":"emoticons/ermm.png",":D":"emoticons/grin.png","<3":"emoticons/heart.png",":(":"emoticons/sad.png",":O":"emoticons/shocked.png",":P":"emoticons/tongue.png",";)":"emoticons/wink.png"},more:{":alien:":"emoticons/alien.png",":blink:":"emoticons/blink.png",":blush:":"emoticons/blush.png",":cheerful:":"emoticons/cheerful.png",":devil:":"emoticons/devil.png",":dizzy:":"emoticons/dizzy.png",":getlost:":"emoticons/getlost.png",":happy:":"emoticons/happy.png",":kissing:":"emoticons/kissing.png",":ninja:":"emoticons/ninja.png",":pinch:":"emoticons/pinch.png",":pouty:":"emoticons/pouty.png",":sick:":"emoticons/sick.png",":sideways:":"emoticons/sideways.png",":silly:":"emoticons/silly.png",":sleeping:":"emoticons/sleeping.png",":unsure:":"emoticons/unsure.png",":woot:":"emoticons/w00t.png",":wassat:":"emoticons/wassat.png"},hidden:{":whistling:":"emoticons/whistling.png",":love:":"emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,getHtmlHandler:null,getTextHandler:null,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}},e.fn.sceditor=function(t){var n,i=[];
return t=t||{},t.runWithoutWysiwygSupport||e.sceditor.isWysiwygSupported?(this.each(function(){n=this.jquery?this:e(this),n.parents(".sceditor-container").length>0||("state"===t?i.push(!!n.data("sceditor")):"instance"===t?i.push(n.data("sceditor")):n.data("sceditor")||new e.sceditor(this,t))}),i.length?1===i.length?i[0]:e(i):this):void 0}}(jQuery,window,document),function(e,t,n){"use strict";e.sceditor.BBCodeParser=function(t){if(!(this instanceof e.sceditor.BBCodeParser))return new e.sceditor.BBCodeParser(t);var i,o,r,s,a,l,c,u,d,f,p,h,m,g,y,v=this,b={open:"open",content:"content",newline:"newline",close:"close"},x=function(e,t,n,i,o,r){var s=this;s.type=e,s.name=t,s.val=n,s.attrs=i||{},s.children=o||[],s.closing=r||null};x.prototype={clone:function(e){var t=this;return new x(t.type,t.name,t.val,t.attrs,e?t.children:[],t.closing?t.closing.clone():null)},splitAt:function(t){var n,i=this,o=0,r=i.children.length;if("number"!=typeof object&&(t=e.inArray(t,i.children)),0>t||t>r)return null;for(;r--;)r>=t?o++:r=0;return n=i.clone(),n.children=i.children.splice(t,o),n}},i=function(){v.opts=e.extend({},e.sceditor.BBCodeParser.defaults,t),v.bbcodes=e.sceditor.plugins.bbcode.bbcodes},v.tokenize=function(e){var t,n,i,r=[],s=[{type:"close",regex:/^\[\/[^\[\]]+\]/},{type:"open",regex:/^\[[^\[\]]+\]/},{type:"newline",regex:/^(\r\n|\r|\n)/},{type:"content",regex:/^([^\[\r\n]+|\[)/}];s.reverse();e:for(;e.length;){for(i=s.length;i--;)if(n=s[i].type,(t=e.match(s[i].regex))&&t[0]){r.push(o(n,t[0])),e=e.substr(t[0].length);continue e}e.length&&r.push(o(b.content,e)),e=""}return r},o=function(t,n){var i,o,s;return"open"===t&&(i=n.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))?(s=g(i[1]),i[2]&&(i[2]=e.trim(i[2]))&&(o=r(i[2]))):"close"===t&&(i=n.match(/\[\/([^\[\]]+)\]/))?s=g(i[1]):"newline"===t&&(s="#newline"),s&&("open"!==t&&"close"!==t||e.sceditor.plugins.bbcode.bbcodes[s])||(t="content",s="#"),new x(t,s,n,o)},r=function(t){var n,i=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,o=e.sceditor.plugins.bbcode.stripQuotes,r={};if("="===t.charAt(0)&&t.indexOf("=",1)<0)r.defaultattr=o(t.substr(1));else for("="===t.charAt(0)&&(t="defaultattr"+t);n=i.exec(t);)r[g(n[1])]=o(n[3])||n[4];return r},v.parse=function(e,t){var n=s(v.tokenize(e));return v.opts.fixInvalidChildren&&d(n),v.opts.removeEmptyTags&&u(n),v.opts.fixInvalidNesting&&l(n),a(n,null,t),v.opts.removeEmptyTags&&u(n),n},h=function(e,t,n){for(var i=n.length;i--;)if(n[i].type===t&&n[i].name===e)return!0;return!1},c=function(t,n){var i=t?v.bbcodes[t.name]:null,o=i?i.allowedChildren:null;return v.opts.fixInvalidChildren&&o?o&&e.inArray(n.name||"#",o)<0?!1:!0:!0},s=function(t){for(var n,i,o,r,s,a,l,c=[],u=[],d=[],f=function(){return y(d)},p=function(e){f()?f().children.push(e):u.push(e)},m=function(t){return f()&&(i=v.bbcodes[f().name])&&i.closedBy&&e.inArray(t,i.closedBy)>-1};n=t.shift();){switch(l=t[0],n.type){case b.open:m(n.name)&&d.pop(),p(n),i=v.bbcodes[n.name],i&&i.isSelfClosing||!i.closedBy&&!h(n.name,b.close,t)?i&&i.isSelfClosing||(n.type=b.content):d.push(n);break;case b.close:if(f()&&n.name!==f().name&&m("/"+n.name)&&d.pop(),f()&&n.name===f().name)f().closing=n,d.pop();else if(h(n.name,b.open,d)){for(;o=d.pop();){if(o.name===n.name){o.closing=n;break}r=o.clone(),c.length>1&&r.children.push(y(c)),c.push(r)}for(p(y(c)),s=c.length;s--;)d.push(c[s]);c.length=0}else n.type=b.content,p(n);break;case b.newline:f()&&l&&m((l.type===b.close?"/":"")+l.name)&&(l.type!==b.close||l.name!==f().name)&&(i=v.bbcodes[f().name],i&&i.breakAfter?d.pop():i&&i.isInline===!1&&v.opts.breakAfterBlock&&i.breakAfter!==!1&&d.pop()),p(n);break;default:p(n)}a=n}return u},a=function(e,t,n){var i,o,r,s,l,c,u,d,f=e.length,p=f;for(t&&(s=v.bbcodes[t.name]);p--;)if(i=e[p])if(i.type===b.newline){if(o=p>0?e[p-1]:null,r=f-1>p?e[p+1]:null,d=!1,!n&&s&&s.isSelfClosing!==!0&&(o?c||r||(s.isInline===!1&&v.opts.breakEndBlock&&s.breakEnd!==!1&&(d=!0),s.breakEnd&&(d=!0),c=d):(s.isInline===!1&&v.opts.breakStartBlock&&s.breakStart!==!1&&(d=!0),s.breakStart&&(d=!0))),o&&o.type===b.open&&(l=v.bbcodes[o.name])&&(n?l.isInline===!1&&(d=!0):(l.isInline===!1&&v.opts.breakAfterBlock&&l.breakAfter!==!1&&(d=!0),l.breakAfter&&(d=!0))),!n&&!u&&r&&r.type===b.open&&(l=v.bbcodes[r.name])&&(l.isInline===!1&&v.opts.breakBeforeBlock&&l.breakBefore!==!1&&(d=!0),l.breakBefore&&(d=!0),u=d,d)){e.splice(p,1);continue}d&&e.splice(p,1),u=!1}else i.type===b.open&&a(i.children,i,n)},l=function(t,n,i,o){var r,s,a,c,u,d,f=function(e){var t=v.bbcodes[e.name];return!t||t.isInline!==!1};for(n=n||[],o=o||t,s=0;s<t.length;s++)if((r=t[s])&&r.type===b.open){if(!f(r)&&i&&(a=y(n),d=a.splitAt(r),u=n.length>1?n[n.length-2].children:o,(c=e.inArray(a,u))>-1))return d.children.splice(e.inArray(r,d.children),1),u.splice(c+1,0,r,d),void 0;n.push(r),l(r.children,n,i||f(r),o),n.pop(r)}},d=function(e,t){for(var n,i,o=e.length;o--;)(n=e[o])&&(c(t,n)||(n.name=null,n.type=b.content,c(t,n)?(i=[o+1,0].concat(n.children),n.closing&&(n.closing.name=null,n.closing.type=b.content,i.push(n.closing)),o+=i.length-1,Array.prototype.splice.apply(e,i)):t.children.splice(o,1)),n.type===b.open&&d(n.children,n))},u=function(t){var n,i,o,r=t.length;for(o=function(e){for(var t=e.length;t--;){if(e[t].type===b.open)return!1;if(e[t].type===b.close)return!1;if(e[t].type===b.content&&e[t].val&&/\S|\u00A0/.test(e[t].val))return!1}return!0};r--;)(n=t[r])&&n.type===b.open&&(i=v.bbcodes[n.name],u(n.children),o(n.children)&&i&&!i.isSelfClosing&&!i.allowsEmpty&&t.splice.apply(t,e.merge([r,1],n.children)))},v.toHTML=function(e,t){return f(v.parse(e,t),!0)},f=function(t,i){var o,r,s,a,l,c,u,d,p=[];for(u=function(e){return(!e||("undefined"!=typeof e.isHtmlInline?e.isHtmlInline:e.isInline))!==!1};t.length>0;)if(o=t.shift()){if(o.type===b.open)d=o.children[o.children.length-1]||{},r=v.bbcodes[o.name],l=i&&u(r),s=f(o.children,!1),r&&r.html?(u(r)||!u(v.bbcodes[d.name])||r.isPreFormatted||r.skipLastLineBreak||e.sceditor.ie||(s+="<br />"),a=e.isFunction(r.html)?r.html.call(v,o,o.attrs,s):e.sceditor.plugins.bbcode.formatString(r.html,s)):a=o.val+s+(o.closing?o.closing.val:"");else{if(o.type===b.newline){if(!i){p.push("<br />");continue}c||(p.push("<div>"),(n.documentMode&&n.documentMode<8||e.sceditor.ie<8)&&p.push(" ")),e.sceditor.ie||p.push("<br />"),t.length||p.push("<br />"),p.push("</div>\n"),c=!1;continue}l=i,a=e.sceditor.escapeEntities(o.val)}l&&!c?(p.push("<div>"),c=!0):!l&&c&&(p.push("</div>\n"),c=!1),p.push(a)}return c&&p.push("</div>\n"),p.join("")},v.toBBCode=function(e,t){return p(v.parse(e,t))},p=function(t){for(var n,i,o,r,s,a,l,c,u,d,f=[];t.length>0;)if(n=t.shift())if(o=v.bbcodes[n.name],r=!(!o||o.isInline!==!1),s=o&&o.isSelfClosing,l=r&&v.opts.breakBeforeBlock&&o.breakBefore!==!1||o&&o.breakBefore,c=r&&!s&&v.opts.breakStartBlock&&o.breakStart!==!1||o&&o.breakStart,u=r&&v.opts.breakEndBlock&&o.breakEnd!==!1||o&&o.breakEnd,d=r&&v.opts.breakAfterBlock&&o.breakAfter!==!1||o&&o.breakAfter,a=(o?o.quoteType:null)||v.opts.quoteType||e.sceditor.BBCodeParser.QuoteType.auto,o||n.type!==b.open)if(n.type===b.open){if(l&&f.push("\n"),f.push("["+n.name),n.attrs){n.attrs.defaultattr&&(f.push("="+m(n.attrs.defaultattr,a,"defaultattr")),delete n.attrs.defaultattr);for(i in n.attrs)n.attrs.hasOwnProperty(i)&&f.push(" "+i+"="+m(n.attrs[i],a,i))}f.push("]"),c&&f.push("\n"),n.children&&f.push(p(n.children)),s||o.excludeClosing||(u&&f.push("\n"),f.push("[/"+n.name+"]")),d&&f.push("\n"),n.closing&&s&&f.push(n.closing.val)}else f.push(n.val);else f.push(n.val),n.children&&f.push(p(n.children)),n.closing&&f.push(n.closing.val);return f.join("")},m=function(t,n,i){var o=e.sceditor.BBCodeParser.QuoteType,r=/\s|=/.test(t);return e.isFunction(n)?n(t,i):n===o.never||n===o.auto&&!r?t:'"'+t.replace("\\","\\\\").replace('"','\\"')+'"'},y=function(e){return e.length?e[e.length-1]:null},g=function(e){return e.toLowerCase()},i()},e.sceditor.BBCodeParser.QuoteType={always:1,never:2,auto:3},e.sceditor.BBCodeParser.defaults={breakBeforeBlock:!1,breakStartBlock:!1,breakEndBlock:!1,breakAfterBlock:!0,removeEmptyTags:!0,fixInvalidNesting:!0,fixInvalidChildren:!0,quoteType:e.sceditor.BBCodeParser.QuoteType.auto},e.sceditorBBCodePlugin=e.sceditor.plugins.bbcode=function(){var t,i,o,r,s,a,l,c=this;r=e.sceditor.plugins.bbcode.formatString,c.bbcodes=e.sceditor.plugins.bbcode.bbcodes,c.stripQuotes=e.sceditor.plugins.bbcode.stripQuotes;var u={},d={},f={ul:["li","ol","ul"],ol:["li","ol","ul"],table:["tr"],tr:["td","th"],code:["br","p","div"]},p={};c.init=function(){c.opts=this.opts,t(),a(this),this.toBBCode=c.signalToSource,this.fromBBCode=c.signalToWysiwyg},a=function(t){var n=e.sceditor.command.get,i={bold:{txtExec:["[b]","[/b]"]},italic:{txtExec:["[i]","[/i]"]},underline:{txtExec:["[u]","[/u]"]},strike:{txtExec:["[s]","[/s]"]},subscript:{txtExec:["[sub]","[/sub]"]},superscript:{txtExec:["[sup]","[/sup]"]},left:{txtExec:["[left]","[/left]"]},center:{txtExec:["[center]","[/center]"]},right:{txtExec:["[right]","[/right]"]},justify:{txtExec:["[justify]","[/justify]"]},font:{txtExec:function(e){var t=this;n("font")._dropDown(t,e,function(e){t.insertText("[font="+e+"]","[/font]")})}},size:{txtExec:function(e){var t=this;n("size")._dropDown(t,e,function(e){t.insertText("[size="+e+"]","[/size]")})}},color:{txtExec:function(e){var t=this;n("color")._dropDown(t,e,function(e){t.insertText("[color="+e+"]","[/color]")})}},bulletlist:{txtExec:function(n,i){var o="";e.each(i.split(/\r?\n/),function(){o+=(o?"\n":"")+"[li]"+this+"[/li]"}),t.insertText("[ul]\n"+o+"\n[/ul]")}},orderedlist:{txtExec:function(n,i){var o="";e.each(i.split(/\r?\n/),function(){o+=(o?"\n":"")+"[li]"+this+"[/li]"}),e.sceditor.plugins.bbcode.bbcode.get(""),t.insertText("[ol]\n"+o+"\n[/ol]")}},table:{txtExec:["[table][tr][td]","[/td][/tr][/table]"]},horizontalrule:{txtExec:["[hr]"]},code:{txtExec:["[code]","[/code]"]},image:{txtExec:function(e,t){var n=prompt(this._("Enter the image URL:"),t);n&&this.insertText("[img]"+n+"[/img]")}},email:{txtExec:function(e,t){var n=t&&t.indexOf("@")>-1?null:t,i=prompt(this._("Enter the e-mail address:"),n?"":t),o=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[email="+i+"]"+o+"[/email]")}},link:{txtExec:function(e,t){var n=t&&t.indexOf("http://")>-1?null:t,i=prompt(this._("Enter URL:"),n?"http://":t),o=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[url="+i+"]"+o+"[/url]")}},quote:{txtExec:["[quote]","[/quote]"]},youtube:{txtExec:function(e){var t=this;n("youtube")._dropDown(t,e,function(e){t.insertText("[youtube]"+e+"[/youtube]")})}},rtl:{txtExec:["[rtl]","[/rtl]"]},ltr:{txtExec:["[ltr]","[/ltr]"]}};t.commands=e.extend(!0,{},i,t.commands)},t=function(){e.each(c.bbcodes,function(t){c.bbcodes[t].tags&&e.each(c.bbcodes[t].tags,function(e,n){var i=c.bbcodes[t].isInline===!1;u[e]=u[e]||{},u[e][i]=u[e][i]||{},u[e][i][t]=n}),c.bbcodes[t].styles&&e.each(c.bbcodes[t].styles,function(e,n){var i=c.bbcodes[t].isInline===!1;d[i]=d[i]||{},d[i][e]=d[i][e]||{},d[i][e][t]=n})})},s=function(t,n){var i,o,r,s,a,l=t.style;return l?(p[n]||(p[n]=e.camelCase(n)),a=p[n],"text-align"===n?(i=e(t),r=l.direction,s=l[a]||i.css(n),i.parent().css(n)===s||"block"!==i.css("display")||i.is("hr")||i.is("th")||(o=s),r&&o&&(/right/i.test(o)&&"rtl"===r||/left/i.test(o)&&"ltr"===r)?null:o):l[a]):null},i=function(t,n,i){var o;return i=!!i,d[i]?(e.each(d[i],function(i,a){o=s(t[0],i),o&&s(t.parent()[0],i)!==o&&e.each(a,function(i,s){(!s||e.inArray(o.toString(),s)>-1)&&(n=e.isFunction(c.bbcodes[i].format)?c.bbcodes[i].format.call(c,t,n):r(c.bbcodes[i].format,n))})}),n):n},o=function(t,n,i){var o,s=t[0],a=s.nodeName.toLowerCase();if(i=!!i,u[a]&&u[a][i]&&e.each(u[a][i],function(i,s){(!s||(o=!1,e.each(s,function(n,i){return!t.attr(n)||i&&e.inArray(t.attr(n),i)<0?void 0:(o=!0,!1)}),o))&&(n=e.isFunction(c.bbcodes[i].format)?c.bbcodes[i].format.call(c,t,n):r(c.bbcodes[i].format,n))}),i&&(!e.sceditor.dom.isInline(s,!0)||"br"===a)){for(var l=s.parentNode,d=l.lastChild,f=s.previousSibling,p=e.sceditor.dom.isInline(l,!0);f&&e(f).hasClass("sceditor-ignore");)f=f.previousSibling;for(;e(d).hasClass("sceditor-ignore");)d=d.previousSibling;(p||d!==s||"li"===a||"br"===a&&e.sceditor.ie)&&(n+="\n"),"br"!==a&&f&&"br"!==f.nodeName.toLowerCase()&&e.sceditor.dom.isInline(f,!0)&&(n="\n"+n)}return n},c.signalToSource=function(t,i){var o,r,s=new e.sceditor.BBCodeParser(c.opts.parserOptions);return i||("string"==typeof t?(o=e("<div />").css("visibility","hidden").appendTo(n.body).html(t),i=o):i=e(t)),i&&i.jquery?(e.sceditor.dom.removeWhiteSpace(i[0]),r=c.elementToBbcode(i),o&&o.remove(),r=s.toBBCode(r,!0),c.opts.bbcodeTrim&&(r=e.trim(r)),r):""},c.elementToBbcode=function(t){return function n(t,r){var s="";return e.sceditor.dom.traverse(t,function(t){var a=e(t),l="",c=t.nodeType,u=t.nodeName.toLowerCase(),d=f[u],p=t.firstChild,h=!0;if("object"==typeof r&&(h=e.inArray(u,r)>-1,a.is("img")&&a.data("sceditor-emoticon")&&(h=!0),h||(d=r)),3===c||1===c)if(1===c){if(a.hasClass("sceditor-ignore"))return;if(a.hasClass("sceditor-nlf")&&(!p||!e.sceditor.ie&&1===t.childNodes.length&&/br/i.test(p.nodeName)))return;"iframe"!==u&&(l=n(t,d)),h?("code"!==u&&(l=i(a,l),l=o(a,l),l=i(a,l,!0)),s+=o(a,l,!0)):s+=l}else!t.wholeText||t.previousSibling&&3===t.previousSibling.nodeType?t.wholeText||(s+=t.nodeValue):s+=0===a.parents("code").length?t.wholeText.replace(/ +/g," "):t.wholeText},!1,!0),s}(t[0])},c.signalToWysiwyg=function(t,n){var i=new e.sceditor.BBCodeParser(c.opts.parserOptions),o=i.toHTML(c.opts.bbcodeTrim?e.trim(t):t);return n?l(o):o},l=function(t){var i,o,r,s=e("<div />").hide().appendTo(n.body),a=s[0];return r=function(t,i){if(!e.sceditor.dom.hasStyling(t)){if(e.sceditor.ie||1!==t.childNodes.length||!e(t.firstChild).is("br"))for(;o=t.firstChild;)a.insertBefore(o,t);if(i){var r=a.lastChild;t!==r&&e(r).is("div")&&t.nextSibling===r&&a.insertBefore(n.createElement("br"),t)}a.removeChild(t)}},a.innerHTML=t.replace(/<\/div>\n/g,"</div>"),(i=a.firstChild)&&e(i).is("div")&&r(i,!0),(i=a.lastChild)&&e(i).is("div")&&r(i),a=a.innerHTML,s.remove(),a}},e.sceditor.plugins.bbcode.stripQuotes=function(e){return e?e.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2"):e},e.sceditor.plugins.bbcode.formatString=function(){var e=arguments;return e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})};var i=e.sceditor.plugins.bbcode.normaliseColour=function(e){var t,n;return n=function(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)).toString(16),e.length<2?"0"+e:e)},e=e||"#000",(t=e.match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))?"#"+n(t[1])+n(t[2]-0)+n(t[3]-0):(t=e.match(/#([0-f])([0-f])([0-f])\s*?$/i))?"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:e};e.sceditor.plugins.bbcode.bbcodes={b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n;return"font"===e[0].nodeName.toLowerCase()&&(n=e.attr("face"))||(n=e.css("font-family")),"[font="+this.stripQuotes(n)+"]"+t+"[/font]"},html:function(e,t,n){return'<font face="'+t.defaultattr+'">'+n+"</font>"}},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function(e,t){var n=e.attr("size"),i=1;return n||(n=e.css("fontSize")),n.indexOf("px")>-1?(n=n.replace("px","")-0,n>12&&(i=2),n>15&&(i=3),n>17&&(i=4),n>23&&(i=5),n>31&&(i=6),n>47&&(i=7)):i=n,"[size="+i+"]"+t+"[/size]"},html:function(e,t,n){return'<font size="'+t.defaultattr+'">'+n+"</font>"}},color:{tags:{font:{color:null}},styles:{color:null},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,o=e[0];return"font"===o.nodeName.toLowerCase()&&(n=e.attr("color"))||(n=o.style.color||e.css("color")),"[color="+i(n)+"]"+t+"[/color]"},html:function(e,t,n){return'<font color="'+i(t.defaultattr)+'">'+n+"</font>"}},ul:{tags:{ul:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ul]{0}[/ul]",html:"<ul>{0}</ul>"},list:{breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:"<ul>{0}</ul>"},ol:{tags:{ol:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ol]{0}[/ol]",html:"<ol>{0}</ol>"},li:{tags:{li:null},isInline:!1,closedBy:["/ul","/ol","/list","*","li"],format:"[li]{0}[/li]",html:"<li>{0}</li>"},"*":{isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:!1,isHtmlInline:!0,skipLastLineBreak:!0,format:"[table]{0}[/table]",html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:!1,skipLastLineBreak:!0,format:"[tr]{0}[/tr]",html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:!0,isInline:!1,format:"[th]{0}[/th]",html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:!0,isInline:!1,format:"[td]{0}[/td]",html:"<td>{0}</td>"},emoticon:{allowsEmpty:!0,tags:{img:{src:null,"data-sceditor-emoticon":null}},format:function(e,t){return e.data("sceditor-emoticon")+t},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:!0,isSelfClosing:!0,isInline:!1,format:"[hr]{0}",html:"<hr />"},img:{allowsEmpty:!0,tags:{img:{src:null}},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,i,o="",r=e[0],s=function(e){return r.style?r.style[e]:null};return e.attr("data-sceditor-emoticon")?t:(n=e.attr("width")||s("width"),i=e.attr("height")||s("height"),(r.complete&&(n||i)||n&&i)&&(o="="+e.width()+"x"+e.height()),"[img"+o+"]"+e.attr("src")+"[/img]")},html:function(e,t,n){var i,o="";return"undefined"!=typeof t.width&&(o+=' width="'+t.width+'"'),"undefined"!=typeof t.height&&(o+=' height="'+t.height+'"'),t.defaultattr&&(i=t.defaultattr.split(/x/i),o=' width="'+i[0]+'"'+' height="'+(2===i.length?i[1]:i[0])+'"'),"<img"+o+' src="'+n+'" />'}},url:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n=e.attr("href");return"mailto:"===n.substr(0,7)?'[email="'+n.substr(7)+'"]'+t+"[/email]":"[url="+decodeURI(n)+"]"+t+"[/url]"},html:function(e,t,n){return'<a href="'+encodeURI(t.defaultattr||n)+'">'+n+"</a>"}},email:{quoteType:e.sceditor.BBCodeParser.QuoteType.never,html:function(e,t,n){return'<a href="mailto:'+(t.defaultattr||n)+'">'+n+"</a>"}},quote:{tags:{blockquote:null},isInline:!1,quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(t,n){var i="",o=e(t),r=o.children("cite").first();return(1===r.length||o.data("author"))&&(i=r.text()||o.data("author"),o.data("author",i),r.remove(),n=this.elementToBbcode(e(t)),i="="+i,o.prepend(r)),"[quote"+i+"]"+n+"[/quote]"},html:function(e,t,n){return t.defaultattr&&(n="<cite>"+t.defaultattr+"</cite>"+n),"<blockquote>"+n+"</blockquote>"}},code:{tags:{code:null},isInline:!1,allowedChildren:["#","#newline"],format:"[code]{0}[/code]",html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},isInline:!1,format:"[left]{0}[/left]",html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},isInline:!1,format:"[center]{0}[/center]",html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},isInline:!1,format:"[right]{0}[/right]",html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},isInline:!1,format:"[justify]{0}[/justify]",html:'<div align="justify">{0}</div>'},youtube:{allowsEmpty:!0,tags:{iframe:{"data-youtube-id":null}},format:function(e,t){return e=e.attr("data-youtube-id"),e?"[youtube]"+e+"[/youtube]":t},html:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{0}?wmode=opaque" data-youtube-id="{0}" frameborder="0" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},format:"[rtl]{0}[/rtl]",html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},format:"[ltr]{0}[/ltr]",html:'<div style="direction: ltr">{0}</div>'},ignore:{}},e.sceditor.plugins.bbcode.bbcode={get:function(t){return e.sceditor.plugins.bbcode.bbcodes[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.plugins.bbcode.bbcodes[t]||{},n),n.remove=function(){e.sceditor.plugins.bbcode.bbcode.remove(t)},e.sceditor.plugins.bbcode.bbcodes[t]=n,this):!1},rename:function(e,t){return this.hasOwnProperty(e)?(this[t]=this[e],this.remove(e),this):!1},remove:function(t){return e.sceditor.plugins.bbcode.bbcodes[t]&&delete e.sceditor.plugins.bbcode.bbcodes[t],this}},e.fn.sceditorBBCodePlugin=function(t){return t=t||{},e.isPlainObject(t)&&(t.plugins=(t.plugins?t.plugins:"")+"bbcode"),this.sceditor(t)}}(jQuery,window,document),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Ct.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(e){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,t){var n=!0;return f(function(){return n&&(o(e),n=!1),t.apply(this,arguments)},t)}function s(e,t){yn[e]||(o(t),yn[e]=!0)}function a(e,t){return function(n){return m(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&A(e),p(this,e),this._d=new Date(+e._d)}function d(e){var t=T(e),n=t.year||0,i=t.quarter||0,o=t.month||0,r=t.week||0,s=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function f(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t){var n,i,o;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pt.length>0)for(n in Pt)i=Pt[n],o=t[i],"undefined"!=typeof o&&(e[i]=o);return e}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var i=""+Math.abs(e),o=e>=0;i.length<t;)i="0"+i;return(o?n?"+":"":"-")+i}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=B(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(e,t){return function(n,i){var o,r;return null===i||isNaN(+i)||(s(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,o=bt.duration(n,i),b(this,o,e),this}}function b(e,t,n,i){var o=t._milliseconds,r=t._days,s=t._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*n),r&&pt(e,"Date",ft(e,"Date")+r*n),s&&dt(e,ft(e,"Month")+s*n),i&&bt.updateOffset(e,r||s)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function k(e,t,n){var i,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;o>i;i++)(n&&e[i]!==t[i]||!n&&S(e[i])!==S(t[i]))&&s++;return s+r}function _(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=un[e]||dn[t]||t}return e}function T(e){var t,i,o={};for(i in e)n(e,i)&&(t=_(i),t&&(o[t]=e[i]));return o}function C(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}bt[t]=function(o,r){var s,a,l=bt._locale[t],c=[];if("number"==typeof o&&(r=o,o=e),a=function(e){var t=bt().utc().set(i,e);return l.call(bt._locale,t,o||"")},null!=r)return a(r);for(s=0;n>s;s++)c.push(a(s));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function M(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function E(e,t,n){return at(bt([e,11,31+t-n]),t,n).week}function D(e){return O(e)?366:365}function O(e){return 0===e%4&&0!==e%100||0===e%400}function A(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Mt]<0||e._a[Mt]>11?Mt:e._a[Et]<1||e._a[Et]>M(e._a[St],e._a[Mt])?Et:e._a[Dt]<0||e._a[Dt]>23?Dt:e._a[Ot]<0||e._a[Ot]>59?Ot:e._a[At]<0||e._a[At]>59?At:e._a[Nt]<0||e._a[Nt]>999?Nt:-1,e._pf._overflowDayOfYear&&(St>t||t>Et)&&(t=Et),e._pf.overflow=t)}function N(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function L(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){for(var t,n,i,o,r=0;r<e.length;){for(o=L(e[r]).split("-"),t=o.length,n=L(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=H(o.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(o,n,!0)>=t-1)break;t--}r++}return null}function H(e){var t=null;if(!Lt[e]&&Ht)try{t=bt.locale(),require("./locale/"+e),bt.locale(t)}catch(n){}return Lt[e]}function B(e,t){return t._isUTC?bt(e).zone(t._offset||0):bt(e).local()}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,i=e.match(Ft);for(t=0,n=i.length;n>t;t++)i[t]=gn[i[t]]?gn[i[t]]:I(i[t]);return function(o){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(o,e):i[t];return r}}function F(e,t){return e.isValid()?(t=j(t,e.localeData()),fn[t]||(fn[t]=R(t)),fn[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(jt.lastIndex=0;i>=0&&jt.test(e);)e=e.replace(jt,n),jt.lastIndex=0,i-=1;return e}function W(e,t){var n,i=t._strict;switch(e){case"Q":return Jt;case"DDDD":return Kt;case"YYYY":case"GGGG":case"gggg":return i?en:qt;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tn:Yt;case"S":if(i)return Jt;case"SS":if(i)return Zt;case"SSS":if(i)return Kt;case"DDD":return zt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $t;case"a":case"A":return t._locale._meridiemParse;case"X":return Gt;case"Z":case"ZZ":return Vt;case"T":return Xt;case"SSSS":return Ut;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Zt:Wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Wt;case"Do":return Qt;default:return n=new RegExp(Q(G(e.replace("\\","")),"i"))}}function z(e){e=e||"";var t=e.match(Vt)||[],n=t[t.length-1]||[],i=(n+"").match(ln)||["-",0,0],o=+(60*i[1])+S(i[2]);return"+"===i[0]?-o:o}function q(e,t,n){var i,o=n._a;switch(e){case"Q":null!=t&&(o[Mt]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(o[Mt]=S(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t),null!=i?o[Mt]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(o[Et]=S(t));break;case"Do":null!=t&&(o[Et]=S(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":o[St]=bt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":o[St]=S(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":o[Dt]=S(t);break;case"m":case"mm":o[Ot]=S(t);break;case"s":case"ss":o[At]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":o[Nt]=S(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=bt.parseTwoDigitYear(t)}}function Y(e){var n,i,o,r,s,a,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(s=1,a=4,i=t(n.GG,e._a[St],at(bt(),1,4).year),o=t(n.W,1),r=t(n.E,1)):(s=e._locale._week.dow,a=e._locale._week.doy,i=t(n.gg,e._a[St],at(bt(),s,a).year),o=t(n.w,1),null!=n.d?(r=n.d,s>r&&++o):r=null!=n.e?n.e+s:s),l=lt(i,o,r,a,s),e._a[St]=l.year,e._dayOfYear=l.dayOfYear}function U(e){var n,i,o,r,s=[];if(!e._d){for(o=V(e),e._w&&null==e._a[Et]&&null==e._a[Mt]&&Y(e),e._dayOfYear&&(r=t(e._a[St],o[St]),e._dayOfYear>D(r)&&(e._pf._overflowDayOfYear=!0),i=it(r,0,e._dayOfYear),e._a[Mt]=i.getUTCMonth(),e._a[Et]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=s[n]=o[n];for(;7>n;n++)e._a[n]=s[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?it:nt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function $(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],U(e))}function V(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function X(e){if(e._f===bt.ISO_8601)return void Z(e);e._a=[],e._pf.empty=!0;var t,n,i,o,r,s=""+e._i,a=s.length,l=0;for(i=j(e._f,e._locale).match(Ft)||[],t=0;t<i.length;t++)o=i[t],n=(s.match(W(o,e))||[])[0],n&&(r=s.substr(0,s.indexOf(n)),r.length>0&&e._pf.unusedInput.push(r),s=s.slice(s.indexOf(n)+n.length),l+=n.length),gn[o]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(o),q(o,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=a-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[Dt]<12&&(e._a[Dt]+=12),e._isPm===!1&&12===e._a[Dt]&&(e._a[Dt]=0),U(e),A(e)}function G(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,o){return t||n||i||o})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,o,r,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[r],X(t),N(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==o||o>s)&&(o=s,n=t));f(e,n||t)}function Z(e){var t,n,i=e._i,o=on.exec(i);if(o){for(e._pf.iso=!0,t=0,n=sn.length;n>t;t++)if(sn[t][1].exec(i)){e._f=sn[t][0]+(o[6]||" ");break}for(t=0,n=an.length;n>t;t++)if(an[t][1].exec(i)){e._f+=an[t][0];break}i.match(Vt)&&(e._f+="Z"),X(e)}else e._isValid=!1}function K(e){Z(e),e._isValid===!1&&(delete e._isValid,bt.createFromInputFallback(e))}function et(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function tt(t){var n,i=t._i;i===e?t._d=new Date:w(i)?t._d=new Date(+i):null!==(n=Bt.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?K(t):x(i)?(t._a=et(i.slice(0),function(e){return parseInt(e,10)}),U(t)):"object"==typeof i?$(t):"number"==typeof i?t._d=new Date(i):bt.createFromInputFallback(t)}function nt(e,t,n,i,o,r,s){var a=new Date(e,t,n,i,o,r,s);return 1970>e&&a.setFullYear(e),a}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ot(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function rt(e,t,n,i,o){return o.relativeTime(t||1,!!n,e,i)}function st(e,t,n){var i=bt.duration(e).abs(),o=Tt(i.as("s")),r=Tt(i.as("m")),s=Tt(i.as("h")),a=Tt(i.as("d")),l=Tt(i.as("M")),c=Tt(i.as("y")),u=o<pn.s&&["s",o]||1===r&&["m"]||r<pn.m&&["mm",r]||1===s&&["h"]||s<pn.h&&["hh",s]||1===a&&["d"]||a<pn.d&&["dd",a]||1===l&&["M"]||l<pn.M&&["MM",l]||1===c&&["y"]||["yy",c];
return u[2]=t,u[3]=+e>0,u[4]=n,rt.apply({},u)}function at(e,t,n){var i,o=n-t,r=n-e.day();return r>o&&(r-=7),o-7>r&&(r+=7),i=bt(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e,t,n,i,o){var r,s,a=it(e,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:o,r=o-a+(a>i?7:0)-(o>a?7:0),s=7*(t-1)+(n-o)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:D(e-1)+s}}function ct(t){var n=t._i,i=t._f;return t._locale=t._locale||bt.localeData(t._l),null===n||i===e&&""===n?bt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),bt.isMoment(n)?new u(n,!0):(i?x(i)?J(t):X(t):tt(t),new u(t)))}function ut(e,t){var n,i;if(1===t.length&&x(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function dt(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),M(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ft(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function pt(e,t,n){return"Month"===t?dt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ht(e,t){return function(n){return null!=n?(pt(this,e,n),bt.updateOffset(this,t),this):ft(this,e)}}function mt(e){return 400*e/146097}function gt(e){return 146097*e/400}function yt(e){bt.duration.fn[e]=function(){return this._data[e]}}function vt(e){"undefined"==typeof ender&&(xt=_t.moment,_t.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,xt,wt,kt="2.8.3",_t="undefined"!=typeof global?global:this,Tt=Math.round,Ct=Object.prototype.hasOwnProperty,St=0,Mt=1,Et=2,Dt=3,Ot=4,At=5,Nt=6,Lt={},Pt=[],Ht="undefined"!=typeof module&&module.exports,Bt=/^\/?Date\((\-?\d+)/i,It=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Rt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ft=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,jt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Wt=/\d\d?/,zt=/\d{1,3}/,qt=/\d{1,4}/,Yt=/[+\-]?\d{1,6}/,Ut=/\d+/,$t=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vt=/Z|[\+\-]\d\d:?\d\d/gi,Xt=/T/i,Gt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d{1,2}/,Jt=/\d/,Zt=/\d\d/,Kt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/[+-]?\d+/,on=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn="YYYY-MM-DDTHH:mm:ssZ",sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],an=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,cn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),un={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fn={},pn={s:45,m:45,h:22,d:26,M:11},hn="DDD w W M D d".split(" "),mn="M D H h m s w W".split(" "),gn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+":"+m(S(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+m(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yn={},vn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];hn.length;)wt=hn.pop(),gn[wt+"o"]=l(gn[wt],wt);for(;mn.length;)wt=mn.pop(),gn[wt+wt]=a(gn[wt],2);gn.DDDD=a(gn.DDD,3),f(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=bt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=bt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(e,t,n,i):o.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return at(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(t,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=e),s={},s._isAMomentObject=!0,s._i=t,s._f=n,s._l=o,s._strict=r,s._isUTC=!1,s._pf=i(),ct(s)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),bt.min=function(){var e=[].slice.call(arguments,0);return ut("isBefore",e)},bt.max=function(){var e=[].slice.call(arguments,0);return ut("isAfter",e)},bt.utc=function(t,n,o,r){var s;return"boolean"==typeof o&&(r=o,o=e),s={},s._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=o,s._i=t,s._f=n,s._strict=r,s._pf=i(),ct(s).utc()},bt.unix=function(e){return bt(1e3*e)},bt.duration=function(e,t){var i,o,r,s,a=e,l=null;return bt.isDuration(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(l=It.exec(e))?(i="-"===l[1]?-1:1,a={y:0,d:S(l[Et])*i,h:S(l[Dt])*i,m:S(l[Ot])*i,s:S(l[At])*i,ms:S(l[Nt])*i}):(l=Rt.exec(e))?(i="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},a={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(s=y(bt(a.from),bt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),o=new d(a),bt.isDuration(e)&&n(e,"_locale")&&(o._locale=e._locale),o},bt.version=kt,bt.defaultFormat=rn,bt.ISO_8601=function(){},bt.momentProperties=Pt,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(t,n){return pn[t]===e?!1:n===e?pn[t]:(pn[t]=n,!0)},bt.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return bt.locale(e,t)}),bt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?bt.defineLocale(e,t):bt.localeData(e),n&&(bt.duration._locale=bt._locale=n)),bt._locale._abbr},bt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Lt[e]||(Lt[e]=new c),Lt[e].set(t),bt.locale(e),Lt[e]):(delete Lt[e],null)},bt.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return bt.localeData(e)}),bt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt._locale;if(!x(e)){if(t=H(e))return t;e=[e]}return P(e)},bt.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},bt.isDuration=function(e){return e instanceof d};for(wt=vn.length-1;wt>=0;--wt)C(vn[wt]);bt.normalizeUnits=function(e){return _(e)},bt.invalid=function(e){var t=bt.utc(0/0);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},f(bt.fn=u.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=bt(this).utc();return 0<e.year()&&e.year()<=9999?F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return N(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=F(this,e||bt.defaultFormat);return this.localeData().postformat(t)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(e,t,n){var i,o,r,s=B(e,this),a=6e4*(this.zone()-s.zone());return t=_(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+s.daysInMonth()),o=12*(this.year()-s.year())+(this.month()-s.month()),r=this-bt(this).startOf("month")-(s-bt(s).startOf("month")),r-=6e4*(this.zone()-bt(this).startOf("month").zone()-(s.zone()-bt(s).startOf("month").zone())),o+=r/i,"year"===t&&(o/=12)):(i=this-s,o="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?o:h(o)},from:function(e,t){return bt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(bt(),e)},calendar:function(e){var t=e||bt(),n=B(t,this).startOf("day"),i=this.diff(n,"days",!0),o=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this))},isLeapYear:function(){return O(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ot(e,this.localeData()),this.add(e-t,"d")):t},month:ht("Month",!0),startOf:function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=_(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this>+e):+this.clone().startOf(t)>+bt(e).startOf(t)},isBefore:function(e,t){return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+e>+this):+this.clone().startOf(t)<+bt(e).startOf(t)},isSame:function(e,t){return t=_(t||"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this===+e):+this.clone().startOf(t)===+B(e,this).startOf(t)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=z(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?b(this,bt.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?bt(e).zone():0,0===(this.zone()-e)%60},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(e){var t=Tt((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return E(this.year(),e.dow,e.doy)},get:function(e){return e=_(e),this[e]()},set:function(e,t){return e=_(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=bt.localeData(t),null!=n&&(this._locale=n),this)},lang:r("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=ht("Milliseconds",!1),bt.fn.second=bt.fn.seconds=ht("Seconds",!1),bt.fn.minute=bt.fn.minutes=ht("Minutes",!1),bt.fn.hour=bt.fn.hours=ht("Hours",!0),bt.fn.date=ht("Date",!0),bt.fn.dates=r("dates accessor is deprecated. Use date instead.",ht("Date",!0)),bt.fn.year=ht("FullYear",!0),bt.fn.years=r("years accessor is deprecated. Use year instead.",ht("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,f(bt.duration.fn=d.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,o=this._days,r=this._months,s=this._data,a=0;s.milliseconds=i%1e3,e=h(i/1e3),s.seconds=e%60,t=h(e/60),s.minutes=t%60,n=h(t/60),s.hours=n%24,o+=h(n/24),a=h(mt(o)),o-=h(gt(a)),r+=h(o/30),o%=30,a+=h(r/12),r%=12,s.days=o,s.months=r,s.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*S(this._months/12)},humanize:function(e){var t=st(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=bt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=bt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=_(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=_(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*mt(t),"month"===e?n:n/12;switch(t=this._days+gt(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 60*24*t+this._milliseconds/6e4;case"second":return 60*60*24*t+this._milliseconds/1e3;case"millisecond":return Math.floor(1e3*60*60*24*t)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),o=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||o||r?"T":"")+(i?i+"H":"")+(o?o+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(wt in cn)n(cn,wt)&&yt(wt.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ht?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(_t.moment=xt),bt}),vt(!0)):vt()}.call(this),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.io=e()}}(function(){var e;return function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=o(e),r=i.source,c=i.id;return t.forceNew||t["force new connection"]||!1===t.multiplex?(a("ignoring socket cache for %s",r),n=s(r,t)):(l[c]||(a("new io instance for %s",r),l[c]=s(r,t)),n=l[c]),n.socket(i.path)}var o=e("./url"),r=e("socket.io-parser"),s=e("./manager"),a=e("debug")("socket.io-client");t.exports=n=i;var l=n.managers={};n.protocol=r.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t){function n(e,t){return this instanceof n?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connected=[],this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open(),void 0):new n(e,t)}e("./url");var i=e("engine.io-client"),o=e("./socket"),r=e("component-emitter"),s=e("socket.io-parser"),a=e("./on"),l=e("component-bind");e("object-component");var c=e("debug")("socket.io-client:manager"),u=e("indexof");t.exports=n,n.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)this.nsps[e].emit.apply(this.nsps[e],arguments)},r(n.prototype),n.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},n.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},n.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this):this._reconnectionDelay},n.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this):this._reconnectionDelayMax},n.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},n.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||0!==this.attempts||(this.openReconnect=!0,this.reconnect())},n.prototype.open=n.prototype.connect=function(e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var o=a(t,"open",function(){n.onopen(),e&&e()}),r=a(t,"error",function(t){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}n.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;c("connect attempt will timeout after %d",s);var l=setTimeout(function(){c("connect attempt timed out after %d",s),o.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(r),this},n.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",l(this,"ondata"))),this.subs.push(a(this.decoder,"decoded",l(this,"ondecoded"))),this.subs.push(a(e,"error",l(this,"onerror"))),this.subs.push(a(e,"close",l(this,"onclose")))},n.prototype.ondata=function(e){this.decoder.add(e)},n.prototype.ondecoded=function(e){this.emit("packet",e)},n.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},n.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var n=this;t.on("connect",function(){~u(n.connected,t)||n.connected.push(t)})}return t},n.prototype.destroy=function(e){var t=u(this.connected,e);~t&&this.connected.splice(t,1),this.connected.length||this.close()},n.prototype.packet=function(e){c("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++)t.engine.write(e[n]);t.encoding=!1,t.processPacketQueue()}))},n.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},n.prototype.cleanup=function(){for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},n.prototype.close=n.prototype.disconnect=function(){this.skipReconnect=!0,this.readyState="closed",this.engine&&this.engine.close()},n.prototype.onclose=function(e){c("close"),this.cleanup(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)c("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax()),c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.attempts),e.emitAll("reconnecting",e.attempts),e.skipReconnect||e.open(function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},n.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:36,"object-component":37,"socket.io-parser":40}],4:[function(e,t){function n(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=n},{}],5:[function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var o=e("socket.io-parser"),r=e("component-emitter"),s=e("to-array"),a=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),u=e("has-binary");t.exports=n=i;var d={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},f=r.prototype.emit;r(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",l(this,"onopen")),a(e,"packet",l(this,"onpacket")),a(e,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},i.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(d.hasOwnProperty(e))return f.apply(this,arguments),this;var t=s(arguments),n=o.EVENT;u(t)&&(n=o.BINARY_EVENT);var i={type:n,data:t};return"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:o.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case o.CONNECT:this.onconnect();break;case o.EVENT:this.onevent(e);break;case o.BINARY_EVENT:this.onevent(e);break;case o.ACK:this.onack(e);break;case o.BINARY_ACK:this.onack(e);break;case o.DISCONNECT:this.ondisconnect();break;case o.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);c("sending ack %j",i);var r=u(i)?o.BINARY_ACK:o.ACK;t.packet({type:r,id:e,data:i})}}},i.prototype.onack=function(e){c("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data),delete this.acks[e.id]},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:o.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,"socket.io-parser":40,"to-array":44}],6:[function(e,t){!function(n){function i(e,t){var i=e,t=t||n.location;return null==e&&(e=t.protocol+"//"+t.hostname),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.hostname+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),r("parse %s",e),i=o(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/",i.id=i.protocol+"://"+i.host+":"+i.port,i.href=i.protocol+"://"+i.host+(t&&t.port==i.port?"":":"+i.port),i}var o=e("parseuri"),r=e("debug")("socket.io-client:url");t.exports=i}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})
},{debug:9,parseuri:38}],7:[function(e,t){var n=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}},{}],8:[function(e,t){function n(e){return e?i(e):void 0}function i(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,o=n.length;o>i;++i)n[i].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t){function n(e){return n.enabled(e)?function(t){t=i(t);var o=new Date,r=o-(n[e]||o);n[e]=o,t=e+" "+t+" +"+n.humanize(r),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function i(e){return e instanceof Error?e.stack||e.message:e}t.exports=n,n.names=[],n.skips=[],n.enable=function(e){try{localStorage.debug=e}catch(t){}for(var i=(e||"").split(/[\s,]+/),o=i.length,r=0;o>r;r++)e=i[r].replace("*",".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$"))},n.disable=function(){n.enable("")},n.humanize=function(e){var t=1e3,n=6e4,i=60*n;return e>=i?(e/i).toFixed(1)+"h":e>=n?(e/n).toFixed(1)+"m":e>=t?(0|e/t)+"s":e+"ms"},n.enabled=function(e){for(var t=0,i=n.skips.length;i>t;t++)if(n.skips[t].test(e))return!1;for(var t=0,i=n.names.length;i>t;t++)if(n.names[t].test(e))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(o){}},{}],10:[function(e,t){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t){!function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(t=t||{},e&&"object"==typeof e&&(t=e,e=null),e&&(e=u(e),t.host=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.host){var o=t.host.split(":");t.hostname=o.shift(),o.length&&(t.port=o.pop())}this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=e("./transports"),s=e("component-emitter"),a=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),u=e("parseuri"),d=e("parsejson"),f=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,s(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=o(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return n},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0==this.transports.length){var t=this;return setTimeout(function(){t.emit("error","No transports available")},0),void 0}e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){return this.transports.shift(),this.open(),void 0}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;d=d||t}d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",u),!u)return;i.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){d||"closed"!=f.readyState&&(a("changing transport and sending upgrade packet"),c(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){d||(d=!0,c(),u.close(),u=null)}function o(t){var i=new Error("probe error: "+t);i.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",i)}function r(){o("transport closed")}function s(){o("socket closed")}function l(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function c(){u.removeListener("open",t),u.removeListener("error",o),u.removeListener("close",r),f.removeListener("close",s),f.removeListener("upgrading",l)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,f=this;i.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",o),u.once("close",r),this.once("close",s),this.once("upgrading",l),u.open()},i.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;t>e;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data,this.emit("error",t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){this.sendPacket("ping")},i.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++)this.callbackBuffer[e]&&this.callbackBuffer[e]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t){return this.sendPacket("message",e,t),this},i.prototype.sendPacket=function(e,t,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var i={type:e,data:t};this.emit("packetCreate",i),this.writeBuffer.push(i),this.callbackBuffer.push(n),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),a("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){a("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){a('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t)}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;i>n;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR}var i=e("engine.io-parser"),o=e("component-emitter");t.exports=n,o(n.prototype),n.timestamps=0,n.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},n.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,n){!function(t){function i(e){var n,i=!1,a=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,u=location.port;u||(u=c?443:80),i=e.hostname!=location.hostname||u!=e.port,a=e.secure!=c}if(e.xdomain=i,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new r(e);if(!l)throw new Error("JSONP disabled");return new s(e)}var o=e("xmlhttprequest"),r=e("./polling-xhr"),s=e("./polling-jsonp"),a=e("./websocket");n.polling=i,n.websocket=a}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t){!function(n){function i(){}function o(e){r.call(this,e),this.query=this.query||{},a||(n.___eio||(n.___eio=[]),a=n.___eio),this.index=a.length;var t=this;a.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)})}var r=e("./polling"),s=e("component-inherit");t.exports=o;var a,l=/\n/g,c=/\\n/g;s(o,r),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},o.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},o.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(e){o.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+o.iframeId+'">';r=document.createElement(t)}catch(e){r=document.createElement("iframe"),r.name=o.iframeId,r.src="javascript:0"}r.id=o.iframeId,o.form.appendChild(r),o.iframe=r}var o=this;if(!this.form){var r,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(d){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==o.iframe.readyState&&n()}:this.iframe.onload=n}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t){!function(n){function i(){}function o(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=n.location.hostname||i!=e.port,this.xs=e.secure!=t}}function r(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.create()}function s(){for(var e in r.requests)r.requests.hasOwnProperty(e)&&r.requests[e].abort()}var a=e("xmlhttprequest"),l=e("./polling"),c=e("component-emitter"),u=e("component-inherit"),d=e("debug")("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=r,u(o,l),o.prototype.supportsBinary=!0,o.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,new r(e)},o.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),o=this;i.on("success",t),i.on("error",function(e){o.onError("xhr post error",e)}),this.sendXhr=i},o.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(r.prototype),r.prototype.create=function(){var e=this.xhr=new a({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR}),t=this;try{if(d("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){t.onLoad()},e.onerror=function(){t.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?t.onLoad():setTimeout(function(){t.onError(e.status)},0))},d("xhr data %s",this.data),e.send(this.data)}catch(i){return setTimeout(function(){t.onError(i)},0),void 0}n.document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},r.prototype.onError=function(e){this.emit("error",e),this.cleanup()},r.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i;try{this.xhr.abort()}catch(e){}n.document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}e="application/octet-stream"===t?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},r.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},n.document&&(r.requestsCount=0,r.requests={},n.attachEvent?n.attachEvent("onunload",s):n.addEventListener&&n.addEventListener("beforeunload",s))}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t){function n(e){var t=e&&e.forceBase64;(!l||t)&&(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),o=e("parseqs"),r=e("engine.io-parser"),s=e("component-inherit"),a=e("debug")("engine.io-client:polling");t.exports=n;var l=function(){var t=e("xmlhttprequest"),n=new t({xdomain:!1});return null!=n.responseType}();s(n,i),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){a("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(a("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){a("pre-pause polling complete"),--i||t()})),this.writable||(a("we are currently writing - waiting to pause"),i++,this.once("drain",function(){a("pre-pause writing complete"),--i||t()}))}else t()},n.prototype.poll=function(){a("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;a("polling got data %s",e);var n=function(e){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):(t.onPacket(e),void 0)};r.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():a('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){a("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(a("transport open - closing"),e()):(a("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=+new Date+"-"+i.timestamps++),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t){function n(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),i.call(this,e)}var i=e("../transport"),o=e("engine.io-parser"),r=e("parseqs"),s=e("component-inherit"),a=e("debug")("engine.io-client:websocket"),l=e("ws");t.exports=n,s(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent};this.ws=new l(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){function t(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var i=0,r=e.length;r>i;i++)o.encodePacket(e[i],this.supportsBinary,function(e){try{n.ws.send(e)}catch(t){a("websocket closed before onclose event")}});setTimeout(t,0)},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=+new Date),this.supportsBinary||(e.b64=1),e=r.encode(e),e.length&&(e="?"+e),t+"://"+this.hostname+n+this.path+e},n.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===n.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(r){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(r){}}},{"has-cors":34}],20:[function(e,t){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],21:[function(e,t,n){!function(t){function i(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=e.data,r=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=p[e.type];for(var a=0;a<r.length;a++)s[a+1]=r[a];return i(s.buffer)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var o=new FileReader;return o.onload=function(){e.data=o.result,n.encodePacket(e,t,!0,i)},o.readAsArrayBuffer(e.data)}function r(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(f)return o(e,t,i);var r=new Uint8Array(1);r[0]=p[e.type];var s=new g([r.buffer,e.data]);return i(s)}function s(e,t,n){for(var i=new Array(e.length),o=u(e.length,n),r=function(e,n,o){t(n,function(t,n){i[e]=n,o(t,i)})},s=0;s<e.length;s++)r(s,e[s],o)}var a=e("./keys"),l=e("arraybuffer.slice"),c=e("base64-arraybuffer"),u=e("after"),d=e("utf8"),f=navigator.userAgent.match(/Android/i);n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=a(p),m={type:"error",data:"parser error"},g=e("blob");n.encodePacket=function(e,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&a instanceof ArrayBuffer)return i(e,n,s);if(g&&a instanceof t.Blob)return r(e,n,s);var l=p[e.type];return void 0!==e.data&&(l+=o?d.encode(String(e.data)):String(e.data)),s(""+l)},n.encodeBase64Packet=function(e,i){var o="b"+n.packets[e.type];if(g&&e.data instanceof g){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];i(o+e)},r.readAsDataURL(e.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(a){for(var l=new Uint8Array(e.data),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u];s=String.fromCharCode.apply(null,c)}return o+=t.btoa(s),i(o)},n.decodePacket=function(e,t,i){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i)try{e=d.decode(e)}catch(o){return m}var r=e.charAt(0);return Number(r)==r&&h[r]?e.length>1?{type:h[r],data:e.substring(1)}:{type:h[r]}:m}var s=new Uint8Array(e),r=s[0],a=l(e,1);return g&&"blob"===t&&(a=new g([a])),{type:h[r],data:a}},n.decodeBase64Packet=function(e,n){var i=h[e.charAt(0)];if(!t.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var o=c.decode(e.substr(1));return"blob"===n&&g&&(o=new g([o])),{type:i,data:o}},n.encodePayload=function(e,t,i){function o(e){return e.length+":"+e}function r(e,i){n.encodePacket(e,t,!0,function(e){i(null,o(e))})}return"function"==typeof t&&(i=t,t=null),t?g&&!f?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?(s(e,r,function(e,t){return i(t.join(""))}),void 0):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var o;if(""==e)return i(m,0,1);for(var r,s,a="",l=0,c=e.length;c>l;l++){var u=e.charAt(l);if(":"!=u)a+=u;else{if(""==a||a!=(r=Number(a)))return i(m,0,1);if(s=e.substr(l+1,r),a!=s.length)return i(m,0,1);if(s.length){if(o=n.decodePacket(s,t,!0),m.type==o.type&&m.data==o.data)return i(m,0,1);var d=i(o,l+r,c);if(!1===d)return}l+=r,a=""}}return""!=a?i(m,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?(s(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),o=new Uint8Array(i),r=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);n=i.buffer}o[r++]=t?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[r++]=parseInt(a[s]);o[r++]=255;for(var i=new Uint8Array(n),s=0;s<i.length;s++)o[r++]=i[s]}),t(o.buffer)}),void 0):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);e=i.buffer,n[0]=0}for(var r=e instanceof ArrayBuffer?e.byteLength:e.size,s=r.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,g){var l=new g([n.buffer,a.buffer,e]);t(null,l)}})}s(e,i,function(e,n){return t(new g(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var o=e,r=[],s=!1;o.byteLength>0;){for(var a=new Uint8Array(o),c=0===a[0],u="",d=1;255!=a[d];d++){if(u.length>310){s=!0;break}u+=a[d]}if(s)return i(m,0,1);o=l(o,2+u.length),u=parseInt(u);var f=l(o,0,u);if(c)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(p){var h=new Uint8Array(f);f="";for(var d=0;d<h.length;d++)f+=String.fromCharCode(h[d])}r.push(f),o=l(o,u)}var g=r.length;r.forEach(function(e,o){i(n.decodePacket(e,t,!0),o,g)})}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],23:[function(e,t){function n(e,t,n){function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=n):0!==o.count||r||t(null,i)}var r=!1;return n=n||i,o.count=e,0===e?t():o}function i(){}t.exports=n},{}],24:[function(e,t){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(0>t&&(t+=i),0>n&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(e),r=new Uint8Array(n-t),s=t,a=0;n>s;s++,a++)r[a]=o[s];return r.buffer}},{}],25:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,i=new Uint8Array(t),o=i.length,r="";for(n=0;o>n;n+=3)r+=e[i[n]>>2],r+=e[(3&i[n])<<4|i[n+1]>>4],r+=e[(15&i[n+1])<<2|i[n+2]>>6],r+=e[63&i[n+2]];return 2===o%3?r=r.substring(0,r.length-1)+"=":1===o%3&&(r=r.substring(0,r.length-2)+"=="),r},n.decode=function(t){var n,i,o,r,s,a=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),d=new Uint8Array(u);for(n=0;l>n;n+=4)i=e.indexOf(t[n]),o=e.indexOf(t[n+1]),r=e.indexOf(t[n+2]),s=e.indexOf(t[n+3]),d[c++]=i<<2|o>>4,d[c++]=(15&o)<<4|r>>2,d[c++]=(3&r)<<6|63&s;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t){!function(e){function n(e,t){t=t||{};for(var n=new i,o=0;o<e.length;o++)n.append(e[o]);return t.type?n.getBlob(t.type):n.getBlob()}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2==e.size}catch(t){return!1}}(),r=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return o?e.Blob:r?n:void 0}()}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,n,i){!function(t){!function(o){function r(e){for(var t,n,i=[],o=0,r=e.length;r>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&r>o?(n=e.charCodeAt(o++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--)):i.push(t);return i}function s(e){for(var t,n=e.length,i=-1,o="";++i<n;)t=e[i],t>65535&&(t-=65536,o+=b(55296|1023&t>>>10),t=56320|1023&t),o+=b(t);return o}function a(e,t){return b(128|63&e>>t)}function l(e){if(0==(4294967168&e))return b(e);var t="";return 0==(4294965248&e)?t=b(192|31&e>>6):0==(4294901760&e)?(t=b(224|15&e>>12),t+=a(e,6)):0==(4292870144&e)&&(t=b(240|7&e>>18),t+=a(e,12),t+=a(e,6)),t+=b(128|63&e)}function c(e){for(var t,n=r(e),i=n.length,o=-1,s="";++o<i;)t=n[o],s+=l(t);return s}function u(){if(v>=y)throw Error("Invalid byte index");var e=255&g[v];if(v++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(){var e,t,n,i,o;if(v>y)throw Error("Invalid byte index");if(v==y)return!1;if(e=255&g[v],v++,0==(128&e))return e;if(192==(224&e)){var t=u();if(o=(31&e)<<6|t,o>=128)return o;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),o=(15&e)<<12|t<<6|n,o>=2048)return o;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),i=u(),o=(15&e)<<18|t<<12|n<<6|i,o>=65536&&1114111>=o))return o;throw Error("Invalid UTF-8 detected")}function f(e){g=r(e),y=g.length,v=0;for(var t,n=[];(t=d())!==!1;)n.push(t);return s(n)}var p="object"==typeof i&&i,h="object"==typeof n&&n&&n.exports==p&&n,m="object"==typeof t&&t;(m.global===m||m.window===m)&&(o=m);var g,y,v,b=String.fromCharCode,x={version:"2.0.0",encode:c,decode:f};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return x
});else if(p&&!p.nodeType)if(h)h.exports=x;else{var w={},k=w.hasOwnProperty;for(var _ in x)k.call(x,_)&&(p[_]=x[_])}else o.utf8=x}(this)}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t){!function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,r=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(s,"").replace(a,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(o,"]").replace(r,""))?new Function("return "+t)():void 0):null}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,o=n.length;o>i;i++){var r=n[i].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},{}],30:[function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,o=e.indexOf("["),r=e.indexOf("]");-1!=o&&-1!=r&&(e=e.substring(0,o)+e.substring(o,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=n.exec(e||""),a={},l=14;l--;)a[i[l]]=s[l]||"";return-1!=o&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],31:[function(e,t){function n(e,t){var n;return n=t?new o(e,t):new o(e)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket;t.exports=o?n:null,o&&(n.prototype=o.prototype)},{}],32:[function(e,t){!function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(o(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return!0}return!1}return t(e)}var o=e("isarray");t.exports=i}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],34:[function(e,t){var n=e("global");try{t.exports="XMLHttpRequest"in n&&"withCredentials"in new n.XMLHttpRequest}catch(i){t.exports=!1}},{global:35}],35:[function(e,t){t.exports=function(){return this}()},{}],36:[function(e,t){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],37:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},n.values=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(e[n]);return t},n.merge=function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);return e},n.length=function(e){return n.keys(e).length},n.isEmpty=function(e){return 0==n.length(e)}},{}],38:[function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){for(var t=n.exec(e||""),o={},r=14;r--;)o[i[r]]=t[r]||"";return o}},{}],39:[function(e,t,n){!function(t){var i=e("isarray"),o=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(o(e)){var r={_placeholder:!0,num:n.length};return n.push(e),r}if(i(e)){for(var s=new Array(e.length),a=0;a<e.length;a++)s[a]=t(e[a]);return s}if("object"==typeof e&&!(e instanceof Date)){var s={};for(var l in e)s[l]=t(e[l]);return s}return e}var n=[],r=e.data,s=e;return s.data=t(r),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var o=t[e.num];return o}if(i(e)){for(var r=0;r<e.length;r++)e[r]=n(e[r]);return e}if(e&&"object"==typeof e){for(var s in e)e[s]=n(e[s]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function r(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){s++;var u=new FileReader;u.onload=function(){c?c[l]=this.result:a=this.result,--s||n(a)},u.readAsArrayBuffer(e)}else if(i(e))for(var d=0;d<e.length;d++)r(e[d],d,e);else if(e&&"object"==typeof e&&!o(e))for(var f in e)r(e[f],f,e)}var s=0,a=e;r(a),s||n(a)}}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,n){function i(){}function o(e){var t="",i=!1;return t+=e.type,(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)&&(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=d.stringify(e.data)),u("encoded %j as %s",e,t),t}function r(e,t){function n(e){var n=p.deconstructPacket(e),i=o(n.packet),r=n.buffers;r.unshift(i),t(r)}p.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(t.attachments="";"-"!=e.charAt(++i);)t.attachments+=e.charAt(i);t.attachments=Number(t.attachments)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var o=e.charAt(i);if(","==o)break;if(t.nsp+=o,i+1==e.length)break}else t.nsp="/";var r=e.charAt(i+1);if(""!=r&&Number(r)==r){for(t.id="";++i;){var o=e.charAt(i);if(null==o||Number(o)!=o){--i;break}if(t.id+=e.charAt(i),i+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++i))try{t.data=d.parse(e.substr(i))}catch(s){return c()}return u("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(){return{type:n.ERROR,data:"parser error"}}var u=e("debug")("socket.io-parser"),d=e("json3");e("isarray");var f=e("component-emitter"),p=e("./binary"),h=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=s,i.prototype.encode=function(e,t){if(u("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)r(e,t);else{var i=o(e);t([i])}},f(s.prototype),s.prototype.add=function(e){var t;if("string"==typeof e)t=a(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!h(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t){!function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],42:[function(e,t){t.exports=e(33)},{}],43:[function(t,n,i){!function(t){function n(e){if(n[e]!==s)return n[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=n("json-stringify")&&n("json-parse");else{var i,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var r=u.stringify,l="function"==typeof r&&d;if(l){(i=function(){return 1}).toJSON=i;try{l="0"===r(0)&&"0"===r(new Number)&&'""'==r(new String)&&r(a)===s&&r(s)===s&&r()===s&&"1"===r(i)&&"[1]"==r([i])&&"[null]"==r([s])&&"null"==r(null)&&"[null,null,null]"==r([s,a,null])&&r({a:[i,!0,!1,null,"\x00\b\n\f\r	"]})==o&&"1"===r(null,i)&&"[\n 1,\n 2\n]"==r([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==r(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new Date(-1))}catch(c){l=!1}}t=l}if("json-parse"==e){var f=u.parse;if("function"==typeof f)try{if(0===f("0")&&!f(!1)){i=f(o);var p=5==i.a.length&&1===i.a[0];if(p){try{p=!f('"	"')}catch(c){}if(p)try{p=1!==f("01")}catch(c){}if(p)try{p=1!==f("1.")}catch(c){}}}}catch(c){p=!1}t=p}}return n[e]=!!t}var o,r,s,a={}.toString,l="function"==typeof e&&e.amd,c="object"==typeof JSON&&JSON,u="object"==typeof i&&i&&!i.nodeType&&i;u&&c?(u.stringify=c.stringify,u.parse=c.parse):u=t.JSON=c||{};var d=new Date(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(f){}if(!n("json")){var p="[object Function]",h="[object Date]",m="[object Number]",g="[object String]",y="[object Array]",v="[object Boolean]",b=n("bug-string-char-index");if(!d)var x=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],k=function(e,t){return w[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};(o={}.hasOwnProperty)||(o=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?o=function(e){var t=this.__proto__,n=(this.__proto__=null,e in this);return this.__proto__=t,n}:(t=n.constructor,o=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,o.call(this,e)});var _={"boolean":1,number:1,string:1,undefined:1},T=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!_[n]};if(r=function(e,t){var n,i,s,l=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)o.call(i,s)&&l++;return n=i=null,l?r=2==l?function(e,t){var n,i={},r=a.call(e)==p;for(n in e)r&&"prototype"==n||o.call(i,n)||!(i[n]=1)||!o.call(e,n)||t(n)}:function(e,t){var n,i,r=a.call(e)==p;for(n in e)r&&"prototype"==n||!o.call(e,n)||(i="constructor"===n)||t(n);(i||o.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],r=function(e,t){var n,r,s=a.call(e)==p,l=!s&&"function"!=typeof e.constructor&&T(e,"hasOwnProperty")?e.hasOwnProperty:o;for(n in e)s&&"prototype"==n||!l.call(e,n)||t(n);for(r=i.length;n=i[--r];l.call(e,n)&&t(n));}),r(e,t)},!n("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S="000000",M=function(e,t){return(S+(t||0)).slice(-e)},E="\\u00",D=function(e){var t,n='"',i=0,o=e.length,r=o>10&&b;for(r&&(t=e.split(""));o>i;i++){var s=e.charCodeAt(i);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=C[s];break;default:if(32>s){n+=E+M(2,s.toString(16));break}n+=r?t[i]:b?e.charAt(i):e[i]}}return n+'"'},O=function(e,t,n,i,l,c,u){var d,f,p,b,w,_,T,C,S,E,A,N,L,P,H,B;try{d=t[e]}catch(I){}if("object"==typeof d&&d)if(f=a.call(d),f!=h||o.call(d,"toJSON"))"function"==typeof d.toJSON&&(f!=m&&f!=g&&f!=y||o.call(d,"toJSON"))&&(d=d.toJSON(e));else if(d>-1/0&&1/0>d){if(k){for(w=x(d/864e5),p=x(w/365.2425)+1970-1;k(p+1,0)<=w;p++);for(b=x((w-k(p,0))/30.42);k(p,b+1)<=w;b++);w=1+w-k(p,b),_=(d%864e5+864e5)%864e5,T=x(_/36e5)%24,C=x(_/6e4)%60,S=x(_/1e3)%60,E=_%1e3}else p=d.getUTCFullYear(),b=d.getUTCMonth(),w=d.getUTCDate(),T=d.getUTCHours(),C=d.getUTCMinutes(),S=d.getUTCSeconds(),E=d.getUTCMilliseconds();d=(0>=p||p>=1e4?(0>p?"-":"+")+M(6,0>p?-p:p):M(4,p))+"-"+M(2,b+1)+"-"+M(2,w)+"T"+M(2,T)+":"+M(2,C)+":"+M(2,S)+"."+M(3,E)+"Z"}else d=null;if(n&&(d=n.call(t,e,d)),null===d)return"null";if(f=a.call(d),f==v)return""+d;if(f==m)return d>-1/0&&1/0>d?""+d:"null";if(f==g)return D(""+d);if("object"==typeof d){for(P=u.length;P--;)if(u[P]===d)throw TypeError();if(u.push(d),A=[],H=c,c+=l,f==y){for(L=0,P=d.length;P>L;L++)N=O(L,d,n,i,l,c,u),A.push(N===s?"null":N);B=A.length?l?"[\n"+c+A.join(",\n"+c)+"\n"+H+"]":"["+A.join(",")+"]":"[]"}else r(i||d,function(e){var t=O(e,d,n,i,l,c,u);t!==s&&A.push(D(e)+":"+(l?" ":"")+t)}),B=A.length?l?"{\n"+c+A.join(",\n"+c)+"\n"+H+"}":"{"+A.join(",")+"}":"{}";return u.pop(),B}};u.stringify=function(e,t,n){var i,o,r,s;if("function"==typeof t||"object"==typeof t&&t)if((s=a.call(t))==p)o=t;else if(s==y){r={};for(var l,c=0,u=t.length;u>c;l=t[c++],s=a.call(l),(s==g||s==m)&&(r[l]=1));}if(n)if((s=a.call(n))==m){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else s==g&&(i=n.length<=10?n:n.slice(0,10));return O("",(l={},l[""]=e,l),o,r,i,"",[])}}if(!n("json-parse")){var A,N,L=String.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw A=N=null,SyntaxError()},B=function(){for(var e,t,n,i,o,r=N,s=r.length;s>A;)switch(o=r.charCodeAt(A)){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=b?r.charAt(A):r[A],A++,e;case 34:for(e="@",A++;s>A;)if(o=r.charCodeAt(A),32>o)H();else if(92==o)switch(o=r.charCodeAt(++A)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[o],A++;break;case 117:for(t=++A,n=A+4;n>A;A++)o=r.charCodeAt(A),o>=48&&57>=o||o>=97&&102>=o||o>=65&&70>=o||H();e+=L("0x"+r.slice(t,A));break;default:H()}else{if(34==o)break;for(o=r.charCodeAt(A),t=A;o>=32&&92!=o&&34!=o;)o=r.charCodeAt(++A);e+=r.slice(t,A)}if(34==r.charCodeAt(A))return A++,e;H();default:if(t=A,45==o&&(i=!0,o=r.charCodeAt(++A)),o>=48&&57>=o){for(48==o&&(o=r.charCodeAt(A+1),o>=48&&57>=o)&&H(),i=!1;s>A&&(o=r.charCodeAt(A),o>=48&&57>=o);A++);if(46==r.charCodeAt(A)){for(n=++A;s>n&&(o=r.charCodeAt(n),o>=48&&57>=o);n++);n==A&&H(),A=n}if(o=r.charCodeAt(A),101==o||69==o){for(o=r.charCodeAt(++A),(43==o||45==o)&&A++,n=A;s>n&&(o=r.charCodeAt(n),o>=48&&57>=o);n++);n==A&&H(),A=n}return+r.slice(t,A)}if(i&&H(),"true"==r.slice(A,A+4))return A+=4,!0;if("false"==r.slice(A,A+5))return A+=5,!1;if("null"==r.slice(A,A+4))return A+=4,null;H()}return"$"},I=function(e){var t,n;if("$"==e&&H(),"string"==typeof e){if("@"==(b?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=B(),"]"!=e;n||(n=!0))n&&(","==e?(e=B(),"]"==e&&H()):H()),","==e&&H(),t.push(I(e));return t}if("{"==e){for(t={};e=B(),"}"!=e;n||(n=!0))n&&(","==e?(e=B(),"}"==e&&H()):H()),(","==e||"string"!=typeof e||"@"!=(b?e.charAt(0):e[0])||":"!=B())&&H(),t[e.slice(1)]=I(B());return t}H()}return e},R=function(e,t,n){var i=F(e,t,n);i===s?delete e[t]:e[t]=i},F=function(e,t,n){var i,o=e[t];if("object"==typeof o&&o)if(a.call(o)==y)for(i=o.length;i--;)R(o,i,n);else r(o,function(e){R(o,e,n)});return n.call(e,t,o)};u.parse=function(e,t){var n,i;return A=0,N=""+e,n=I(B()),"$"!=B()&&H(),A=N=null,t&&a.call(t)==p?F((i={},i[""]=n,i),"",t):n}}}l&&e(function(){return u})}(this)},{}],44:[function(e,t){function n(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=n},{}]},{},[1])(1)}),function(e,t){function n(n,i){function o(e){return ct.preferFlash&&ot&&!ct.ignoreFlash&&ct.flash[e]!==t&&ct.flash[e]}function r(e){return function(t){var n=this._s;return n&&n._a?e.call(this,t):null}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=i||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var s,a,l,c,u,d,f,p,h,m,g,y,v,b,x,w,k,_,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q,J,Z,K,et,tt,nt,it,ot,rt,st,at,lt,ct=this,ut=null,dt=null,ft=navigator.userAgent,pt=e.location.href.toString(),ht=document,mt=[],gt=!1,yt=!1,vt=!1,bt=!1,xt=!1,wt=null,kt=null,_t=!1,Tt=!1,Ct=0,St=null,Mt=[],Et=null,Dt=Array.prototype.slice,Ot=!1,At=0,Nt=ft.match(/(ipad|iphone|ipod)/i),Lt=ft.match(/android/i),Pt=ft.match(/msie/i),Ht=ft.match(/webkit/i),Bt=ft.match(/safari/i)&&!ft.match(/chrome/i),It=ft.match(/opera/i),Rt=ft.match(/(mobile|pre\/|xoom)/i)||Nt||Lt,Ft=!pt.match(/usehtml5audio/i)&&!pt.match(/sm2\-ignorebadua/i)&&Bt&&!ft.match(/silk/i)&&ft.match(/OS X 10_6_([3-7])/i),jt=ht.hasFocus!==t?ht.hasFocus():null,Wt=Bt&&(ht.hasFocus===t||!ht.hasFocus()),zt=!Wt,qt=/(mp3|mp4|mpa|m4a|m4b)/i,Yt=ht.location?ht.location.protocol.match(/http/i):null,Ut=Yt?"":"http://",$t=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Xt=RegExp("\\.("+Vt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Yt;var Gt;try{Gt=Audio!==t&&(It&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(Qt){Gt=!1}this.hasHTML5=Gt,this.setup=function(e){var n=!ct.url;return e!==t&&vt&&Et&&ct.ok(),h(e),e&&(n&&D&&e.url!==t&&ct.beginDelayedInit(),!D&&e.url!==t&&"complete"===ht.readyState&&setTimeout(M,1)),ct},this.supported=this.ok=function(){return Et?vt&&!bt:ct.useHTML5Audio&&ct.hasHTML5},this.getMovie=function(t){return a(t)||ht[t]||e[t]},this.createSound=function(e,n){function i(){return o=W(o),ct.sounds[o.id]=new s(o),ct.soundIDs.push(o.id),ct.sounds[o.id]}var o,r=null;if(!vt||!ct.ok())return!1;if(n!==t&&(e={id:e,url:n}),o=p(e),o.url=V(o.url),void 0===o.id&&(o.id=ct.setupOptions.idPrefix+At++),q(o.id,!0))return ct.sounds[o.id];if(Q(o))r=i(),r._setup_html5(o);else{if(ct.html5Only||ct.html5.usingFlash&&o.url&&o.url.match(/data\:/i))return i();d>8&&null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match($t)||o.url&&o.url.match(Xt))),o=z(o,void 0),r=i(),8===d?dt._createSound(o.id,o.loops||1,o.usePolicyFile):(dt._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,o.isMovieStar?o.bufferTime:!1,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(r.connected=!0,o.onconnect&&o.onconnect.apply(r))),!o.serverURL&&(o.autoLoad||o.autoPlay)&&r.load(o)}return!o.serverURL&&o.autoPlay&&r.play(),r},this.destroySound=function(e,t){if(!q(e))return!1;var n,i=ct.sounds[e];for(i._iO={},i.stop(),i.unload(),n=0;n<ct.soundIDs.length;n++)if(ct.soundIDs[n]===e){ct.soundIDs.splice(n,1);break}return t||i.destruct(!0),delete ct.sounds[e],!0},this.load=function(e,t){return q(e)?ct.sounds[e].load(t):!1},this.unload=function(e){return q(e)?ct.sounds[e].unload():!1},this.onposition=this.onPosition=function(e,t,n,i){return q(e)?ct.sounds[e].onposition(t,n,i):!1},this.clearOnPosition=function(e,t,n){return q(e)?ct.sounds[e].clearOnPosition(t,n):!1},this.start=this.play=function(e,t){var n=null,i=t&&!(t instanceof Object);if(!vt||!ct.ok())return!1;if(q(e,i))i&&(t={url:t});else{if(!i)return!1;i&&(t={url:t}),t&&t.url&&(t.id=e,n=ct.createSound(t).play())}return null===n&&(n=ct.sounds[e].play(t)),n},this.setPosition=function(e,t){return q(e)?ct.sounds[e].setPosition(t):!1},this.stop=function(e){return q(e)?ct.sounds[e].stop():!1},this.stopAll=function(){for(var e in ct.sounds)ct.sounds.hasOwnProperty(e)&&ct.sounds[e].stop()},this.pause=function(e){return q(e)?ct.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].pause()},this.resume=function(e){return q(e)?ct.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].resume()},this.togglePause=function(e){return q(e)?ct.sounds[e].togglePause():!1},this.setPan=function(e,t){return q(e)?ct.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return q(e)?ct.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return q(e)?ct.sounds[e].mute():!1;for(t=ct.soundIDs.length-1;t>=0;t--)ct.sounds[ct.soundIDs[t]].mute();return ct.muted=!0},this.muteAll=function(){ct.mute()},this.unmute=function(e){if(e instanceof String&&(e=null),e)return q(e)?ct.sounds[e].unmute():!1;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].unmute();return ct.muted=!1,!0},this.unmuteAll=function(){ct.unmute()},this.toggleMute=function(e){return q(e)?ct.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return dt&&8!==d&&(e=parseInt(dt._getMemoryUse(),10)),e},this.disable=function(n){var i;if(n===t&&(n=!1),bt)return!1;for(bt=!0,i=ct.soundIDs.length-1;i>=0;i--)H(ct.sounds[ct.soundIDs[i]]);return f(n),nt.remove(e,"load",v),!0},this.canPlayMIME=function(e){var t;return ct.hasHTML5&&(t=J({type:e})),!t&&Et&&(t=e&&ct.ok()?!!(d>8&&e.match($t)||e.match(ct.mimePattern)):null),t},this.canPlayURL=function(e){var t;return ct.hasHTML5&&(t=J({url:e})),!t&&Et&&(t=e&&ct.ok()?!!e.match(ct.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&ct.canPlayMIME(e.type)?!0:ct.canPlayURL(e.href)},this.getSoundById=function(e){return e?ct.sounds[e]:null},this.onready=function(t,n){if("function"!=typeof t)throw R("needFunction","onready");return n||(n=e),g("onready",t,n),y(),!0},this.ontimeout=function(t,n){if("function"!=typeof t)throw R("needFunction","ontimeout");return n||(n=e),g("ontimeout",t,n),y({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(){return!0},this._debug=function(){},this.reboot=function(t,n){var i,o,r;for(i=ct.soundIDs.length-1;i>=0;i--)ct.sounds[ct.soundIDs[i]].destruct();if(dt)try{Pt&&(kt=dt.innerHTML),wt=dt.parentNode.removeChild(dt)}catch(s){}if(kt=wt=Et=dt=null,ct.enabled=D=vt=_t=Tt=gt=yt=bt=Ot=ct.swfLoaded=!1,ct.soundIDs=[],ct.sounds={},At=0,t)mt=[];else for(i in mt)if(mt.hasOwnProperty(i))for(o=0,r=mt[i].length;r>o;o++)mt[i][o].fired=!1;return ct.html5={usingFlash:null},ct.flash={},ct.html5Only=!1,ct.ignoreFlash=!1,e.setTimeout(function(){S(),n||ct.beginDelayedInit()},20),ct},this.reset=function(){return ct.reboot(!0,!0)},this.getMoviePercent=function(){return dt&&"PercentLoaded"in dt?dt.PercentLoaded():null},this.beginDelayedInit=function(){xt=!0,M(),setTimeout(function(){return Tt?!1:(A(),C(),Tt=!0)},20),b()},this.destruct=function(){ct.disable(!0)},s=function(e){var n,i,o,r,s,a,l,c,u,f,h,m=this,g=!1,y=[],v=0,b=null;i=n=null,this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=p(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,h=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(e){var n,i=null;if(e!==t?m._iO=p(e,m.options):(e=m.options,m._iO=e,b&&b!==m.url&&(m._iO.url=m.url,m.url=null)),m._iO.url||(m._iO.url=m.url),m._iO.url=V(m._iO.url),n=m.instanceOptions=m._iO,!n.url&&!m.url)return m;if(n.url===m.url&&0!==m.readyState&&2!==m.readyState)return 3===m.readyState&&n.onload&&lt(m,function(){n.onload.apply(m,[!!m.duration])}),m;if(m.loaded=!1,m.readyState=1,m.playState=0,m.id3={},Q(n))i=m._setup_html5(n),i._called_load||(m._html5_canplay=!1,m.url!==n.url&&(m._a.src=n.url,m.setPosition(0)),m._a.autobuffer="auto",m._a.preload="auto",m._a._called_load=!0);else{if(ct.html5Only||m._iO.url&&m._iO.url.match(/data\:/i))return m;try{m.isHTML5=!1,m._iO=z(W(n)),m._iO.autoPlay&&(m._iO.position||m._iO.from)&&(m._iO.autoPlay=!1),n=m._iO,8===d?dt._load(m.id,n.url,n.stream,n.autoPlay,n.usePolicyFile):dt._load(m.id,n.url,!!n.stream,!!n.autoPlay,n.loops||1,!!n.autoLoad,n.usePolicyFile)}catch(o){N({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return m.url=n.url,m},this.unload=function(){return 0!==m.readyState&&(m.isHTML5?(a(),m._a&&(m._a.pause(),b=K(m._a))):8===d?dt._unload(m.id,"about:blank"):dt._unload(m.id),o()),m},this.destruct=function(e){m.isHTML5?(a(),m._a&&(m._a.pause(),K(m._a),Ot||s(),m._a._s=null,m._a=null)):(m._iO.onfailure=null,dt._destroySound(m.id)),e||ct.destroySound(m.id,!0)},this.start=this.play=function(e,n){var i,o,r,s,a;if(o=!0,o=null,n=n===t?!0:n,e||(e={}),m.url&&(m._iO.url=m.url),m._iO=p(m._iO,m.options),m._iO=p(e,m._iO),m._iO.url=V(m._iO.url),m.instanceOptions=m._iO,!m.isHTML5&&m._iO.serverURL&&!m.connected)return m.getAutoPlay()||m.setAutoPlay(!0),m;if(Q(m._iO)&&(m._setup_html5(m._iO),l()),1===m.playState&&!m.paused&&(i=m._iO.multiShot,i||(m.isHTML5&&m.setPosition(m._iO.position),o=m)),null!==o)return o;if(e.url&&e.url!==m.url&&(m.readyState||m.isHTML5||8!==d||!h?m.load(m._iO):h=!1),m.loaded||(0===m.readyState?(m.isHTML5||ct.html5Only?m.isHTML5?m.load(m._iO):o=m:(m._iO.autoPlay=!0,m.load(m._iO)),m.instanceOptions=m._iO):2===m.readyState&&(o=m)),null!==o)return o;if(!m.isHTML5&&9===d&&0<m.position&&m.position===m.duration&&(e.position=0),m.paused&&0<=m.position&&(!m._iO.serverURL||0<m.position))m.resume();else{if(m._iO=p(e,m._iO),(!m.isHTML5&&null!==m._iO.position&&0<m._iO.position||null!==m._iO.from&&0<m._iO.from||null!==m._iO.to)&&0===m.instanceCount&&0===m.playState&&!m._iO.serverURL){if(i=function(){m._iO=p(e,m._iO),m.play(m._iO)},m.isHTML5&&!m._html5_canplay?(m.load({_oncanplay:i}),o=!1):m.isHTML5||m.loaded||m.readyState&&2===m.readyState||(m.load({onload:i}),o=!1),null!==o)return o;m._iO=f()}(!m.instanceCount||m._iO.multiShotEvents||m.isHTML5&&m._iO.multiShot&&!Ot||!m.isHTML5&&d>8&&!m.getAutoPlay())&&m.instanceCount++,m._iO.onposition&&0===m.playState&&c(m),m.playState=1,m.paused=!1,m.position=m._iO.position===t||isNaN(m._iO.position)?0:m._iO.position,m.isHTML5||(m._iO=z(W(m._iO))),m._iO.onplay&&n&&(m._iO.onplay.apply(m),g=!0),m.setVolume(m._iO.volume,!0),m.setPan(m._iO.pan,!0),m.isHTML5?2>m.instanceCount?(l(),o=m._setup_html5(),m.setPosition(m._iO.position),o.play()):(r=new Audio(m._iO.url),s=function(){nt.remove(r,"ended",s),m._onfinish(m),K(r),r=null},a=function(){nt.remove(r,"canplay",a);try{r.currentTime=m._iO.position/1e3}catch(e){}r.play()},nt.add(r,"ended",s),void 0!==m._iO.volume&&(r.volume=Math.max(0,Math.min(1,m._iO.volume/100))),m.muted&&(r.muted=!0),m._iO.position?nt.add(r,"canplay",a):r.play()):(o=dt._start(m.id,m._iO.loops||1,9===d?m.position:m.position/1e3,m._iO.multiShot||!1),9===d&&!o&&m._iO.onplayerror&&m._iO.onplayerror.apply(m))}return m},this.stop=function(e){var t=m._iO;return 1===m.playState&&(m._onbufferchange(0),m._resetOnPosition(0),m.paused=!1,m.isHTML5||(m.playState=0),u(),t.to&&m.clearOnPosition(t.to),m.isHTML5?m._a&&(e=m.position,m.setPosition(0),m.position=e,m._a.pause(),m.playState=0,m._onTimer(),a()):(dt._stop(m.id,e),t.serverURL&&m.unload()),m.instanceCount=0,m._iO={},t.onstop&&t.onstop.apply(m)),m},this.setAutoPlay=function(e){m._iO.autoPlay=e,m.isHTML5||(dt._setAutoPlay(m.id,e),e&&!m.instanceCount&&1===m.readyState&&m.instanceCount++)},this.getAutoPlay=function(){return m._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n=m.isHTML5?Math.max(e,0):Math.min(m.duration||m._iO.duration,Math.max(e,0));if(m.position=n,e=m.position/1e3,m._resetOnPosition(m.position),m._iO.position=n,m.isHTML5){if(m._a){if(m._html5_canplay){if(m._a.currentTime!==e)try{m._a.currentTime=e,(0===m.playState||m.paused)&&m._a.pause()}catch(i){}}else if(e)return m;m.paused&&m._onTimer(!0)}}else e=9===d?m.position:e,m.readyState&&2!==m.readyState&&dt._setPosition(m.id,e,m.paused||!m.playState,m._iO.multiShot);return m},this.pause=function(e){return m.paused||0===m.playState&&1!==m.readyState?m:(m.paused=!0,m.isHTML5?(m._setup_html5().pause(),a()):(e||e===t)&&dt._pause(m.id,m._iO.multiShot),m._iO.onpause&&m._iO.onpause.apply(m),m)},this.resume=function(){var e=m._iO;return m.paused?(m.paused=!1,m.playState=1,m.isHTML5?(m._setup_html5().play(),l()):(e.isMovieStar&&!e.serverURL&&m.setPosition(m.position),dt._pause(m.id,e.multiShot)),!g&&e.onplay?(e.onplay.apply(m),g=!0):e.onresume&&e.onresume.apply(m),m):m},this.togglePause=function(){return 0===m.playState?(m.play({position:9!==d||m.isHTML5?m.position/1e3:m.position}),m):(m.paused?m.resume():m.pause(),m)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),m.isHTML5||dt._setPan(m.id,e),m._iO.pan=e,n||(m.pan=e,m.options.pan=e),m},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),m.isHTML5?m._a&&(ct.muted&&!m.muted&&(m.muted=!0,m._a.muted=!0),m._a.volume=Math.max(0,Math.min(1,e/100))):dt._setVolume(m.id,ct.muted&&!m.muted||m.muted?0:e),m._iO.volume=e,n||(m.volume=e,m.options.volume=e),m},this.mute=function(){return m.muted=!0,m.isHTML5?m._a&&(m._a.muted=!0):dt._setVolume(m.id,0),m},this.unmute=function(){m.muted=!1;var e=m._iO.volume!==t;return m.isHTML5?m._a&&(m._a.muted=!1):dt._setVolume(m.id,e?m._iO.volume:m.options.volume),m},this.toggleMute=function(){return m.muted?m.unmute():m.mute()},this.onposition=this.onPosition=function(e,n,i){return y.push({position:parseInt(e,10),method:n,scope:i!==t?i:m,fired:!1}),m},this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<y.length;n++)e!==y[n].position||t&&t!==y[n].method||(y[n].fired&&v--,y.splice(n,1))},this._processOnPosition=function(){var e,t;if(e=y.length,!e||!m.playState||v>=e)return!1;for(e-=1;e>=0;e--)t=y[e],!t.fired&&m.position>=t.position&&(t.fired=!0,v++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n;if(t=y.length,!t)return!1;for(t-=1;t>=0;t--)n=y[t],n.fired&&e<=n.position&&(n.fired=!1,v--);return!0},f=function(){var e,t,n=m._iO,i=n.from,o=n.to;return t=function(){m.clearOnPosition(o,t),m.stop()},e=function(){null===o||isNaN(o)||m.onPosition(o,t)},null!==i&&!isNaN(i)&&(n.position=i,n.multiShot=!1,e()),n},c=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.onPosition(parseInt(e,10),t[e])},u=function(){var e,t=m._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&m.clearOnPosition(parseInt(e,10))},l=function(){m.isHTML5&&Y(m)},a=function(){m.isHTML5&&U(m)},o=function(e){e||(y=[],v=0),g=!1,m._hasTimer=null,m._a=null,m._html5_canplay=!1,m.bytesLoaded=null,m.bytesTotal=null,m.duration=m._iO&&m._iO.duration?m._iO.duration:null,m.durationEstimate=null,m.buffered=[],m.eqData=[],m.eqData.left=[],m.eqData.right=[],m.failures=0,m.isBuffering=!1,m.instanceOptions={},m.instanceCount=0,m.loaded=!1,m.metadata={},m.readyState=0,m.muted=!1,m.paused=!1,m.peakData={left:0,right:0},m.waveformData={left:[],right:[]},m.playState=0,m.position=null,m.id3={}
},o(),this._onTimer=function(e){var t,o=!1,r={};return m._hasTimer||e?(m._a&&(e||(0<m.playState||1===m.readyState)&&!m.paused)&&(t=m._get_html5_duration(),t!==n&&(n=t,m.duration=t,o=!0),m.durationEstimate=m.duration,t=1e3*m._a.currentTime||0,t!==i&&(i=t,o=!0),(o||e)&&m._whileplaying(t,r,r,r,r)),o):void 0},this._get_html5_duration=function(){var e=m._iO;return(e=m._a&&m._a.duration?1e3*m._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){e.loop=t>1?"loop":""},this._setup_html5=function(e){e=p(m._iO,e);var t,n=Ot?ut:m._a,i=decodeURI(e.url);if(Ot?i===decodeURI(it)&&(t=!0):i===decodeURI(b)&&(t=!0),n){if(n._s)if(Ot)n._s&&n._s.playState&&!t&&n._s.stop();else if(!Ot&&i===decodeURI(b))return m._apply_loop(n,e.loops),n;t||(b&&o(!1),n.src=e.url,it=b=m.url=e.url,n._called_load=!1)}else e.autoLoad||e.autoPlay?(m._a=new Audio(e.url),m._a.load()):m._a=It&&10>opera.version()?new Audio(null):new Audio,n=m._a,n._called_load=!1,Ot&&(ut=n);return m.isHTML5=!0,m._a=n,n._s=m,r(),m._apply_loop(n,e.loops),e.autoLoad||e.autoPlay?m.load():(n.autobuffer=!1,n.preload="auto"),n},r=function(){if(m._a._added_events)return!1;var e;m._a._added_events=!0;for(e in at)at.hasOwnProperty(e)&&m._a&&m._a.addEventListener(e,at[e],!1);return!0},s=function(){var e;m._a._added_events=!1;for(e in at)at.hasOwnProperty(e)&&m._a&&m._a.removeEventListener(e,at[e],!1)},this._onload=function(e){var t=!!e||!m.isHTML5&&8===d&&m.duration;return m.loaded=t,m.readyState=t?3:2,m._onbufferchange(0),m._iO.onload&&lt(m,function(){m._iO.onload.apply(m,[t])}),!0},this._onbufferchange=function(e){return 0===m.playState||e&&m.isBuffering||!e&&!m.isBuffering?!1:(m.isBuffering=1===e,m._iO.onbufferchange&&m._iO.onbufferchange.apply(m,[e]),!0)},this._onsuspend=function(){return m._iO.onsuspend&&m._iO.onsuspend.apply(m),!0},this._onfailure=function(e,t,n){m.failures++,m._iO.onfailure&&1===m.failures&&m._iO.onfailure(e,t,n)},this._onwarning=function(e,t,n){m._iO.onwarning&&m._iO.onwarning(e,t,n)},this._onfinish=function(){var e=m._iO.onfinish;m._onbufferchange(0),m._resetOnPosition(0),m.instanceCount&&(m.instanceCount--,m.instanceCount||(u(),m.playState=0,m.paused=!1,m.instanceCount=0,m.instanceOptions={},m._iO={},a(),m.isHTML5&&(m.position=0)),(!m.instanceCount||m._iO.multiShotEvents)&&e&&lt(m,function(){e.apply(m)}))},this._whileloading=function(e,t,n,i){var o=m._iO;m.bytesLoaded=e,m.bytesTotal=t,m.duration=Math.floor(n),m.bufferLength=i,m.durationEstimate=m.isHTML5||o.isMovieStar?m.duration:o.duration?m.duration>o.duration?m.duration:o.duration:parseInt(m.bytesTotal/m.bytesLoaded*m.duration,10),m.isHTML5||(m.buffered=[{start:0,end:m.duration}]),(3!==m.readyState||m.isHTML5)&&o.whileloading&&o.whileloading.apply(m)},this._whileplaying=function(e,n,i,o,r){var s=m._iO;return isNaN(e)||null===e?!1:(m.position=Math.max(0,e),m._processOnPosition(),!m.isHTML5&&d>8&&(s.usePeakData&&n!==t&&n&&(m.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==t&&i&&(m.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&r!==t&&r&&r.leftEQ&&(e=r.leftEQ.split(","),m.eqData=e,m.eqData.left=e,r.rightEQ!==t&&r.rightEQ&&(m.eqData.right=r.rightEQ.split(",")))),1===m.playState&&(!m.isHTML5&&8===d&&!m.position&&m.isBuffering&&m._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(m)),!0)},this._oncaptiondata=function(e){m.captiondata=e,m._iO.oncaptiondata&&m._iO.oncaptiondata.apply(m,[e])},this._onmetadata=function(e,t){var n,i,o={};for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];m.metadata=o,console.log("updated metadata",m.metadata),m._iO.onmetadata&&m._iO.onmetadata.call(m,m.metadata)},this._onid3=function(e,t){var n,i,o=[];for(n=0,i=e.length;i>n;n++)o[e[n]]=t[n];m.id3=p(m.id3,o),m._iO.onid3&&m._iO.onid3.apply(m)},this._onconnect=function(e){e=1===e,(m.connected=e)&&(m.failures=0,q(m.id)&&(m.getAutoPlay()?m.play(t,m.getAutoPlay()):m._iO.autoLoad&&m.load()),m._iO.onconnect&&m._iO.onconnect.apply(m,[e]))},this._ondataerror=function(){0<m.playState&&m._iO.ondataerror&&m._iO.ondataerror.apply(m)}},O=function(){return ht.body||ht.getElementsByTagName("div")[0]},a=function(e){return ht.getElementById(e)},p=function(e,n){var i,o,r=e||{};i=n===t?ct.defaultOptions:n;for(o in i)i.hasOwnProperty(o)&&r[o]===t&&(r[o]="object"!=typeof i[o]||null===i[o]?i[o]:p(r[o],i[o]));return r},lt=function(t,n){t.isHTML5||8!==d?n():e.setTimeout(n,0)},m={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},h=function(e,n){var i,o=!0,r=n!==t,s=ct.setupOptions;for(i in e)if(e.hasOwnProperty(i))if("object"!=typeof e[i]||null===e[i]||e[i]instanceof Array||e[i]instanceof RegExp)r&&m[n]!==t?ct[n][i]=e[i]:s[i]!==t?(ct.setupOptions[i]=e[i],ct[i]=e[i]):m[i]===t?o=!1:ct[i]instanceof Function?ct[i].apply(ct,e[i]instanceof Array?e[i]:[e[i]]):ct[i]=e[i];else{if(m[i]!==t)return h(e[i],i);o=!1}return o},nt=function(){function t(e){e=Dt.call(e);var t=e.length;return i?(e[1]="on"+e[1],t>3&&e.pop()):3===t&&e.push(!1),e}function n(e,t){var n=e.shift(),r=[o[t]];i?n[r](e[0],e[1]):n[r].apply(n,e)}var i=e.attachEvent,o={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(t(arguments),"add")},remove:function(){n(t(arguments),"remove")}}}(),at={abort:r(function(){}),canplay:r(function(){var e,n=this._s;if(n._html5_canplay)return!0;if(n._html5_canplay=!0,n._onbufferchange(0),e=n._iO.position===t||isNaN(n._iO.position)?null:n._iO.position/1e3,this.currentTime!==e)try{this.currentTime=e}catch(i){}n._iO._oncanplay&&n._iO._oncanplay()}),canplaythrough:r(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:r(function(){var e,t=this._s;e=t._get_html5_duration(),!isNaN(e)&&e!==t.duration&&(t.durationEstimate=t.duration=e)}),ended:r(function(){this._s._onfinish()}),error:r(function(){this._s._onload(!1)}),loadeddata:r(function(){var e=this._s;!e._loaded&&!Bt&&(e.duration=e._get_html5_duration())}),loadedmetadata:r(function(){}),loadstart:r(function(){this._s._onbufferchange(1)}),play:r(function(){this._s._onbufferchange(0)}),playing:r(function(){this._s._onbufferchange(0)}),progress:r(function(e){var t,n,i=this._s,o=0,o=e.target.buffered;t=e.loaded||0;var r=e.total||1;if(i.buffered=[],o&&o.length){for(t=0,n=o.length;n>t;t++)i.buffered.push({start:1e3*o.start(t),end:1e3*o.end(t)});o=1e3*(o.end(0)-o.start(0)),t=Math.min(1,o/(1e3*e.target.duration))}isNaN(t)||(i._whileloading(t,r,i._get_html5_duration()),t&&r&&t===r&&at.canplaythrough.call(this,e))}),ratechange:r(function(){}),suspend:r(function(e){var t=this._s;at.progress.call(this,e),t._onsuspend()}),stalled:r(function(){}),timeupdate:r(function(){this._s._onTimer()}),waiting:r(function(){this._s._onbufferchange(1)})},Q=function(e){return e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&o(e.type)?!1:e.type?J({type:e.type}):J({url:e.url})||ct.html5Only||e.url.match(/data\:/i):!1},K=function(e){var t;return e&&(t=Bt?"about:blank":ct.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),Ot&&(it=null),t},J=function(e){if(!ct.useHTML5Audio||!ct.hasHTML5)return!1;var n=e.url||null;e=e.type||null;var i,r=ct.audioFormats;if(e&&ct.html5[e]!==t)return ct.html5[e]&&!o(e);if(!Z){Z=[];for(i in r)r.hasOwnProperty(i)&&(Z.push(i),r[i].related&&(Z=Z.concat(r[i].related)));Z=RegExp("\\.("+Z.join("|")+")(\\?.*)?$","i")}return i=n?n.toLowerCase().match(Z):null,i&&i.length?i=i[1]:e&&(n=e.indexOf(";"),i=(-1!==n?e.substr(0,n):e).substr(6)),i&&ct.html5[i]!==t?n=ct.html5[i]&&!o(i):(e="audio/"+i,n=ct.html5.canPlayType({type:e}),n=(ct.html5[i]=n)&&ct.html5[e]&&!o(e)),n},tt=function(){function e(e){var t,n=t=!1;if(!s||"function"!=typeof s.canPlayType)return t;if(e instanceof Array){for(r=0,t=e.length;t>r;r++)(ct.html5[e[r]]||s.canPlayType(e[r]).match(ct.html5Test))&&(n=!0,ct.html5[e[r]]=!0,ct.flash[e[r]]=!!e[r].match(qt));t=n}else e=s&&"function"==typeof s.canPlayType?s.canPlayType(e):!1,t=!(!e||!e.match(ct.html5Test));return t}if(!ct.useHTML5Audio||!ct.hasHTML5)return Et=ct.html5.usingFlash=!0,!1;var n,i,o,r,s=Audio!==t?It&&10>opera.version()?new Audio(null):new Audio:null,a={};o=ct.audioFormats;for(n in o)if(o.hasOwnProperty(n)&&(i="audio/"+n,a[n]=e(o[n].type),a[i]=a[n],n.match(qt)?(ct.flash[n]=!0,ct.flash[i]=!0):(ct.flash[n]=!1,ct.flash[i]=!1),o[n]&&o[n].related))for(r=o[n].related.length-1;r>=0;r--)a["audio/"+o[n].related[r]]=a[n],ct.html5[o[n].related[r]]=a[n],ct.flash[o[n].related[r]]=a[n];return a.canPlayType=s?e:null,ct.html5=p(ct.html5,a),ct.html5.usingFlash=G(),Et=ct.html5.usingFlash,!0},T={},R=function(){},W=function(e){return 8===d&&1<e.loops&&e.stream&&(e.stream=!1),e},z=function(e){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},l=function(){return!1},H=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=l)},B=function(e){e===t&&(e=!1),(bt||e)&&ct.disable(e)},I=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+ct.movieURL,ct.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},k=function(){d=parseInt(ct.flashVersion,10),8!==d&&9!==d&&(ct.flashVersion=d=8);var e=ct.debugMode||ct.debugFlash?"_debug.swf":".swf";ct.useHTML5Audio&&!ct.html5Only&&ct.audioFormats.mp4.required&&9>d&&(ct.flashVersion=d=9),ct.version=ct.versionNumber+(ct.html5Only?" (HTML5-only mode)":9===d?" (AS3/Flash 9)":" (AS2/Flash 8)"),d>8?(ct.defaultOptions=p(ct.defaultOptions,ct.flash9Options),ct.features.buffering=!0,ct.defaultOptions=p(ct.defaultOptions,ct.movieStarOptions),ct.filePatterns.flash9=RegExp("\\.(mp3|"+Vt.join("|")+")(\\?.*)?$","i"),ct.features.movieStar=!0):ct.features.movieStar=!1,ct.filePattern=ct.filePatterns[8!==d?"flash9":"flash8"],ct.movieURL=(8===d?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),ct.features.peakData=ct.features.waveformData=ct.features.eqData=d>8},L=function(e,t){return dt?(dt._setPolling(e,t),void 0):!1},P=function(){},q=this.getSoundById,j=function(){var e=[];return ct.debugMode&&e.push("sm2_debug"),ct.debugFlash&&e.push("flash_debug"),ct.useHighPerformance&&e.push("high_performance"),e.join(" ")},F=function(){R("fbHandler");var e=ct.getMoviePercent(),t={type:"FLASHBLOCK"};return ct.html5Only?!1:(ct.ok()?ct.oMC&&(ct.oMC.className=[j(),"movieContainer","swf_loaded"+(ct.didFlashBlock?" swf_unblocked":"")].join(" ")):(Et&&(ct.oMC.className=j()+" movieContainer "+(null===e?"swf_timedout":"swf_error")),ct.didFlashBlock=!0,y({type:"ontimeout",ignoreInit:!0,error:t}),N(t)),void 0)},g=function(e,n,i){mt[e]===t&&(mt[e]=[]),mt[e].push({method:n,scope:i||null,fired:!1})},y=function(e){if(e||(e={type:ct.ok()?"onready":"ontimeout"}),!vt&&e&&!e.ignoreInit||"ontimeout"===e.type&&(ct.ok()||bt&&!e.ignoreInit))return!1;var t,n={success:e&&e.ignoreInit?ct.ok():!bt},i=e&&e.type?mt[e.type]||[]:[],o=[],n=[n],r=Et&&!ct.ok();for(e.error&&(n[0].error=e.error),e=0,t=i.length;t>e;e++)!0!==i[e].fired&&o.push(i[e]);if(o.length)for(e=0,t=o.length;t>e;e++)o[e].scope?o[e].method.apply(o[e].scope,n):o[e].method.apply(this,n),r||(o[e].fired=!0);return!0},v=function(){e.setTimeout(function(){ct.useFlashBlock&&F(),y(),"function"==typeof ct.onload&&ct.onload.apply(e),ct.waitForWindowLoad&&nt.add(e,"load",v)},1)},rt=function(){if(ot!==t)return ot;var n,i=!1,o=navigator,r=o.plugins,s=e.ActiveXObject;if(r&&r.length)(o=o.mimeTypes)&&o["application/x-shockwave-flash"]&&o["application/x-shockwave-flash"].enabledPlugin&&o["application/x-shockwave-flash"].enabledPlugin.description&&(i=!0);else if(s!==t&&!ft.match(/MSAppHost/i)){try{n=new s("ShockwaveFlash.ShockwaveFlash")}catch(a){n=null}i=!!n}return ot=i},G=function(){var e,t,n=ct.audioFormats;if(Nt&&ft.match(/os (1|2|3_0|3_1)\s/i)?(ct.hasHTML5=!1,ct.html5Only=!0,ct.oMC&&(ct.oMC.style.display="none")):!ct.useHTML5Audio||ct.html5&&ct.html5.canPlayType||(ct.hasHTML5=!1),ct.useHTML5Audio&&ct.hasHTML5)for(t in X=!0,n)n.hasOwnProperty(t)&&n[t].required&&(ct.html5.canPlayType(n[t].type)?ct.preferFlash&&(ct.flash[t]||ct.flash[n[t].type])&&(e=!0):(X=!1,e=!0));return ct.ignoreFlash&&(e=!1,X=!0),ct.html5Only=ct.hasHTML5&&ct.useHTML5Audio&&!e,!ct.html5Only},V=function(e){var t,n,i=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(ct.canPlayMIME(e[t].type)){i=t;break}}else if(ct.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),e=e[i]}return e},Y=function(e){e._hasTimer||(e._hasTimer=!0,!Rt&&ct.html5PollingInterval&&(null===St&&0===Ct&&(St=setInterval($,ct.html5PollingInterval)),Ct++))},U=function(e){e._hasTimer&&(e._hasTimer=!1,!Rt&&ct.html5PollingInterval&&Ct--)},$=function(){var e;if(null!==St&&!Ct)return clearInterval(St),St=null,!1;for(e=ct.soundIDs.length-1;e>=0;e--)ct.sounds[ct.soundIDs[e]].isHTML5&&ct.sounds[ct.soundIDs[e]]._hasTimer&&ct.sounds[ct.soundIDs[e]]._onTimer()},N=function(n){n=n!==t?n:{},"function"==typeof ct.onerror&&ct.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&ct.disable()},st=function(){if(!Ft||!rt())return!1;var e,t,n=ct.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(ct.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length-1;e>=0;e--)ct.html5[n[t].related[e]]=!1},this._setSandboxType=function(){},this._externalInterfaceOK=function(){return ct.swfLoaded?!1:(ct.swfLoaded=!0,Wt=!1,Ft&&st(),setTimeout(u,Pt?100:1),void 0)},A=function(e,n){function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(gt&&yt)return!1;if(ct.html5Only)return k(),ct.oMC=a(ct.movieID),u(),yt=gt=!0,!1;var o,r,s,l=n||ct.url,c=ct.altURL||l,d=O(),f=j(),p=null,p=ht.getElementsByTagName("html")[0],p=p&&p.dir&&p.dir.match(/rtl/i);if(e=e===t?ct.id:e,k(),ct.url=I(Yt?l:c),n=ct.url,ct.wmode=!ct.wmode&&ct.useHighPerformance?"transparent":ct.wmode,null!==ct.wmode&&(ft.match(/msie 8/i)||!Pt&&!ct.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Mt.push(T.spcWmode),ct.wmode=null),d={name:e,id:e,src:n,quality:"high",allowScriptAccess:ct.allowScriptAccess,bgcolor:ct.bgColor,pluginspage:Ut+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:ct.wmode,hasPriority:"true"},ct.debugFlash&&(d.FlashVars="debug=1"),ct.wmode||delete d.wmode,Pt)l=ht.createElement("div"),r=['<object id="'+e+'" data="'+n+'" type="'+d.type+'" title="'+d.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Ut+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",ct.allowScriptAccess),i("quality",d.quality),ct.wmode?i("wmode",ct.wmode):"",i("bgcolor",ct.bgColor),i("hasPriority","true"),ct.debugFlash?i("FlashVars",d.FlashVars):"","</object>"].join("");else for(o in l=ht.createElement("embed"),d)d.hasOwnProperty(o)&&l.setAttribute(o,d[o]);if(P(),f=j(),d=O())if(ct.oMC=a(ct.movieID)||ht.createElement("div"),ct.oMC.id)s=ct.oMC.className,ct.oMC.className=(s?s+" ":"movieContainer")+(f?" "+f:""),ct.oMC.appendChild(l),Pt&&(o=ct.oMC.appendChild(ht.createElement("div")),o.className="sm2-object-box",o.innerHTML=r),yt=!0;else{if(ct.oMC.id=ct.movieID,ct.oMC.className="movieContainer "+f,o=f=null,ct.useFlashBlock||(ct.useHighPerformance?f={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(f={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(f.left=Math.abs(parseInt(f.left,10))+"px"))),Ht&&(ct.oMC.style.zIndex=1e4),!ct.debugFlash)for(s in f)f.hasOwnProperty(s)&&(ct.oMC.style[s]=f[s]);try{Pt||ct.oMC.appendChild(l),d.appendChild(ct.oMC),Pt&&(o=ct.oMC.appendChild(ht.createElement("div")),o.className="sm2-object-box",o.innerHTML=r),yt=!0}catch(h){throw Error(R("domError")+" \n"+h.toString())}}return gt=!0},C=function(){return ct.html5Only?(A(),!1):dt||!ct.url?!1:(dt=ct.getMovie(ct.id),dt||(wt?(Pt?ct.oMC.innerHTML=kt:ct.oMC.appendChild(wt),wt=null,gt=!0):A(ct.id,ct.url),dt=ct.getMovie(ct.id)),"function"==typeof ct.oninitmovie&&setTimeout(ct.oninitmovie,1),!0)},b=function(){setTimeout(x,1e3)},w=function(){e.setTimeout(function(){ct.setup({preferFlash:!1}).reboot(),ct.didFlashBlock=!0,ct.beginDelayedInit()},1)},x=function(){var t,n=!1;return!ct.url||_t?!1:(_t=!0,nt.remove(e,"load",b),ot&&Wt&&!jt?!1:(vt||(t=ct.getMoviePercent(),t>0&&100>t&&(n=!0)),setTimeout(function(){return t=ct.getMoviePercent(),n?(_t=!1,e.setTimeout(b,1),!1):(!vt&&zt&&(null===t?ct.useFlashBlock||0===ct.flashLoadTimeout?ct.useFlashBlock&&F():!ct.useFlashBlock&&X?w():y({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==ct.flashLoadTimeout&&(!ct.useFlashBlock&&X?w():B(!0))),void 0)},ct.flashLoadTimeout),void 0))},_=function(){return jt||!Wt?(nt.remove(e,"focus",_),!0):(jt=zt=!0,_t=!1,b(),nt.remove(e,"focus",_),!0)},f=function(t){if(vt)return!1;if(ct.html5Only)return vt=!0,v(),!0;var n,i=!0;return ct.useFlashBlock&&ct.flashLoadTimeout&&!ct.getMoviePercent()||(vt=!0),n={type:!ot&&Et?"NO_FLASH":"INIT_TIMEOUT"},(bt||t)&&(ct.useFlashBlock&&ct.oMC&&(ct.oMC.className=j()+" "+(null===ct.getMoviePercent()?"swf_timedout":"swf_error")),y({type:"ontimeout",error:n,ignoreInit:!0}),N(n),i=!1),bt||(ct.waitForWindowLoad&&!xt?nt.add(e,"load",v):v()),i},c=function(){var e,n=ct.setupOptions;for(e in n)n.hasOwnProperty(e)&&(ct[e]===t?ct[e]=n[e]:ct[e]!==n[e]&&(ct.setupOptions[e]=ct[e]))},u=function(){if(vt)return!1;if(ct.html5Only)return vt||(nt.remove(e,"load",ct.beginDelayedInit),ct.enabled=!0,f()),!0;C();try{dt._externalInterfaceTest(!1),L(!0,ct.flashPollingInterval||(ct.useHighPerformance?10:50)),ct.debugMode||dt._disableDebug(),ct.enabled=!0,ct.html5Only||nt.add(e,"unload",l)}catch(t){return N({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),B(!0),f(),!1}return f(),nt.remove(e,"load",ct.beginDelayedInit),!0},M=function(){return D?!1:(D=!0,c(),P(),!ot&&ct.hasHTML5&&ct.setup({useHTML5Audio:!0,preferFlash:!1}),tt(),!ot&&Et&&(Mt.push(T.needFlash),ct.setup({flashLoadTimeout:1})),ht.removeEventListener&&ht.removeEventListener("DOMContentLoaded",M,!1),C(),!0)},et=function(){return"complete"===ht.readyState&&(M(),ht.detachEvent("onreadystatechange",et)),!0},E=function(){xt=!0,M(),nt.remove(e,"load",E)},S=function(){Rt&&(ct.setupOptions.useHTML5Audio=!0,ct.setupOptions.preferFlash=!1,Nt||Lt&&!ft.match(/android\s2\.3/i))&&(Nt&&(ct.ignoreFlash=!0),Ot=!0)},S(),rt(),nt.add(e,"focus",_),nt.add(e,"load",b),nt.add(e,"load",E),ht.addEventListener?ht.addEventListener("DOMContentLoaded",M,!1):ht.attachEvent?ht.attachEvent("onreadystatechange",et):N({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw Error("SoundManager requires a browser with window and document objects.");var i=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(i=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(e.soundManager=i,module.exports.SoundManager=n,module.exports.soundManager=i):"function"==typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:n,soundManager:i}}):(e.SoundManager=n,e.soundManager=i)}(window),!function(){"use strict";var e,t=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}(),n=function(e,n){var i,o,r,s,a,l;if(window.getComputedStyle?i=window.getComputedStyle(e,null).getPropertyValue(n):(o=t(n),i=e.currentStyle?e.currentStyle[o]:e.style[o]),"cursor"===n&&(!i||"auto"===i))for(r=e.tagName.toLowerCase(),s=["a"],a=0,l=s.length;l>a;a++)if(r===s[a])return"pointer";return i},i=function(e){if(m.prototype._singleton){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),m.prototype._singleton.setCurrent(t)}},o=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},r=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},s=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var i=" "+e.className+" ",o=e.className,r=0,s=n.length;s>r;r++)i.indexOf(" "+n[r]+" ")<0&&(o+=" "+n[r]);e.className=o.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},a=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var i=(" "+e.className+" ").replace(/[\n\t]/g," "),o=0,r=n.length;r>o;o++)i=i.replace(" "+n[o]+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},l=function(){var e,t,n,i=1;return"function"==typeof document.body.getBoundingClientRect&&(e=document.body.getBoundingClientRect(),t=e.right-e.left,n=document.body.offsetWidth,i=Math.round(100*(t/n))/100),i},c=function(e){var t={left:0,top:0,width:0,height:0,zIndex:999999999},i=n(e,"z-index");if(i&&"auto"!==i&&(t.zIndex=parseInt(i,10)),e.getBoundingClientRect){var o,r,s,a=e.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(o=window.pageXOffset,r=window.pageYOffset):(s=l(),o=Math.round(document.documentElement.scrollLeft/s),r=Math.round(document.documentElement.scrollTop/s));var c=document.documentElement.clientLeft||0,u=document.documentElement.clientTop||0;t.left=a.left+o-c,t.top=a.top+r-u,t.width="width"in a?a.width:a.right-a.left,t.height="height"in a?a.height:a.bottom-a.top}return t},u=function(e){var t=m.prototype._singleton;return t.options.useNoCache?(e.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime():""},d=function(e){var t=[];if(e.trustedDomains){var n;"string"==typeof e.trustedDomains&&e.trustedDomains?n=[e.trustedDomains]:"length"in e.trustedDomains&&(n=e.trustedDomains),t.push("trustedDomain="+encodeURIComponent(n.join(",")))}return"string"==typeof e.amdModuleId&&e.amdModuleId&&t.push("amdModuleId="+encodeURIComponent(e.amdModuleId)),"string"==typeof e.cjsModuleId&&e.cjsModuleId&&t.push("cjsModuleId="+encodeURIComponent(e.cjsModuleId)),t.join("&")},f=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},p=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},h=function(e,t,n,i,o){o?window.setTimeout(function(){e.call(t,n,i)},0):e.call(t,n,i)},m=function(e,t){if(e&&(m.prototype._singleton||this).glue(e),m.prototype._singleton)return m.prototype._singleton;m.prototype._singleton=this,this.options={};for(var n in v)this.options[n]=v[n];for(var i in t)this.options[i]=t[i];this.handlers={},m.detectFlashSupport()&&w()},g=[];m.prototype.setCurrent=function(t){e=t,this.reposition();var i=t.getAttribute("title");i&&this.setTitle(i);var o=this.options.forceHandCursor===!0||"pointer"===n(t,"cursor");y.call(this,o)},m.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},m.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},m.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},m.prototype.setHandCursor=function(e){e="boolean"==typeof e?e:!!e,y.call(this,e),this.options.forceHandCursor=e};var y=function(e){this.ready()&&this.flashBridge.setHandCursor(e)};m.version="1.2.0-beta.4";var v={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};m.setDefaults=function(e){for(var t in e)v[t]=e[t]},m.destroy=function(){m.prototype._singleton.unglue(g);var e=m.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete m.prototype._singleton},m.detectFlashSupport=function(){var e=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){}return!e&&navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0),e};var b=null,x=null,w=function(){var e=m.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var n={};for(var i in e.options)n[i]=e.options[i];n.amdModuleId=b,n.cjsModuleId=x;var o=d(n),r='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+u(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+o+'"/>         <embed src="'+e.options.moviePath+u(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+o+'"           scale="exactfit">         </embed>       </object>';t=document.createElement("div"),t.id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=r,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};m.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),a(e,this.options.activeClass),e=null,this.options.text=null},m.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||e===!0},m.prototype.reposition=function(){if(!e)return!1;var t=c(e);this.htmlBridge.style.top=t.top+"px",this.htmlBridge.style.left=t.left+"px",this.htmlBridge.style.width=t.width+"px",this.htmlBridge.style.height=t.height+"px",this.htmlBridge.style.zIndex=t.zIndex+1,this.setSize(t.width,t.height)},m.dispatch=function(e,t){m.prototype._singleton.receiveEvent(e,t)},m.prototype.on=function(e,t){for(var n=e.toString().split(/\s/g),i=0;i<n.length;i++)e=n[i].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!m.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},m.prototype.addEventListener=m.prototype.on,m.prototype.off=function(e,t){for(var n=e.toString().split(/\s/g),i=0;i<n.length;i++){e=n[i].toLowerCase().replace(/^on/,"");for(var o in this.handlers)o===e&&this.handlers[o]===t&&delete this.handlers[o]}},m.prototype.removeEventListener=m.prototype.off,m.prototype.receiveEvent=function(t,n){t=t.toString().toLowerCase().replace(/^on/,"");var i=e,o=!0;switch(t){case"load":if(n&&parseFloat(n.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return this.receiveEvent("onWrongFlash",{flashVersion:n.flashVersion}),void 0;this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":s(i,this.options.hoverClass);break;case"mouseout":a(i,this.options.hoverClass),this.resetBridge();break;case"mousedown":s(i,this.options.activeClass);break;case"mouseup":a(i,this.options.activeClass);break;case"datarequested":var r=i.getAttribute("data-clipboard-target"),l=r?document.getElementById(r):null;if(l){var c=l.value||l.textContent||l.innerText;c&&this.setText(c)}else{var u=i.getAttribute("data-clipboard-text");u&&this.setText(u)}o=!1;break;case"complete":this.options.text=null}if(this.handlers[t]){var d=this.handlers[t];"string"==typeof d&&"function"==typeof window[d]&&(d=window[d]),"function"==typeof d&&h(d,i,this,n,o)}},m.prototype.glue=function(e){e=p(e);for(var t=0;t<e.length;t++)-1==f(e[t],g)&&(g.push(e[t]),o(e[t],"mouseover",i))},m.prototype.unglue=function(e){e=p(e);for(var t=0;t<e.length;t++){r(e[t],"mouseover",i);var n=f(e[t],g);-1!=n&&g.splice(n,1)}},"function"==typeof define&&define.amd?define(["require","exports","module"],function(e,t,n){return b=n&&n.id||null,m}):"undefined"!=typeof module&&module?(x=module.id||null,module.exports=m):window.ZeroClipboard=m}(),function(e,t,n){"undefined"==typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),n.ajaxSetup({cache:!1}),e.StandardWeb={userId:null,username:null,nickname:null,refreshFromnow:function(e){e=e||t,n(".fromnow",e).each(function(){var e,t=moment(),i=moment(n.trim(n(this).text()));i.isValid()&&(e=t.diff(i,"days")>365?i.format("MMMM D, YYYY"):i.fromNow(),n(this).text(e),n(this).attr("title",i.format("LLL")))})},on:function(e,t,n){this.subscribe(e,function(e,i){i.on(t,function(e){n(e)})})}}}(window,document,$),function(e,t,n){StandardWeb.chat={},n(t).ready(function(){var e=n("#chat");if(e.length){var t=n("#chat-textbox"),i=new StandardWeb.realtime.ChatStream(e,t,StandardWeb.chat.serverId);i.connect(),soundManager.setup({url:"/static/flash/",flashVersion:9,debugMode:!1,preferFlash:!1,onready:function(){var e=soundManager.createSound({id:"mention",url:"/static/sound/mention.wav"});i.setMentionSound(e)}})}})}(window,document,$),function(e,t,n){function i(){var t=n(e).height()-n("#header").outerHeight()-n(".sub-header").outerHeight(),i=t-30,o=t-22,l=t-150;a.is(":visible")&&(i-=a.outerHeight(),o-=a.outerHeight(),l-=a.outerHeight()),r.height(i),s.height(o),n(".players").height(l),n(".users").height(138)}StandardWeb.console={};var o,r,s,a,l,c,u,d,f,p,h,m,g,y,v,b,x,w,k=function(e){var t=x.allPlayers[e];if(t){var n="/"+StandardWeb.console.serverId+"/player/"+e;t.nickname?(c.html('<span class="ansi-container">'+t.nicknameAnsi+"</span>"),u.html("("+e+")")):(c.html(e),u.html("&nbsp")),f.attr("href",n);var i,o=Math.floor(t.time_spent/60),r=o>0?t.time_spent%(60*o):t.time_spent;i=o?o+(1==o?" hour ":" hours ")+r+(1==r?" minute ":" minutes"):r+(1==r?" minute ":" minutes"),p.html(t.address),h.html(t.rank),m.html(i),g.html(t.health.toFixed(2)),y.html("["+t.world+"] "+t.x+", "+t.y+", "+t.z);var a=[];t.titles.map(function(e){a.push(e.display_name)}),a.length?v.html(a.join(", ")):v.html("None"),e!=w&&(w=e,d.attr("src","/face/64/"+e+".png")),s.show()}};n(t).ready(function(){if(r=n(".console"),r.length){a=n(".nav-header"),o=n(".console-notification"),s=n(".detail"),l=s.find(".close"),c=s.find(".display-name"),u=s.find(".username"),d=s.find(".face"),f=s.find(".link"),p=s.find(".ip"),h=s.find(".rank"),m=s.find(".time-spent"),g=s.find(".health"),y=s.find(".location"),v=s.find(".titles"),b=s.find(".donator");var _=n(".console-textbox");x=new StandardWeb.realtime.ConsoleStream(r,_,StandardWeb.console.serverId),x.connect(),i(),n(e).resize(function(){i(),x.scrollToBottom()}),x.onUpdate=function(){w&&(k(w),n('.player[username="'+w+'"]').addClass("selected"))},o.on("click",function(){var e=n(this).is(":checked");x.playMentionSound=e}),n(t).on("click",".player",function(){var e=n(this).attr("username");n(".player.selected").removeClass("selected"),n(this).addClass("selected"),x.scrollToBottomIfAtBottom(function(){k(e)})}),d.on("load",function(){d.fadeTo(0,1)}),b.on("click",function(){x.setDonator(w)}),l.on("click",function(){w=null,n(".player.selected").removeClass("selected"),x.scrollToBottomIfAtBottom(function(){s.hide()})}),soundManager.setup({url:"/static/flash/",flashVersion:9,debugMode:!1,preferFlash:!1,onready:function(){var e=soundManager.createSound({id:"mention",url:"/static/sound/mention.wav"});x.setMentionSound(e)}})}})}(window,document,$),function(e,t,n){n(t).ready(function(){var e=null,t=n('<div id="graph-tooltip"></div>').appendTo("body").css({position:"absolute",border:"1px solid #666",padding:"2px","background-color":"#111",color:"#fff"}).hide();
n(".player-graph").each(function(){var i=n(this),o=60*1e3*(new Date).getTimezoneOffset(),r=4,s=72,a={};i.bind("plothover",function(n,i,o){if(o){if(e!=o.dataIndex){e=o.dataIndex;var r=o.datapoint[1];t.show(),t.text(r+(1==r?" player":" players")),t.css({top:o.pageY-12,left:o.pageX+14})}}else t.hide(),e=null}),i.attr("weekindex")&&(a.weekIndex=i.attr("weekindex")),n.ajax({url:"/"+r+"/player_graph",data:a,success:function(e){i.removeClass("progress");var t=e.points,r=e.start_time-o,a=e.end_time-o,l=[],c=[];t.map(function(e){var t=e.time-o,n=e.player_count,i=e.new_players;l.push([t,n]),i>=0&&c.push([t,i])}),e=[{data:l}],c.length&&e.push({data:c,yaxis:2}),e.push({data:[[r],[a]]}),n.plot(i,e,{grid:{hoverable:!0,backgroundColor:"#ffffff"},colors:["#7E9BFF","#F00"],series:{lines:{fill:!0}},xaxes:[{mode:"time",minTickSize:[1,"day"],timeformat:"%b %d"}],yaxes:[{min:0,max:s,tickSize:12,position:"right"},{min:0,max:40}]})},error:function(){}})})})}(window,document,$),function(e,t,n){function i(e){var t={query:e};n.ajax({url:"/api/v1/contact_query",data:t,success:function(t){var n,i,o=t.contacts,r="";for(n=0;n<o.length;++n)i=o[n],r+=['<a href="/messages/'+i.username+'">','<div class="contact">',i.player_id?'<img class="face-thumb" src="/face/16/'+i.username+'.png" width="16px" height="16px"> ':" ",i.displayname_html,i.nickname?" ("+i.username+")":"","</div>","</a>"].join("");e&&!r&&(r="<h4>No results</h4>"),u.html(r)}})}StandardWeb.messages={};var o,r,s,a,l,c,u,d;n(t).ready(function(){n(".messages-section").length&&(o=n(".messages-contacts"),r=n(".message-list"),s=n(".reply form"),a=n(".reply textarea"),l=n(".reply button"),c=n('.contact-chooser input[type="text"]'),u=n(".search-results"),r.scrollTop(r.prop("scrollHeight")),a.on("keydown",function(e){return 13!=e.which||e.shiftKey?void 0:(mixpanel.track("message sent"),s.submit(),a.attr("disabled","disabled"),l.attr("disabled","disabled"),!1)}),l.on("click",function(){return mixpanel.track("message sent"),s.submit(),a.attr("disabled","disabled"),l.attr("disabled","disabled"),!1}),c.on("keyup",function(){d&&clearInterval(d),d=setTimeout(function(){i(c.val())},100)}),c.val()&&i(c.val()),StandardWeb.realtime.subscribe("messages",function(e,t){e||t.on("new",function(e){var t=e.message_row_html,i=e.from_user_id,s=e.date;if(i==StandardWeb.messages.otherUserId){var a=n(t);r.append(a),r.scrollTop(r.prop("scrollHeight")),StandardWeb.refreshFromnow(a),n.ajax({url:"/api/v1/mark_messages_read",type:"POST",data:{other_user_id:i}})}var l=null;o.find(".contact").each(function(){if(i==n(this).data("user-id")){i!=StandardWeb.messages.otherUserId&&(n(this).hasClass("new")||n(this).addClass("new"),l=n(this).parent(),l.remove());var e=n(this).find(".time > span");e.html(s),StandardWeb.refreshFromnow(l)}}),l&&o.prepend(l)}.bind(this))}))})}(window,document,$),function(e,t,n){StandardWeb.realtime={rtsAuthData:null,rtsBaseUrl:null,rtsPrefix:null,rtsSockets:{},init:function(e,t,n){this.rtsAuthData=e,this.rtsBaseUrl=t,this.rtsPrefix=n},subscribe:function(e,t,n){n||(n=t,t=void 0);var i=this.rtsSockets[e];i?(n&&n(null,i),n=null):(i=io(this.rtsBaseUrl+"/"+e,{path:rtsPrefix+"/socket.io"}),i.on("connect",function(){var o,r={authData:this.rtsAuthData};for(o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);i.emit("auth",r),i.on("authorized",function(){this.rtsSockets[e]=i,n&&n(null,i),n=null}.bind(this)),i.on("unauthorized",function(){n&&n("unauthorized",i),n=null}.bind(this))}.bind(this)),i.on("connect_failed",function(){n&&n("connect_failed",i),n=null}.bind(this)),i.on("error",function(){n&&n("error",i),n=null}.bind(this)))}};var i=function(i,o,r,s){this.socket=null,this.commandHistory=[],this.commandIndex=-1,this.mentionPat="(&gt;.*|Server<.*?><.*?>] .*|Web Chat].*: .*|To group.*|command:.*)(MENTION_PART)",this.$outputArea=i,this.$textbox=o,this.source=s,this.socket=null,this.numLines=0,this.maxLines=200,this.nextMentionSound=0,this.playMentionSound=!0,this.mentionSound=null,this.mentions=[],this.focused=!0,this.isAtBottom=function(){return this.$outputArea.get(0).scrollHeight-this.$outputArea.scrollTop()==this.$outputArea.outerHeight()},this.scrollToBottom=function(){this.$outputArea.scrollTop(this.$outputArea.get(0).scrollHeight)},this.scrollToBottomIfAtBottom=function(e){this.isAtBottom()?(e(),this.scrollToBottom()):e()},this.trimTopLines=function(e){n("li:lt("+e+")",this.$outputArea).remove()},this.addOutputLines=function(e){var t=this.isAtBottom(),n="";e.map(function(e){n+="<li>"+this.postProcessLine(e)+"</li>"}.bind(this)),this.$outputArea.append(n),this.numLines+e.length>this.maxLines?(this.trimTopLines(this.numLines+e.length-this.maxLines),this.numLines=this.maxLines):this.numLines+=e.length,t&&this.scrollToBottom()},this.addOutputLine=function(e){this.addOutputLines([e])},this.postProcessLine=function(e){var t,n=!1;for(t=0;t<this.mentions.length;++t){var i=this.mentions[t];this.playMentionSound&&this.mentionSound&&!this.focused&&e.match(i.regex)&&(n=!0),i.style&&(e=e.replace(i.regex,'$1<span style="'+i.style+'">$2</span>'))}var o=(new Date).getTime();return n&&o>this.nextMentionSound&&(this.mentionSound.play(),this.nextMentionSound=o+500),e},this.addRegexMention=function(e,t){this.mentions.push({regex:e,style:t})},this.addChatMention=function(e,t){var n=this.mentionPat.replace("MENTION_PART",e),i=new RegExp(n,"gi");this.addRegexMention(i,t)},this.setMentionSound=function(e){this.mentionSound=e},this.messageEntered=function(){throw"Method should be implemented by inherited objects!"},this.socketInitialized=function(){throw"Method should be implemented by inherited objects!"},this.connect=function(){this.addOutputLine("Connecting..."),StandardWeb.realtime.subscribe(this.source,{serverId:r},function(i,o){if(i)return this.addOutputLine("ERROR: connection failure!"),void 0;this.socket=o,this.$outputArea.empty(),this.numLines=0,this.socketInitialized(),o.on("disconnect",function(){this.addOutputLine("ERROR: socket connection lost!")}.bind(this)),o.on("mc-connection-lost",function(){this.addOutputLine("Connection to Minecraft server lost, retrying...")}.bind(this)),o.on("mc-connection-restored",function(){this.addOutputLine("Connection restored!")}.bind(this)),n(t).keypress(function(){var e=n(":focus");this.$textbox==e||e[0]&&0!=e[0].type||this.$textbox.focus()}.bind(this)),this.$textbox.keydown(function(e){switch(e.which){case 38:return this.commandIndex<this.commandHistory.length-1&&(this.commandIndex++,this.$textbox.val(this.commandHistory[this.commandIndex])),!1;case 40:return this.commandIndex>-1&&(this.commandIndex--,this.$textbox.val(this.commandHistory[this.commandIndex])),!1}return!0}.bind(this)),this.$textbox.keyup(function(e){switch(e.which){case 13:var t=this.$textbox.val();t&&(this.messageEntered(o,t),this.$textbox.val(""),this.scrollToBottom(),this.commandHistory.unshift(t),this.commandIndex=-1)}}.bind(this));var r=function(e){o.emit("user-activity",{active:e})};n(e).focus(function(){this.focused||r(!0),this.focused=!0}.bind(this)),n(e).blur(function(){this.focused&&r(!1),this.focused=!1}.bind(this))}.bind(this))}},o=function(e,t,o){i.call(this,e,t,o,"console"),this.allPlayers={},this.maxLines=4e3,this.addChatMention("server","background:#A0A"),this.addRegexMention("-&gt; me"),t.keydown(function(){t.val().length>=53?t.addClass("len-warn"):t.removeClass("len-warn")}),this.socketInitialized=function(){var e;this.socket.on("console",function(e){e.line?this.addOutputLine(e.line):e.batch&&this.addOutputLines(e.batch)}.bind(this)),this.socket.on("server-status",function(t){var i=t.players,o=t.numPlayers,r=t.maxPlayers,s=t.load,a=t.tps;i=i.sort(function(e,t){return e=e.nickname?e.nickname:e.username,t=t.nickname?t.nickname:t.username,e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var l="",c=0;c<i.length;++c){var u=i[c].username;this.allPlayers[u]=i[c];var d=i[c].nicknameAnsi,f=d?d:u;e=['<a href="#">','<div class="player" username="'+u+'">','<img class="face-thumb" src="/face/16/'+u+'.png">','<span class="ansi-container">'+f+"</span>",'<span class="rank">#'+i[c].rank+"</span>","</div>","</a>"].join(""),l+=e}n(".players").html(l),n(".player-count").text(o+"/"+r),n(".load").text(s),n(".tps").text(a),this.onUpdate&&"function"==typeof this.onUpdate&&this.onUpdate()}.bind(this)),this.socket.on("chat-users",function(t){var i=t.users;e="<b>Chat user count: "+i.length+"</b>";var o;for(o=0;o<i.length;++o){var r=i[o].username,s=i[o].address,a=i[o].type,l=i[o].active;e+="Server"==r?['<div class="user">',r+" ["+a+"]","</div>"].join(""):r?['<div class="user">','<a href="/player/'+r+'">','<span><img class="face-thumb" src="/face/16/'+r+'.png">'+r+"</span>",l?'<img src="/static/images/online.png">':" ","</a>- "+s,"</div>"].join(""):['<div class="user">',"Anonymous",l?'<img src="/static/images/online.png">':" ","- "+s,"</div>"].join("")}n(".users").html(e)})}.bind(this),this.messageEntered=function(e,n){var i={};i="/"==n[0]?{command:n.substring(1,n.length)}:{message:n},e.emit("console-input",i),t.removeClass("len-warn")},this.setDonator=function(e){this.socket.emit("set-donator",{username:e})}},r=function(e,t,o){i.call(this,e,t,o,"chat"),StandardWeb.username&&this.addChatMention(StandardWeb.username,"background:#00ACC4"),StandardWeb.nickname&&this.addChatMention(StandardWeb.nickname,"background:#00ACC4"),this.renderPlayerTable=function(e,t){for(var i="<tr>",o=0;t>o;++o){if(e.length<=o)i+="<td>&nbsp;</td>";else{var r=e[o].username,s=e[o].nickname,a=s?s:r;i+=["<td>",'<a href="/player/'+r+'" target="_blank">','<span><img class="face-thumb" src="/face/16/'+r+'.png">'+a+"</span>","</a>","</td>"].join("")}0==(o+1)%3&&(i+="</tr><tr>")}i+="</tr>",n(".players-table").html(i)},this.socketInitialized=function(){this.socket.on("unauthorized",function(){this.addOutputLine("ERROR: you are not authorized!")}.bind(this)),this.socket.on("connection-spam",function(){this.addOutputLine("Stop trying to connect so much!"),this.addOutputLine("Try again in a few minutes...")}.bind(this)),this.socket.on("chat-spam",function(){this.addOutputLine("Stop typing so fast!")}.bind(this)),this.socket.on("chat",function(e){e.line?this.addOutputLine(e.line):e.batch&&this.addOutputLines(e.batch)}.bind(this)),this.socket.on("server-status",function(e){var t=e.players,n=e.maxPlayers;t=t.sort(function(e,t){return e=e.nickname?e.nickname:e.username,t=t.nickname?t.nickname:t.username,e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}),this.renderPlayerTable(t,n)}.bind(this))}.bind(this),this.messageEntered=function(e,t){e.emit("chat-input",{message:t})},this.renderPlayerTable([],90)};o.prototype=Object.create(i.prototype),r.prototype=Object.create(i.prototype),StandardWeb.realtime.ConsoleStream=o,StandardWeb.realtime.ChatStream=r}(window,document,$),function(e,t,n){n(t).ready(function(){var i=e.location.hash?e.location.hash.substring(1):null;n(".dropdown .toggle").on("click",function(){var e=n(this),t=e.closest(".dropdown"),i=n(".options",t);return t.toggleClass("open"),i.toggle(),!1}),n(t).on("mouseup",function(e){var t=n(".dropdown .options");if("none"!==t.attr("display")){var i=t.closest(".dropdown");t.is(e.target)||0!==t.has(e.target).length||(i.removeClass("open"),t.hide())}}),n(".extender").on("click",function(){var e="#"+n(this).attr("data-target");n(e).toggle()}),n(t).on("click",".nav-pills a",function(){var e=n(this),t=e.attr("href").substring(1),i=n(this).closest("li");return n(".nav-pills li").each(function(){var e=n(this);e[0]==i[0]?e.addClass("active"):e.removeClass("active")}),n(".nav-section").each(function(){var e=n(this);e.attr("id")===t?(e.addClass("active"),e.removeClass("hidden")):(e.addClass("hidden"),e.removeClass("active"))}),!1});var o=n(".nav-pills li.active").length>0;n(".nav-pills li").each(function(e){var t=n(this);o||(i?i===t.children("a").attr("href").substring(1)&&t.addClass("active"):0==e&&t.addClass("active"))}),n(".nav-section").each(function(e){var t=n(this);o?t.hasClass("active")||t.addClass("hidden"):i?i!=t.attr("id")&&t.addClass("hidden"):e>0&&t.addClass("hidden")}),n(t).on("click",".alert > .close",function(){n(this).closest(".alert").remove()}),n(t).on("click","a.confirm",function(){return confirm(n(this).attr("data-confirm-message")||"Are you sure?")}),n(".player-list").each(function(){function e(){s||(s=!0,o.attr("src","/static/images/spinner.gif"),r.fadeTo(0,.25).load("player_list",function(){o.attr("src","/static/images/refresh.png"),r.fadeTo(100,1),s=!1}))}var t=n(this),i=n(".refresh-button",t),o=n(".refresh-image",t),r=n(".player-list-players",t),s=!1;i.on("click",e),e()}),n(".clipboard").each(function(){var e=n(this),t=new ZeroClipboard(e,{moviePath:"/static/flash/ZeroClipboard.swf"});t.on("complete",function(){e.tipsy("hide"),e.attr("original-title","Copied!"),e.tipsy("show"),mixpanel.track("address copied")}),t.on("mouseover",function(){e.attr("original-title","Click to copy to clipboard"),e.tipsy("show")}),t.on("mouseout",function(){e.tipsy("hide")})}),StandardWeb.realtime.subscribe("messages",function(e,t){e||t.on("unread-count",function(e){var t=e.count,i=n("#account"),o=i.find(".messages"),r=i.find(".messages .new-count");t&&!o.hasClass("new")?o.addClass("new"):!t&&o.hasClass("new")&&o.removeClass("new"),r.html(t)}.bind(this))}),StandardWeb.refreshFromnow(),n(".placeholder").placeholder(),n(".tooltip").tipsy()})}(window,document,$);