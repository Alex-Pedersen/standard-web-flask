!function(e,t){function n(e){var t=pt[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&e.nodeType===1){var r="data-"+n.replace(gt,"-$1").toLowerCase();i=e.getAttribute(r);if(typeof i=="string"){try{i=i==="true"?!0:i==="false"?!1:i==="null"?null:+i+""===i?+i:mt.test(i)?Z.parseJSON(i):i}catch(o){}Z.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e){if(t==="data"&&Z.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function l(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function c(e,t,n){t=t||0;if(Z.isFunction(t))return Z.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Z.grep(e,function(e,i){return e===t===n});if(typeof t=="string"){var i=Z.grep(e,function(e){return e.nodeType===1});if(Bt.test(t))return Z.filter(t,i,!n);t=Z.filter(t,i)}return Z.grep(e,function(e,i){return Z.inArray(e,t)>=0===n})}function u(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e,t){if(t.nodeType!==1||!Z.hasData(e))return;var n,i,r,o=Z._data(e),a=Z._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;i<r;i++)Z.event.add(t,n,s[n][i])}a.data&&(a.data=Z.extend({},a.data))}function h(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Gt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando)}function p(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function m(e){Gt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=vn.length;while(r--){t=vn[r]+n;if(t in e)return t}return i}function y(e,t){return e=t||e,Z.css(e,"display")==="none"||!Z.contains(e.ownerDocument,e)}function v(e,t){var n,i,r=[],o=0,a=e.length;for(;o<a;o++){n=e[o];if(!n.style)continue;r[o]=Z._data(n,"olddisplay"),t?(!r[o]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&y(n)&&(r[o]=Z._data(n,"olddisplay",k(n.nodeName)))):(i=nn(n,"display"),!r[o]&&i!=="none"&&Z._data(n,"olddisplay",i))}for(o=0;o<a;o++){n=e[o];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?r[o]||"":"none"}return e}function b(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function x(e,t,n,i){var r=n===(i?"border":"content")?4:t==="width"?1:0,o=0;for(;r<4;r+=2)n==="margin"&&(o+=Z.css(e,n+yn[r],!0)),i?(n==="content"&&(o-=parseFloat(nn(e,"padding"+yn[r]))||0),n!=="margin"&&(o-=parseFloat(nn(e,"border"+yn[r]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+yn[r]))||0,n!=="padding"&&(o+=parseFloat(nn(e,"border"+yn[r]+"Width"))||0));return o}function w(e,t,n){var i=t==="width"?e.offsetWidth:e.offsetHeight,r=!0,o=Z.support.boxSizing&&Z.css(e,"boxSizing")==="border-box";if(i<=0||i==null){i=nn(e,t);if(i<0||i==null)i=e.style[t];if(fn.test(i))return i;r=o&&(Z.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+x(e,t,n||(o?"border":"content"),r)+"px"}function k(e){if(pn[e])return pn[e];var t=Z("<"+e+">").appendTo(W.body),n=t.css("display");t.remove();if(n==="none"||n===""){rn=W.body.appendChild(rn||Z.extend(W.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!on||!rn.createElement)on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close();t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),W.body.removeChild(rn)}return pn[e]=n,n}function _(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||wn.test(e)?i(e,r):_(e+"["+(typeof r=="object"?t:"")+"]",r,n,i)});else if(!n&&Z.type(t)==="object")for(r in t)_(e+"["+r+"]",t[r],n,i);else i(e,t)}function T(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var i,r,o,a=t.toLowerCase().split(tt),s=0,l=a.length;if(Z.isFunction(n))for(;s<l;s++)i=a[s],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function C(e,n,i,r,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;var s,l=e[o],c=0,u=l?l.length:0,d=e===In;for(;c<u&&(d||!s);c++)s=l[c](n,i,r),typeof s=="string"&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=C(e,n,i,r,s,a)));return(d||!s)&&!a["*"]&&(s=C(e,n,i,r,"*",a)),s}function S(e,n){var i,r,o=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Z.extend(!0,e,r)}function M(e,n,i){var r,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);while(c[0]==="*")c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)a=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}if(a)return a!==c[0]&&c.unshift(a),i[a]}function E(e,t){var n,i,r,o,a=e.dataTypes.slice(),s=a[0],l={},c=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(a[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=a[++c];)if(r!=="*"){if(s!=="*"&&s!==r){n=l[s+" "+r]||l["* "+r];if(!n)for(i in l){o=i.split(" ");if(o[1]===r){n=l[s+" "+o[0]]||l["* "+o[0]];if(n){n===!0?n=l[i]:l[i]!==!0&&(r=o[0],a.splice(c--,0,r));break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function O(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function A(){return setTimeout(function(){Xn=t},0),Xn=Z.now()}function N(e,t){Z.each(t,function(t,n){var i=(ei[t]||[]).concat(ei["*"]),r=0,o=i.length;for(;r<o;r++)if(i[r].call(e,t,n))return})}function L(e,t,n){var i,r=0,o=0,a=Kn.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){var t=Xn||A(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,o=0,a=c.tweens.length;for(;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||A(),duration:n.duration,tweens:[],createTween:function(t,n,i){var r=Z.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,i=t?c.tweens.length:0;for(;n<i;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;P(u,c.opts.specialEasing);for(;r<a;r++){i=Kn[r].call(c,e,u,c.opts);if(i)return i}return N(c,u),Z.isFunction(c.opts.start)&&c.opts.start.call(e,c),Z.fx.timer(Z.extend(l,{anim:c,queue:c.opts.queue,elem:e})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function P(e,t){var n,i,r,o,a;for(n in e){i=Z.camelCase(n),r=t[i],o=e[n],Z.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=Z.cssHooks[i];if(a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}}function H(e,t,n){var i,r,o,a,s,l,c,u,d,f=this,h=e.style,p={},m=[],g=e.nodeType&&y(e);n.queue||(u=Z._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,Z.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],Z.css(e,"display")==="inline"&&Z.css(e,"float")==="none"&&(!Z.support.inlineBlockNeedsLayout||k(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",Z.support.shrinkWrapBlocks||f.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t){o=t[i];if(Qn.exec(o)){delete t[i],l=l||o==="toggle";if(o===(g?"hide":"show"))continue;m.push(i)}}a=m.length;if(a){s=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in s&&(g=s.hidden),l&&(s.hidden=!g),g?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in p)Z.style(e,t,p[t])});for(i=0;i<a;i++)r=m[i],c=f.createTween(r,g?s[r]:0),p[r]=s[r]||Z.style(e,r),r in s||(s[r]=c.start,g&&(c.end=c.start,c.start=r==="width"||r==="height"?1:0))}}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function I(e,t){var n,i={height:e},r=0;t=t?1:0;for(;r<4;r+=2-t)n=yn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function R(e){return Z.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var F,j,W=e.document,z=e.location,q=e.navigator,Y=e.jQuery,U=e.$,$=Array.prototype.push,V=Array.prototype.slice,X=Array.prototype.indexOf,G=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,J=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,F)},K=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ft=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",ft,!1),Z.ready()):W.readyState==="complete"&&(W.detachEvent("onreadystatechange",ft),Z.ready())},ht={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,i){var r,o,a,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?r=[null,e,null]:r=it.exec(e);if(r&&(r[1]||!n)){if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:W,e=Z.parseHTML(r[1],s,!0),rt.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);o=W.getElementById(r[2]);if(o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=W,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return Z.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Z.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,t==="find"?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),typeof s!="object"&&!Z.isFunction(s)&&(s={}),c===l&&(s=this,--l);for(;l<c;l++)if((e=arguments[l])!=null)for(n in e){i=s[n],r=e[n];if(s===r)continue;u&&r&&(Z.isPlainObject(r)||(o=Z.isArray(r)))?(o?(o=!1,a=i&&Z.isArray(i)?i:[]):a=i&&Z.isPlainObject(i)?i:{},s[n]=Z.extend(u,a,r)):r!==t&&(s[n]=r)}return s},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=U),t&&e.jQuery===Z&&(e.jQuery=Y),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?--Z.readyWait:Z.isReady)return;if(!W.body)return setTimeout(Z.ready,1);Z.isReady=!0;if(e!==!0&&--Z.readyWait>0)return;j.resolveWith(W,[Z]),Z.fn.trigger&&Z(W).trigger("ready").off("ready")},isFunction:function(e){return Z.type(e)==="function"},isArray:Array.isArray||function(e){return Z.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):ht[G.call(e)]||"object"},isPlainObject:function(e){if(!e||Z.type(e)!=="object"||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||Q.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||W,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!="string")return null;t=Z.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(ot.test(t.replace(st,"@").replace(lt,"]").replace(at,"")))return new Function("return "+t)();Z.error("Invalid JSON: "+t)},parseXML:function(n){var i,r;if(!n||typeof n!="string")return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,a=e.length,s=a===t||Z.isFunction(e);if(i){if(s){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;o<a;)if(n.apply(e[o++],i)===!1)break}else if(s){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;o<a;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:J&&!J.call("﻿ ")?function(e){return e==null?"":J.call(e)}:function(e){return e==null?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return e!=null&&(n=Z.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||Z.isWindow(e)?$.call(i,e):Z.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(X)return X.call(t,e,n);i=t.length,n=n?n<0?Math.max(0,i+n):n:0;for(;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if(typeof i=="number")for(;o<i;o++)e[r++]=n[o];else while(n[o]!==t)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;n=!!n;for(;o<a;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,a=[],s=0,l=e.length,c=e instanceof Z||l!==t&&typeof l=="number"&&(l>0&&e[0]&&e[l-1]||l===0||Z.isArray(e));if(c)for(;s<l;s++)r=n(e[s],s,i),r!=null&&(a[a.length]=r);else for(o in e)r=n(e[o],o,i),r!=null&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var i,r,o;return typeof n=="string"&&(i=e[n],n=e,e=i),Z.isFunction(e)?(r=V.call(arguments,2),o=function(){return e.apply(n,r.concat(V.call(arguments)))},o.guid=e.guid=e.guid||Z.guid++,o):t},access:function(e,n,i,r,o,a,s){var l,c=i==null,u=0,d=e.length;if(i&&typeof i=="object"){for(u in i)Z.access(e,n,u,i[u],1,a,r);o=1}else if(r!==t){l=s===t&&Z.isFunction(r),c&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,r),n=null));if(n)for(;u<d;u++)n(e[u],i,l?r.call(e[u],u,n(e[u],i)):r,s);o=1}return o?e:c?n.call(e):d?n(e[0],i):a},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!j){j=Z.Deferred();if(W.readyState==="complete")setTimeout(Z.ready,1);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",ft,!1),e.addEventListener("load",Z.ready,!1);else{W.attachEvent("onreadystatechange",ft),e.attachEvent("onload",Z.ready);var n=!1;try{n=e.frameElement==null&&W.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Z.ready()}}()}}return j.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ht["[object "+t+"]"]=t.toLowerCase()}),F=Z(W);var pt={};Z.Callbacks=function(e){e=typeof e=="string"?pt[e]||n(e):Z.extend({},e);var i,r,o,a,s,l,c=[],u=!e.once&&[],d=function(t){i=e.memory&&t,r=!0,l=a||0,a=0,s=c.length,o=!0;for(;c&&l<s;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):i?c=[]:f.disable())},f={add:function(){if(c){var t=c.length;!function n(t){Z.each(t,function(t,i){var r=Z.type(i);r==="function"?(!e.unique||!f.has(i))&&c.push(i):i&&i.length&&r!=="string"&&n(i)})}(arguments),o?s=c.length:i&&(a=t,d(i))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){var n;while((n=Z.inArray(t,c,n))>-1)c.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return Z.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=i=t,this},disabled:function(){return!c},lock:function(){return u=t,i||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],c&&(!r||u)&&(o?u.push(t):d(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var o=i[0],a=e[t];r[i[1]](Z.isFunction(a)?function(){var e=a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return e!=null?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[e^1][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=0,n=V.call(arguments),i=n.length,r=i!==1||e&&Z.isFunction(e.promise)?i:0,o=r===1?e:Z.Deferred(),a=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?V.call(arguments):i,n===s?o.notifyWith(t,n):--r||o.resolveWith(t,n)}},s,l,c;if(i>1){s=new Array(i),l=new Array(i),c=new Array(i);for(;t<i;t++)n[t]&&Z.isFunction(n[t].promise)?n[t].promise().done(a(t,c,n)).fail(o.reject).progress(a(t,l,s)):--r}return r||o.resolveWith(c,n),o.promise()}}),Z.support=function(){var t,n,i,r,o,a,s,l,c,u,d,f=W.createElement("div");f.setAttribute("className","t"),f.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=f.getElementsByTagName("*"),i=f.getElementsByTagName("a")[0];if(!n||!i||!n.length)return{};r=W.createElement("select"),o=r.appendChild(W.createElement("option")),a=f.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:f.firstChild.nodeType===3,tbody:!f.getElementsByTagName("tbody").length,htmlSerialize:!!f.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:a.value==="on",optSelected:o.selected,getSetAttribute:f.className!=="t",enctype:!!W.createElement("form").enctype,html5Clone:W.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:W.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete f.test}catch(h){t.deleteExpando=!1}!f.addEventListener&&f.attachEvent&&f.fireEvent&&(f.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),f.cloneNode(!0).fireEvent("onclick"),f.detachEvent("onclick",d)),a=W.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue=a.value==="t",a.setAttribute("checked","checked"),a.setAttribute("name","t"),f.appendChild(a),s=W.createDocumentFragment(),s.appendChild(f.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(f);if(f.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in f,u||(f.setAttribute(l,"return;"),u=typeof f[l]=="function"),t[c+"Bubbles"]=u;return Z(function(){var n,i,r,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=W.getElementsByTagName("body")[0];if(!s)return;n=W.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=W.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=r[0].offsetHeight===0,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&r[0].offsetHeight===0,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=i.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=s.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(i,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(i,null)||{width:"4px"}).width==="4px",o=W.createElement("div"),o.style.cssText=i.style.cssText=a,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof i.style.zoom!="undefined"&&(i.innerHTML="",i.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=i.offsetWidth===3,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=i.offsetWidth!==3,n.style.zoom=1),s.removeChild(n),n=i=r=o=null}),s.removeChild(f),n=i=r=o=a=s=f=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!r(e)},data:function(e,n,i,r){if(!Z.acceptData(e))return;var o,a,s=Z.expando,l=typeof n=="string",c=e.nodeType,u=c?Z.cache:e,d=c?e[s]:e[s]&&s;if((!d||!u[d]||!r&&!u[d].data)&&l&&i===t)return;d||(c?e[s]=d=Z.deletedIds.pop()||Z.guid++:d=s),u[d]||(u[d]={},c||(u[d].toJSON=Z.noop));if(typeof n=="object"||typeof n=="function")r?u[d]=Z.extend(u[d],n):u[d].data=Z.extend(u[d].data,n);return o=u[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Z.camelCase(n)]=i),l?(a=o[n],a==null&&(a=o[Z.camelCase(n)])):a=o,a},removeData:function(e,t,n){if(!Z.acceptData(e))return;var i,o,a,s=e.nodeType,l=s?Z.cache:e,c=s?e[Z.expando]:Z.expando;if(!l[c])return;if(t){i=n?l[c]:l[c].data;if(i){Z.isArray(t)||(t in i?t=[t]:(t=Z.camelCase(t),t in i?t=[t]:t=t.split(" ")));for(o=0,a=t.length;o<a;o++)delete i[t[o]];if(!(n?r:Z.isEmptyObject)(i))return}}if(!n){delete l[c].data;if(!r(l[c]))return}s?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var r,o,a,s,l,c=this[0],u=0,d=null;if(e===t){if(this.length){d=Z.data(c);if(c.nodeType===1&&!Z._data(c,"parsedAttrs")){a=c.attributes;for(l=a.length;u<l;u++)s=a[u].name,s.indexOf("data-")||(s=Z.camelCase(s.substring(5)),i(c,s,d[s]));Z._data(c,"parsedAttrs",!0)}}return d}return typeof e=="object"?this.each(function(){Z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Z.access(this,function(n){if(n===t)return d=this.triggerHandler("getData"+o,[r[0]]),d===t&&c&&(d=Z.data(c,e),d=i(c,e,d)),d===t&&r[1]?this.data(r[0]):d;r[1]=n,this.each(function(){var t=Z(this);t.triggerHandler("setData"+o,r),Z.data(this,e,n),t.triggerHandler("changeData"+o,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Z._data(e,t),n&&(!i||Z.isArray(n)?i=Z._data(e,t,Z.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};r==="inprogress"&&(r=n.shift(),i--),r&&(t==="fx"&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var i=2;return typeof e!="string"&&(n=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Z.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(s--)i=Z._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var yt,vt,bt,xt=/[\t\r\n]/g,wt=/\r/g,kt=/^(?:button|input)$/i,_t=/^(?:button|input|object|select|textarea)$/i,Tt=/^a(?:rea|)$/i,Ct=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,St=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a,s;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(tt);for(n=0,i=this.length;n<i;n++){r=this[n];if(r.nodeType===1)if(!r.className&&t.length===1)r.className=e;else{o=" "+r.className+" ";for(a=0,s=t.length;a<s;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");r.className=Z.trim(o)}}}return this},removeClass:function(e){var n,i,r,o,a,s,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(tt);for(s=0,l=this.length;s<l;s++){r=this[s];if(r.nodeType===1&&r.className){i=(" "+r.className+" ").replace(xt," ");for(o=0,a=n.length;o<a;o++)while(i.indexOf(" "+n[o]+" ")>=0)i=i.replace(" "+n[o]+" "," ");r.className=e?Z.trim(i):""}}}return this},toggleClass:function(e,t){var n=typeof e,i=typeof t=="boolean";return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var r,o=0,a=Z(this),s=t,l=e.split(tt);while(r=l[o++])s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r)}else if(n==="undefined"||n==="boolean")this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,i=this.length;for(;n<i;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(xt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];if(!arguments.length){if(o)return n=Z.valHooks[o.type]||Z.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,typeof i=="string"?i.replace(wt,""):i==null?"":i);return}return r=Z.isFunction(e),this.each(function(i){var o,a=Z(this);if(this.nodeType!==1)return;r?o=e.call(this,i,a.val()):o=e,o==null?o="":typeof o=="number"?o+="":Z.isArray(o)&&(o=Z.map(o,function(e){return e==null?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,o,"value")===t)this.value=o})}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,i=e.options,r=e.selectedIndex,o=e.type==="select-one"||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;for(;l<s;l++){n=i[l];if((n.selected||l===r)&&(Z.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){t=Z(n).val();if(o)return t;a.push(t)}}return a},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,a,s,l=e.nodeType;if(!e||l===3||l===8||l===2)return;if(r&&Z.isFunction(Z.fn[n]))return Z(e)[n](i);if(typeof e.getAttribute=="undefined")return Z.prop(e,n,i);s=l!==1||!Z.isXMLDoc(e),s&&(n=n.toLowerCase(),a=Z.attrHooks[n]||(Ct.test(n)?vt:yt));if(i!==t){if(i===null){Z.removeAttr(e,n);return}return a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i)}return a&&"get"in a&&s&&(o=a.get(e,n))!==null?o:(o=e.getAttribute(n),o===null?t:o)},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&e.nodeType===1){i=t.split(tt);for(;a<i.length;a++)r=i[a],r&&(n=Z.propFix[r]||r,o=Ct.test(r),o||Z.attr(e,r,""),e.removeAttribute(St?r:n),o&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&t==="radio"&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return yt&&Z.nodeName(e,"button")?yt.get(e,t):t in e?e.value:null},set:function(e,t,n){if(yt&&Z.nodeName(e,"button"))return yt.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(!e||s===3||s===8||s===2)return;return a=s!==1||!Z.isXMLDoc(e),a&&(n=Z.propFix[n]||n,o=Z.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&(r=o.get(e,n))!==null?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):_t.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:t}}}}),vt={get:function(e,n){var i,r=Z.prop(e,n);return r===!0||typeof r!="boolean"&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Z.removeAttr(e,n):(i=Z.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},St||(bt={name:!0,id:!0,coords:!0},yt=Z.valHooks.button={get:function(e,n){var i;
return i=e.getAttributeNode(n),i&&(bt[n]?i.value!=="":i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=W.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),Z.attrHooks.contenteditable={get:yt.get,set:function(e,t,n){t===""&&(t="false"),yt.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return i===null?t:i}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){if(Z.isArray(t))return e.checked=Z.inArray(Z(e).val(),t)>=0}})});var Mt=/^(?:textarea|input|select)$/i,Et=/^([^\.]*|)(?:\.(.+)|)$/,Dt=/(?:^|\s)hover(\.\S+|)\b/,Ot=/^key/,At=/^(?:mouse|contextmenu)|click/,Nt=/^(?:focusinfocus|focusoutblur)$/,Lt=function(e){return Z.event.special.hover?e:e.replace(Dt,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,i,r,o){var a,s,l,c,u,d,f,h,p,m,g;if(e.nodeType===3||e.nodeType===8||!n||!i||!(a=Z._data(e)))return;i.handler&&(p=i,i=p.handler,o=p.selector),i.guid||(i.guid=Z.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(e){return typeof Z=="undefined"||!!e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Z.trim(Lt(n)).split(" ");for(c=0;c<n.length;c++){u=Et.exec(n[c])||[],d=u[1],f=(u[2]||"").split(".").sort(),g=Z.event.special[d]||{},d=(o?g.delegateType:g.bindType)||d,g=Z.event.special[d]||{},h=Z.extend({type:d,origType:u[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Z.expr.match.needsContext.test(o),namespace:f.join(".")},p),m=l[d];if(!m){m=l[d]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,r,f,s)===!1)e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s)}g.add&&(g.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?m.splice(m.delegateCount++,0,h):m.push(h),Z.event.global[d]=!0}e=null},global:{},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,f,h,p,m,g=Z.hasData(e)&&Z._data(e);if(!g||!(f=g.events))return;t=Z.trim(Lt(t||"")).split(" ");for(o=0;o<t.length;o++){a=Et.exec(t[o])||[],s=l=a[1],c=a[2];if(!s){for(s in f)Z.event.remove(e,s+t[o],n,i,!0);continue}h=Z.event.special[s]||{},s=(i?h.delegateType:h.bindType)||s,p=f[s]||[],u=p.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(d=0;d<p.length;d++)m=p[d],(r||l===m.origType)&&(!n||n.guid===m.guid)&&(!c||c.test(m.namespace))&&(!i||i===m.selector||i==="**"&&m.selector)&&(p.splice(d--,1),m.selector&&p.delegateCount--,h.remove&&h.remove.call(e,m));p.length===0&&u!==p.length&&((!h.teardown||h.teardown.call(e,c,g.handle)===!1)&&Z.removeEvent(e,s,g.handle),delete f[s])}Z.isEmptyObject(f)&&(delete g.handle,Z.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||r.nodeType!==3&&r.nodeType!==8){var a,s,l,c,u,d,f,h,p,m,g=n.type||n,y=[];if(Nt.test(g+Z.event.triggered))return;g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort());if((!r||Z.event.customEvent[g])&&!Z.event.global[g])return;n=typeof n=="object"?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=y.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=g.indexOf(":")<0?"on"+g:"";if(!r){a=Z.cache;for(l in a)a[l].events&&a[l].events[g]&&Z.event.trigger(n,i,a[l].handle.elem,!0);return}n.result=t,n.target||(n.target=r),i=i!=null?Z.makeArray(i):[],i.unshift(n),f=Z.event.special[g]||{};if(f.trigger&&f.trigger.apply(r,i)===!1)return;p=[[r,f.bindType||g]];if(!o&&!f.noBubble&&!Z.isWindow(r)){m=f.delegateType||g,c=Nt.test(m+g)?r:r.parentNode;for(u=r;c;c=c.parentNode)p.push([c,m]),u=c;u===(r.ownerDocument||W)&&p.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)c=p[l][0],n.type=p[l][1],h=(Z._data(c,"events")||{})[n.type]&&Z._data(c,"handle"),h&&h.apply(c,i),h=d&&c[d],h&&Z.acceptData(c)&&h.apply&&h.apply(c,i)===!1&&n.preventDefault();return n.type=g,!o&&!n.isDefaultPrevented()&&(!f._default||f._default.apply(r.ownerDocument,i)===!1)&&(g!=="click"||!Z.nodeName(r,"a"))&&Z.acceptData(r)&&d&&r[g]&&(g!=="focus"&&g!=="blur"||n.target.offsetWidth!==0)&&!Z.isWindow(r)&&(u=r[d],u&&(r[d]=null),Z.event.triggered=g,r[g](),Z.event.triggered=t,u&&(r[d]=u)),n.result}return},dispatch:function(n){n=Z.event.fix(n||e.event);var i,r,o,a,s,l,c,u,d,f,h=(Z._data(this,"events")||{})[n.type]||[],p=h.delegateCount,m=V.call(arguments),g=!n.exclusive&&!n.namespace,y=Z.event.special[n.type]||{},v=[];m[0]=n,n.delegateTarget=this;if(y.preDispatch&&y.preDispatch.call(this,n)===!1)return;if(p&&(!n.button||n.type!=="click"))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||n.type!=="click"){s={},c=[];for(i=0;i<p;i++)u=h[i],d=u.selector,s[d]===t&&(s[d]=u.needsContext?Z(d,this).index(o)>=0:Z.find(d,this,null,[o]).length),s[d]&&c.push(u);c.length&&v.push({elem:o,matches:c})}h.length>p&&v.push({elem:this,matches:h.slice(p)});for(i=0;i<v.length&&!n.isPropagationStopped();i++){l=v[i],n.currentTarget=l.elem;for(r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++){u=l.matches[r];if(g||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))n.data=u.data,n.handleObj=u,a=((Z.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,m),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation()))}}return y.postDispatch&&y.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||W,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),!e.which&&a!==t&&(e.which=a&1?1:a&2?3:a&4?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i=e,r=Z.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;e=Z.Event(i);for(t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||W),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=W.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]=="undefined"&&(e[i]=null),e.detachEvent(i,n))},Z.Event=function(e,t){if(!(this instanceof Z.Event))return new Z.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj,a=o.selector;if(!r||r!==i&&!Z.contains(i,r))e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t;return n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){if(Z.nodeName(this,"form"))return!1;Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(Z.nodeName(this,"form"))return!1;Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){if(Mt.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")Z.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)});return!1}Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return Z.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){n++===0&&W.addEventListener(e,i,!0)},teardown:function(){--n===0&&W.removeEventListener(e,i,!0)}}}),Z.fn.extend({on:function(e,n,i,r,a){var s,l;if(typeof e=="object"){typeof n!="string"&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],a);return this}i==null&&r==null?(r=n,i=n=t):r==null&&(typeof n=="string"?(r=i,i=t):(r=i,i=n,n=t));if(r===!1)r=o;else if(!r)return this;return a===1&&(s=r,r=function(e){return Z().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(a in e)this.off(a,n,e[a]);return this}if(n===!1||typeof n=="function")i=n,n=t;return i===!1&&(i=o),this.each(function(){Z.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return Z.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+e.guid)||0)%i;return Z._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};r.guid=n;while(i<t.length)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ot.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),At.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||A;var r,o,a,s,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=w(t);if(!a&&!i)if(r=nt.exec(e))if(s=r[1]){if(l===9){o=t.getElementById(s);if(!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&k(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return B.apply(n,I.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&pt&&t.getElementsByClassName)return B.apply(n,I.call(t.getElementsByClassName(s),0)),n}return m(e.replace(J,"$1"),t,n,i,a)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function o(e){return F(function(t){return t=+t,F(function(n,i){var r,o=e([],n.length,t),a=o.length;while(a--)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function a(e,t,n){if(e===t)return n;var i=e.nextSibling;while(i){if(i===t)return-1;i=i.nextSibling}return 1}function s(e,t){var i,r,o,a,s,l,c,u=z[D][e+" "];if(u)return t?0:u.slice(0);s=e,l=[],c=b.preFilter;while(s){if(!i||(r=K.exec(s)))r&&(s=s.slice(r[0].length)||s),l.push(o=[]);i=!1;if(r=et.exec(s))o.push(i=new O(r.shift())),s=s.slice(i.length),i.type=r[0].replace(J," ");for(a in b.filter)(r=ct[a].exec(s))&&(!c[a]||(r=c[a](r)))&&(o.push(i=new O(r.shift())),s=s.slice(i.length),i.type=a,i.matches=r);if(!i)break}return t?s.length:s?n.error(e):z(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&t.dir==="parentNode",o=P++;return t.first?function(t,n,o){while(t=t[i])if(r||t.nodeType===1)return e(t,n,o)}:function(t,n,a){if(!a){var s,l=L+" "+o+" ",c=l+y;while(t=t[i])if(r||t.nodeType===1){if((s=t[D])===c)return t.sizset;if(typeof s=="string"&&s.indexOf(l)===0){if(t.sizset)return t}else{t[D]=c;if(e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(r||t.nodeType===1)if(e(t,n,a))return t}}function c(e){return e.length>1?function(t,n,i){var r=e.length;while(r--)if(!e[r](t,n,i))return!1;return!0}:e[0]}function u(e,t,n,i,r){var o,a=[],s=0,l=e.length,c=t!=null;for(;s<l;s++)if(o=e[s])if(!n||n(o,i,r))a.push(o),c&&t.push(s);return a}function d(e,t,n,i,r,o){return i&&!i[D]&&(i=d(i)),r&&!r[D]&&(r=d(r,o)),F(function(o,a,s,l){var c,d,f,h=[],m=[],g=a.length,y=o||p(t||"*",s.nodeType?[s]:s,[]),v=e&&(o||!t)?u(y,h,e,s,l):y,b=n?r||(o?e:g||i)?[]:a:v;n&&n(v,b,s,l);if(i){c=u(b,m),i(c,[],s,l),d=c.length;while(d--)if(f=c[d])b[m[d]]=!(v[m[d]]=f)}if(o){if(r||e){if(r){c=[],d=b.length;while(d--)(f=b[d])&&c.push(v[d]=f);r(null,b=[],c,l)}d=b.length;while(d--)(f=b[d])&&(c=r?R.call(o,f):h[d])>-1&&(o[c]=!(a[c]=f))}}else b=u(b===a?b.splice(g,b.length):b),r?r(null,a,b,l):B.apply(a,b)})}function f(e){var t,n,i,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=l(function(e){return e===t},a,!0),h=l(function(e){return R.call(t,e)>-1},a,!0),p=[function(e,n,i){return!o&&(i||n!==S)||((t=n).nodeType?u(e,n,i):h(e,n,i))}];for(;s<r;s++)if(n=b.relative[e[s].type])p=[l(c(p),n)];else{n=b.filter[e[s].type].apply(null,e[s].matches);if(n[D]){i=++s;for(;i<r;i++)if(b.relative[e[i].type])break;return d(s>1&&c(p),s>1&&e.slice(0,s-1).join("").replace(J,"$1"),n,s<i&&f(e.slice(s,i)),i<r&&f(e=e.slice(i)),i<r&&e.join(""))}p.push(n)}return c(p)}function h(e,t){var i=t.length>0,r=e.length>0,o=function(a,s,l,c,d){var f,h,p,m=[],g=0,v="0",x=a&&[],w=d!=null,k=S,_=a||r&&b.find.TAG("*",d&&s.parentNode||s),T=L+=k==null?1:Math.E;w&&(S=s!==A&&s,y=o.el);for(;(f=_[v])!=null;v++){if(r&&f){for(h=0;p=e[h];h++)if(p(f,s,l)){c.push(f);break}w&&(L=T,y=++o.el)}i&&((f=!p&&f)&&g--,a&&x.push(f))}g+=v;if(i&&v!==g){for(h=0;p=t[h];h++)p(x,m,s,l);if(a){if(g>0)while(v--)!x[v]&&!m[v]&&(m[v]=H.call(c));m=u(m)}B.apply(c,m),w&&!a&&m.length>0&&g+t.length>1&&n.uniqueSort(c)}return w&&(L=T,S=k),x};return o.el=0,i?F(o):o}function p(e,t,i){var r=0,o=t.length;for(;r<o;r++)n(e,t[r],i);return i}function m(e,t,n,i,r){var o,a,l,c,u,d=s(e),f=d.length;if(!i&&d.length===1){a=d[0]=d[0].slice(0);if(a.length>2&&(l=a[0]).type==="ID"&&t.nodeType===9&&!r&&b.relative[a[1].type]){t=b.find.ID(l.matches[0].replace(lt,""),t,r)[0];if(!t)return n;e=e.slice(a.shift().length)}for(o=ct.POS.test(e)?-1:a.length-1;o>=0;o--){l=a[o];if(b.relative[c=l.type])break;if(u=b.find[c])if(i=u(l.matches[0].replace(lt,""),rt.test(a[0].type)&&t.parentNode||t,r)){a.splice(o,1),e=i.length&&a.join("");if(!e)return B.apply(n,I.call(i,0)),n;break}}}return _(e,d)(i,t,r,n,rt.test(e)),n}function g(){}var y,v,b,x,w,k,_,T,C,S,M=!0,E="undefined",D=("sizcache"+Math.random()).replace(".",""),O=String,A=e.document,N=A.documentElement,L=0,P=0,H=[].pop,B=[].push,I=[].slice,R=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},F=function(e,t){return e[D]=t==null||t,e},j=function(){var e={},t=[];return F(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},W=j(),z=j(),q=j(),Y="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",$=U.replace("w","w#"),V="([*^$|!~]?=)",X="\\["+Y+"*("+U+")"+Y+"*(?:"+V+Y+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+$+")|)|)"+Y+"*\\]",G=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+X+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),K=new RegExp("^"+Y+"*,"+Y+"*"),et=new RegExp("^"+Y+"*([\\x20\\t\\r\\n\\f>+~])"+Y+"*"),tt=new RegExp(G),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/^:not/,rt=/[\x20\t\r\n\f]*[+~]/,ot=/:not\($/,at=/h\d/i,st=/input|select|textarea|button/i,lt=/\\(?!\\)/g,ct={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+X),PSEUDO:new RegExp("^"+G),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),needsContext:new RegExp("^"+Y+"*[>+~]|"+Q,"i")},ut=function(e){var t=A.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},dt=ut(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),ft=ut(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==E&&e.firstChild.getAttribute("href")==="#"}),ht=ut(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),pt=ut(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||!e.getElementsByClassName("e").length?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length===2)}),mt=ut(function(e){e.id=D+0,e.innerHTML="<a name='"+D+"'></a><div name='"+D+"'></div>",N.insertBefore(e,N.firstChild);var t=A.getElementsByName&&A.getElementsByName(D).length===2+A.getElementsByName(D+0).length;return v=!A.getElementById(D),N.removeChild(e),t});try{I.call(N.childNodes,0)[0].nodeType}catch(gt){I=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},x=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(r===3||r===4)return e.nodeValue}else for(;t=e[i];i++)n+=x(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},k=n.contains=N.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&i.nodeType===1&&n.contains&&n.contains(i))}:N.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=w(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||ht?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:F,match:ct,attrHandle:ft?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==E&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==E&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==E&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:dt?function(e,t){if(typeof t.getElementsByTagName!==E)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var i,r=[],o=0;for(;i=n[o];o++)i.nodeType===1&&r.push(i);return r}return n},NAME:mt&&function(e,t){if(typeof t.getElementsByName!==E)return t.getElementsByName(name)},CLASS:pt&&function(e,t,n){if(typeof t.getElementsByClassName!==E&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(lt,""),e[3]=(e[4]||e[5]||"").replace(lt,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;if(ct.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])tt.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:v?function(e){return e=e.replace(lt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(lt,""),function(t){var n=typeof t.getAttributeNode!==E&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(lt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=W[D][e+" "];return t||(t=new RegExp("(^|"+Y+")"+e+"("+Y+"|$)"))&&W(e,function(e){return t.test(e.className||typeof e.getAttribute!==E&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r,o){var a=n.attr(r,e);return a==null?t==="!=":t?(a+="",t==="="?a===i:t==="!="?a!==i:t==="^="?i&&a.indexOf(i)===0:t==="*="?i&&a.indexOf(i)>-1:t==="$="?i&&a.substr(a.length-i.length)===i:t==="~="?(" "+a+" ").indexOf(i)>-1:t==="|="?a===i||a.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return e==="nth"?function(e){var t,r,o=e.parentNode;if(n===1&&i===0)return!0;if(o){r=0;for(t=o.firstChild;t;t=t.nextSibling)if(t.nodeType===1){r++;if(e===t)break}}return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[D]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?F(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=R.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:F(function(e){var t=[],n=[],i=_(e.replace(J,"$1"));return i[D]?F(function(e,t,n,r){var o,a=i(e,null,r,[]),s=e.length;while(s--)if(o=a[s])e[s]=!(t[s]=o)}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:F(function(e){return function(t){return n(e,t).length>0}}),contains:F(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return at.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return st.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},T=N.compareDocumentPosition?function(e,t){return e===t?(C=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return C=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,l=t.parentNode,c=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;while(c)r.unshift(c),c=c.parentNode;c=l;while(c)o.unshift(c),c=c.parentNode;n=r.length,i=o.length;for(var u=0;u<n&&u<i;u++)if(r[u]!==o[u])return a(r[u],o[u]);return u===n?a(e,o[u],-1):a(r[u],t,1)},[0,0].sort(T),M=!C,n.uniqueSort=function(e){var t,n=[],i=1,r=0;C=M,e.sort(T);if(C){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_=n.compile=function(e,t){var n,i=[],r=[],o=q[D][e+" "];if(!o){t||(t=s(e)),n=t.length;while(n--)o=f(t[n]),o[D]?i.push(o):r.push(o);o=q(e,h(r,i))}return o},A.querySelectorAll&&function(){var e,t=m,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],l=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector;ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+Y+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ut(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+Y+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),m=function(e,n,r,a,l){if(!a&&!l&&!o.test(e)){var c,u,d=!0,f=D,h=n,p=n.nodeType===9&&e;if(n.nodeType===1&&n.nodeName.toLowerCase()!=="object"){c=s(e),(d=n.getAttribute("id"))?f=d.replace(i,"\\$&"):n.setAttribute("id",f),f="[id='"+f+"'] ",u=c.length;while(u--)c[u]=f+c[u].join("");h=rt.test(e)&&n.parentNode||n,p=c.join(",")}if(p)try{return B.apply(r,I.call(h.querySelectorAll(p),0)),r}catch(m){}finally{d||n.removeAttribute("id")}}return t(e,n,r,a,l)},l&&(ut(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),a.push("!=",G)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,i){i=i.replace(r,"='$1']");if(!w(t)&&!a.test(i)&&!o.test(i))try{var s=l.call(t,i);if(s||e||t.document&&t.document.nodeType!==11)return s}catch(c){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Pt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,Bt=/^.[^:#\[\.,]*$/,It=Z.expr.match.needsContext,Rt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,i,r,o,a,s=this;if(typeof e!="string")return Z(e).filter(function(){for(t=0,n=s.length;t<n;t++)if(Z.contains(s[t],this))return!0});a=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){i=a.length,Z.find(e,this[t],a);if(t>0)for(r=i;r<a.length;r++)for(o=0;o<i;o++)if(a[o]===a[r]){a.splice(r--,1);break}}return a},has:function(e){var t,n=Z(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?It.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,i=0,r=this.length,o=[],a=It.test(e)||typeof e!="string"?Z(e,t||this.context):0;for(;i<r;i++){n=this[i];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(a?a.index(n)>-1:Z.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return o=o.length>1?Z.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?typeof e=="string"?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),i=Z.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:Z.unique(i))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return Pt.test(e)||(i=n),i&&typeof i=="string"&&(r=Z.filter(i,r)),r=this.length>1&&!Rt[e]?Z.unique(r):r,this.length>1&&Ht.test(e)&&(r=r.reverse()),this.pushStack(r,e,V.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)
},dir:function(e,n,i){var r=[],o=e[n];while(o&&o.nodeType!==9&&(i===t||o.nodeType!==1||!Z(o).is(i)))o.nodeType===1&&r.push(o),o=o[n];return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",jt=/ jQuery\d+="(?:null|\d+)"/g,Wt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,qt=/<([\w:]+)/,Yt=/<tbody/i,Ut=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Vt=/<(?:script|object|embed|option|style)/i,Xt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Gt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=u(W),tn=en.appendChild(W.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,Z.support.htmlSerialize||(Kt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,i=0;for(;(n=this[i])!=null;i++)if(!e||Z.filter(e,[n]).length)!t&&n.nodeType===1&&(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&Z.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(jt,""):t;if(typeof e=="string"&&!$t.test(e)&&(Z.support.htmlSerialize||!Xt.test(e))&&(Z.support.leadingWhitespace||!Wt.test(e))&&!Kt[(qt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(zt,"<$1></$2>");try{for(;i<r;i++)n=this[i]||{},n.nodeType===1&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),i=n.html();n.replaceWith(e.call(this,t,i))}):(typeof e!="string"&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,a,s,l=0,c=e[0],u=[],f=this.length;if(!Z.support.checkClone&&f>1&&typeof c=="string"&&Qt.test(c))return this.each(function(){Z(this).domManip(e,n,i)});if(Z.isFunction(c))return this.each(function(r){var o=Z(this);e[0]=c.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){r=Z.buildFragment(e,this,u),a=r.fragment,o=a.firstChild,a.childNodes.length===1&&(a=o);if(o){n=n&&Z.nodeName(o,"tr");for(s=r.cacheable||f-1;l<f;l++)i.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===s?a:Z.clone(a,!0,!0))}a=o=null,u.length&&Z.each(u,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,i){var r,o,a,s=e[0];return n=n||W,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof s=="string"&&s.length<512&&n===W&&s.charAt(0)==="<"&&!Vt.test(s)&&(Z.support.checkClone||!Qt.test(s))&&(Z.support.html5Clone||!Xt.test(s))&&(o=!0,r=Z.fragments[s],a=r!==t),r||(r=n.createDocumentFragment(),Z.clean(e,n,r,i),o&&(Z.fragments[s]=a&&r)),{fragment:r,cacheable:o}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var i,r=0,o=[],a=Z(n),s=a.length,l=this.length===1&&this[0].parentNode;if((l==null||l&&l.nodeType===11&&l.childNodes.length===1)&&s===1)return a[t](this[0]),this;for(;r<s;r++)i=(r>0?this.clone(!0):this).get(),Z(a[r])[t](i),o=o.concat(i);return this.pushStack(o,e,a.selector)}}),Z.extend({clone:function(e,t,n){var i,r,o,a;Z.support.html5Clone||Z.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild));if((!Z.support.noCloneEvent||!Z.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!Z.isXMLDoc(e)){h(e,a),i=p(e),r=p(a);for(o=0;i[o];++o)r[o]&&h(i[o],r[o])}if(t){f(e,a);if(n){i=p(e),r=p(a);for(o=0;i[o];++o)f(i[o],r[o])}}return i=r=null,a},clean:function(e,t,n,i){var r,o,a,s,l,c,d,f,h,p,g,y,v=t===W&&en,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=W;for(r=0;(a=e[r])!=null;r++){typeof a=="number"&&(a+="");if(!a)continue;if(typeof a=="string")if(!Ut.test(a))a=t.createTextNode(a);else{v=v||u(t),d=t.createElement("div"),v.appendChild(d),a=a.replace(zt,"<$1></$2>"),s=(qt.exec(a)||["",""])[1].toLowerCase(),l=Kt[s]||Kt._default,c=l[0],d.innerHTML=l[1]+a+l[2];while(c--)d=d.lastChild;if(!Z.support.tbody){f=Yt.test(a),h=s==="table"&&!f?d.firstChild&&d.firstChild.childNodes:l[1]==="<table>"&&!f?d.childNodes:[];for(o=h.length-1;o>=0;--o)Z.nodeName(h[o],"tbody")&&!h[o].childNodes.length&&h[o].parentNode.removeChild(h[o])}!Z.support.leadingWhitespace&&Wt.test(a)&&d.insertBefore(t.createTextNode(Wt.exec(a)[0]),d.firstChild),a=d.childNodes,d.parentNode.removeChild(d)}a.nodeType?b.push(a):Z.merge(b,a)}d&&(a=d=v=null);if(!Z.support.appendChecked)for(r=0;(a=b[r])!=null;r++)Z.nodeName(a,"input")?m(a):typeof a.getElementsByTagName!="undefined"&&Z.grep(a.getElementsByTagName("input"),m);if(n){g=function(e){if(!e.type||Jt.test(e.type))return i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(r=0;(a=b[r])!=null;r++)if(!Z.nodeName(a,"script")||!g(a))n.appendChild(a),typeof a.getElementsByTagName!="undefined"&&(y=Z.grep(Z.merge([],a.getElementsByTagName("script")),g),b.splice.apply(b,[r+1,0].concat(y)),r+=y.length)}return b},cleanData:function(e,t){var n,i,r,o,a=0,s=Z.expando,l=Z.cache,c=Z.support.deleteExpando,u=Z.event.special;for(;(r=e[a])!=null;a++)if(t||Z.acceptData(r)){i=r[s],n=i&&l[i];if(n){if(n.events)for(o in n.events)u[o]?Z.event.remove(r,o):Z.removeEvent(r,o,n.handle);l[i]&&(delete l[i],c?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,Z.deletedIds.push(i))}}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(q.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof e)&&(i=e(i)),Z.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(W);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,dn=new RegExp("^("+K+")(.*)$","i"),fn=new RegExp("^("+K+")(?!px)[a-z%]+$","i"),hn=new RegExp("^([-+])=("+K+")","i"),pn={BODY:"block"},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},yn=["Top","Right","Bottom","Left"],vn=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,i){return i!==t?Z.style(e,n,i):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e,t){var n=typeof e=="boolean";return Z.isFunction(e)&&Z.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:y(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var o,a,s,l=Z.camelCase(n),c=e.style;n=Z.cssProps[l]||(Z.cssProps[l]=g(c,l)),s=Z.cssHooks[n]||Z.cssHooks[l];if(i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];a=typeof i,a==="string"&&(o=hn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Z.css(e,n)),a="number");if(i==null||a==="number"&&isNaN(i))return;a==="number"&&!Z.cssNumber[l]&&(i+="px");if(!s||!("set"in s)||(i=s.set(e,i,r))!==t)try{c[n]=i}catch(u){}},css:function(e,n,i,r){var o,a,s,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),s=Z.cssHooks[n]||Z.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=nn(e,n)),o==="normal"&&n in gn&&(o=gn[n]),i||r!==t?(a=parseFloat(o),i||Z.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,o,a,s=e.getComputedStyle(t,null),l=t.style;return s&&(i=s.getPropertyValue(n)||s[n],i===""&&!Z.contains(t.ownerDocument,t)&&(i=Z.style(t,n)),fn.test(i)&&un.test(n)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=s.width,l.width=r,l.minWidth=o,l.maxWidth=a)),i}:W.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return r==null&&o&&o[t]&&(r=o[t]),fn.test(r)&&!ln.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),r===""?"auto":r}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){if(n)return e.offsetWidth===0&&cn.test(nn(e,"display"))?Z.swap(e,mn,function(){return w(e,t,i)}):w(e,t,i)},set:function(e,n,i){return b(e,n,i?x(e,t,i,Z.support.boxSizing&&Z.css(e,"boxSizing")==="border-box"):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Z.isNumeric(t)?"alpha(opacity="+t*100+")":"",o=i&&i.filter||n.filter||"";n.zoom=1;if(t>=1&&Z.trim(o.replace(an,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(i&&!i.filter)return}n.filter=an.test(o)?o.replace(an,r):o+" "+r}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){if(t)return nn(e,"marginRight")})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return fn.test(i)?Z(e).position()[t]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!Z.support.reliableHiddenOffsets&&(e.style&&e.style.display||nn(e,"display"))==="none"},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var i,r=typeof n=="string"?n.split(" "):[n],o={};for(i=0;i<4;i++)o[e+yn[i]+t]=r[i]||r[i-2]||r[0];return o}},un.test(e)||(Z.cssHooks[e+t].set=b)});var xn=/%20/g,wn=/\[\]$/,kn=/\r?\n/g,_n=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Tn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Tn.test(this.nodeName)||_n.test(this.type))}).map(function(e,t){var n=Z(this).val();return n==null?null:Z.isArray(n)?Z.map(n,function(e,n){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),Z.param=function(e,n){var i,r=[],o=function(e,t){t=Z.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional);if(Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){o(this.name,this.value)});else for(i in e)_(i,e[i],n,o);return r.join("&").replace(xn,"+")};var Cn,Sn,Mn=/#.*$/,En=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,On=/^(?:GET|HEAD)$/,An=/^\/\//,Nn=/\?/,Ln=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Pn=/([?&])_=[^&]*/,Hn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Bn=Z.fn.load,In={},Rn={},Fn=["*/"]+["*"];try{Sn=z.href}catch(jn){Sn=W.createElement("a"),Sn.href="",Sn=Sn.href}Cn=Hn.exec(Sn.toLowerCase())||[],Z.fn.load=function(e,n,i){if(typeof e!="string"&&Bn)return Bn.apply(this,arguments);if(!this.length)return this;var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(i=n,n=t):n&&typeof n=="object"&&(o="POST"),Z.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&s.each(i,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(r?Z("<div>").append(e.replace(Ln,"")).find(r):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,i,r,o){return Z.isFunction(i)&&(o=o||r,r=i,i=t),Z.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?S(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),S(e,t),e},ajaxSettings:{url:Sn,isLocal:Dn.test(Cn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Fn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(In),ajaxTransport:T(Rn),ajax:function(e,n){function i(e,n,i,a){var c,d,v,b,w,_=n;if(x===2)return;x=2,l&&clearTimeout(l),s=t,o=a||"",k.readyState=e>0?4:0,i&&(b=M(f,k,i));if(e>=200&&e<300||e===304)f.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(Z.lastModified[r]=w),w=k.getResponseHeader("Etag"),w&&(Z.etag[r]=w)),e===304?(_="notmodified",c=!0):(c=E(f,b),_=c.state,d=c.data,v=c.error,c=!v);else{v=_;if(!_||e)_="error",e<0&&(e=0)}k.status=e,k.statusText=(n||_)+"",c?m.resolveWith(h,[d,_,k]):m.rejectWith(h,[k,_,v]),k.statusCode(y),y=t,u&&p.trigger("ajax"+(c?"Success":"Error"),[k,f,c?d:v]),g.fireWith(h,[k,_]),u&&(p.trigger("ajaxComplete",[k,f]),--Z.active||Z.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,d,f=Z.ajaxSetup({},n),h=f.context||f,p=h!==f&&(h.nodeType||h instanceof Z)?Z(h):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),y=f.statusCode||{},v={},b={},x=0,w="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!x){var n=e.toLowerCase();e=b[n]=b[n]||e,v[e]=t}return this},getAllResponseHeaders:function(){return x===2?o:null},getResponseHeader:function(e){var n;if(x===2){if(!a){a={};while(n=En.exec(o))a[n[1].toLowerCase()]=n[2]}n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return x||(f.mimeType=e),this},abort:function(e){return e=e||w,s&&s.abort(e),i(0,e),this}};m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(x<2)for(t in e)y[t]=[y[t],e[t]];else t=e[k.status],k.always(t)}return this},f.url=((e||f.url)+"").replace(Mn,"").replace(An,Cn[1]+"//"),f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().split(tt),f.crossDomain==null&&(c=Hn.exec(f.url.toLowerCase()),f.crossDomain=!(!c||c[1]===Cn[1]&&c[2]===Cn[2]&&(c[3]||(c[1]==="http:"?80:443))==(Cn[3]||(Cn[1]==="http:"?80:443)))),f.data&&f.processData&&typeof f.data!="string"&&(f.data=Z.param(f.data,f.traditional)),C(In,f,n,k);if(x===2)return k;u=f.global,f.type=f.type.toUpperCase(),f.hasContent=!On.test(f.type),u&&Z.active++===0&&Z.event.trigger("ajaxStart");if(!f.hasContent){f.data&&(f.url+=(Nn.test(f.url)?"&":"?")+f.data,delete f.data),r=f.url;if(f.cache===!1){var _=Z.now(),T=f.url.replace(Pn,"$1_="+_);f.url=T+(T===f.url?(Nn.test(f.url)?"&":"?")+"_="+_:"")}}(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),f.ifModified&&(r=r||f.url,Z.lastModified[r]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&k.setRequestHeader("If-None-Match",Z.etag[r])),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+Fn+"; q=0.01":""):f.accepts["*"]);for(d in f.headers)k.setRequestHeader(d,f.headers[d]);if(!f.beforeSend||f.beforeSend.call(h,k,f)!==!1&&x!==2){w="abort";for(d in{success:1,error:1,complete:1})k[d](f[d]);s=C(Rn,f,n,k);if(!s)i(-1,"No Transport");else{k.readyState=1,u&&p.trigger("ajaxSend",[k,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},f.timeout));try{x=1,s.send(v,i)}catch(S){if(!(x<2))throw S;i(-1,S)}}return k}return k.abort()},active:0,lastModified:{},etag:{}});var Wn=[],zn=/\?/,qn=/(=)\?(?=&|$)|\?\?/,Yn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wn.pop()||Z.expando+"_"+Yn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.data,c=n.url,u=n.jsonp!==!1,d=u&&qn.test(c),f=u&&!d&&typeof l=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&qn.test(l);if(n.dataTypes[0]==="jsonp"||d||f)return o=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],d?n.url=c.replace(qn,"$1"+o):f?n.data=l.replace(qn,"$1"+o):u&&(n.url+=(zn.test(c)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||Z.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Wn.push(o)),s&&Z.isFunction(a)&&a(s[0]),s=a=t}),"script"}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(r,o){n=W.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){if(r||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success")},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Un,$n=e.ActiveXObject?function(){for(var e in Un)Un[e](0,1)}:!1,Vn=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||O()}:D,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async);if(n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),!n.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,d,f;try{if(i&&(r||l.readyState===4)){i=t,a&&(l.onreadystatechange=Z.noop,$n&&delete Un[a]);if(r)l.readyState!==4&&l.abort();else{s=l.status,u=l.getAllResponseHeaders(),d={},f=l.responseXML,f&&f.documentElement&&(d.xml=f);try{d.text=l.responseText}catch(h){}try{c=l.statusText}catch(h){c=""}!s&&n.isLocal&&!n.crossDomain?s=d.text?200:404:s===1223&&(s=204)}}}catch(p){r||o(-1,p)}d&&o(s,c,d,u)},n.async?l.readyState===4?setTimeout(i,0):(a=++Vn,$n&&(Un||(Un={},Z(e).unload($n)),Un[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Xn,Gn,Qn=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([-+])=|)("+K+")([a-z%]*)$","i"),Zn=/queueHooks$/,Kn=[H],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Jn.exec(t),a=r.cur(),s=+a||0,l=1,c=20;if(o){n=+o[2],i=o[3]||(Z.cssNumber[e]?"":"px");if(i!=="px"&&s){s=Z.css(r.elem,e,!0)||n||1;do l=l||".5",s/=l,Z.style(r.elem,e,s+i);while(l!==(l=r.cur()/a)&&l!==1&&--c)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};Z.Animation=Z.extend(L,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,i=0,r=e.length;for(;i<r;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Kn.unshift(e):Kn.push(e)}}),Z.Tween=B,B.prototype={constructor:B,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=Z.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(e.elem.style[Z.cssProps[e.prop]]!=null||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(i,r,o){return i==null||typeof i=="boolean"||!e&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(I(t,!0),i,r,o)}}),Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(y).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),o=Z.speed(t,n,i),a=function(){var t=L(this,Z.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return typeof e!="string"&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",o=Z.timers,a=Z._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&Zn.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem===this&&(e==null||o[n].queue===e)&&(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Z.dequeue(this,e)})}}),Z.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.speed=function(e,t,n){var i=e&&typeof e=="object"?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};i.duration=Z.fx.off?0:typeof i.duration=="number"?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default;if(i.queue==null||i.queue===!0)i.queue="fx";return i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=B.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,i=0;Xn=Z.now();for(;i<n.length;i++)e=n[i],!e()&&n[i]===e&&n.splice(i--,1);n.length||Z.fx.stop(),Xn=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Gn&&(Gn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Gn),Gn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,i,r,o,a,s,l,c={top:0,left:0},u=this[0],d=u&&u.ownerDocument;if(!d)return;return(i=d.body)===u?Z.offset.bodyOffset(u):(n=d.documentElement,Z.contains(n,u)?(typeof u.getBoundingClientRect!="undefined"&&(c=u.getBoundingClientRect()),r=R(d),o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:c.top+s-o,left:c.left+l-a}):c)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Z.css(e,"position");i==="static"&&(e.style.position="relative");var r=Z(e),o=r.offset(),a=Z.css(e,"top"),s=Z.css(e,"left"),l=(i==="absolute"||i==="fixed")&&Z.inArray("auto",[a,s])>-1,c={},u={},d,f;l?(u=r.position(),d=u.top,f=u.left):(d=parseFloat(a)||0,f=parseFloat(s)||0),Z.isFunction(t)&&(t=t.call(e,n,o)),t.top!=null&&(c.top=t.top-o.top+d),t.left!=null&&(c.left=t.left-o.left+f),"using"in t?t.using.call(e,c):r.css(c)}},Z.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,i.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||W.body;while(e&&!ti.test(e.nodeName)&&Z.css(e,"position")==="static")e=e.offsetParent;return e||W.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Z.fn[e]=function(r){return Z.access(this,function(e,r,o){var a=R(e);if(o===t)return a?n in a?a[n]:a.document.documentElement[r]:e[r];a?a.scrollTo(i?Z(a).scrollLeft():o,i?o:Z(a).scrollTop()):e[r]=o},e,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Z.fn[r]=function(r,o){var a=arguments.length&&(i||typeof r!="boolean"),s=i||(r===!0||o===!0?"margin":"border");return Z.access(this,function(n,i,r){var o;return Z.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Z.css(n,i,r,s):Z.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.jQuery=e.$=Z,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window);!function(e){e.color={};e.color.make=function(t,n,i,r){var o={};o.r=t||0;o.g=n||0;o.b=i||0;o.a=r!=null?r:1;o.add=function(e,t){for(var n=0;n<e.length;++n){o[e.charAt(n)]+=t}return o.normalize()};o.scale=function(e,t){for(var n=0;n<e.length;++n){o[e.charAt(n)]*=t}return o.normalize()};o.toString=function(){if(o.a>=1){return"rgb("+[o.r,o.g,o.b].join(",")+")"}else{return"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"}};o.normalize=function(){function e(e,t,n){return t<e?e:t>n?n:t}o.r=e(0,parseInt(o.r),255);o.g=e(0,parseInt(o.g),255);o.b=e(0,parseInt(o.b),255);o.a=e(0,o.a,1);return o};o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};e.color.extract=function(t,n){var i;do{i=t.css(n).toLowerCase();if(i!=""&&i!="transparent"){break}t=t.parent()}while(!e.nodeName(t.get(0),"body"));if(i=="rgba(0, 0, 0, 0)"){i="transparent"}return e.color.parse(i)};e.color.parse=function(n){var i,r=e.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n)){return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10))}if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)){return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]))}if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n)){return r(parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55)}if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)){return r(parseFloat(i[1])*2.55,parseFloat(i[2])*2.55,parseFloat(i[3])*2.55,parseFloat(i[4]))}if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n)){return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16))}if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n)){return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16))}var o=e.trim(n).toLowerCase();if(o=="transparent"){return r(255,255,255,0)}else{i=t[o]||[0,0,0];return r(i[0],i[1],i[2])}};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}
}(jQuery);!function(e){function t(t,r,o,a){var s=[],l={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},c=null,u=null,d=null,f=null,h=null,p=[],m=[],g={left:0,right:0,top:0,bottom:0},y=0,v=0,b=0,x=0,w={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},k=this;k.setData=S;k.setupGrid=U;k.draw=Q;k.getPlaceholder=function(){return t};k.getCanvas=function(){return c};k.getPlotOffset=function(){return g};k.width=function(){return b};k.height=function(){return x};k.offset=function(){var e=d.offset();e.left+=g.left;e.top+=g.top;return e};k.getData=function(){return s};k.getAxes=function(){var t={},n;e.each(p.concat(m),function(e,n){if(n)t[n.direction+(n.n!=1?n.n:"")+"axis"]=n});return t};k.getXAxes=function(){return p};k.getYAxes=function(){return m};k.c2p=O;k.p2c=A;k.getOptions=function(){return l};k.highlight=yt;k.unhighlight=vt;k.triggerRedrawOverlay=mt;k.pointOffset=function(e){return{left:parseInt(p[E(e,"x")-1].p2c(+e.x)+g.left),top:parseInt(m[E(e,"y")-1].p2c(+e.y)+g.top)}};k.shutdown=j;k.resize=function(){B();I(c);I(u)};k.hooks=w;T(k);C(o);R();S(r);U();Q();F();function _(e,t){t=[k].concat(t);for(var n=0;n<e.length;++n)e[n].apply(this,t)}function T(){for(var t=0;t<a.length;++t){var n=a[t];n.init(k);if(n.options)e.extend(true,l,n.options)}}function C(t){var n;e.extend(true,l,t);if(l.xaxis.color==null)l.xaxis.color=l.grid.color;if(l.yaxis.color==null)l.yaxis.color=l.grid.color;if(l.xaxis.tickColor==null)l.xaxis.tickColor=l.grid.tickColor;if(l.yaxis.tickColor==null)l.yaxis.tickColor=l.grid.tickColor;if(l.grid.borderColor==null)l.grid.borderColor=l.grid.color;if(l.grid.tickColor==null)l.grid.tickColor=e.color.parse(l.grid.color).scale("a",.22).toString();for(n=0;n<Math.max(1,l.xaxes.length);++n)l.xaxes[n]=e.extend(true,{},l.xaxis,l.xaxes[n]);for(n=0;n<Math.max(1,l.yaxes.length);++n)l.yaxes[n]=e.extend(true,{},l.yaxis,l.yaxes[n]);if(l.xaxis.noTicks&&l.xaxis.ticks==null)l.xaxis.ticks=l.xaxis.noTicks;if(l.yaxis.noTicks&&l.yaxis.ticks==null)l.yaxis.ticks=l.yaxis.noTicks;if(l.x2axis){l.xaxes[1]=e.extend(true,{},l.xaxis,l.x2axis);l.xaxes[1].position="top"}if(l.y2axis){l.yaxes[1]=e.extend(true,{},l.yaxis,l.y2axis);l.yaxes[1].position="right"}if(l.grid.coloredAreas)l.grid.markings=l.grid.coloredAreas;if(l.grid.coloredAreasColor)l.grid.markingsColor=l.grid.coloredAreasColor;if(l.lines)e.extend(true,l.series.lines,l.lines);if(l.points)e.extend(true,l.series.points,l.points);if(l.bars)e.extend(true,l.series.bars,l.bars);if(l.shadowSize!=null)l.series.shadowSize=l.shadowSize;for(n=0;n<l.xaxes.length;++n)N(p,n+1).options=l.xaxes[n];for(n=0;n<l.yaxes.length;++n)N(m,n+1).options=l.yaxes[n];for(var i in w)if(l.hooks[i]&&l.hooks[i].length)w[i]=w[i].concat(l.hooks[i]);_(w.processOptions,[l])}function S(e){s=M(e);L();P()}function M(t){var n=[];for(var i=0;i<t.length;++i){var r=e.extend(true,{},l.series);if(t[i].data!=null){r.data=t[i].data;delete t[i].data;e.extend(true,r,t[i]);t[i].data=r.data}else r.data=t[i];n.push(r)}return n}function E(e,t){var n=e[t+"axis"];if(typeof n=="object")n=n.n;if(typeof n!="number")n=1;return n}function D(){return e.grep(p.concat(m),function(e){return e})}function O(e){var t={},n,i;for(n=0;n<p.length;++n){i=p[n];if(i&&i.used)t["x"+i.n]=i.c2p(e.left)}for(n=0;n<m.length;++n){i=m[n];if(i&&i.used)t["y"+i.n]=i.c2p(e.top)}if(t.x1!==undefined)t.x=t.x1;if(t.y1!==undefined)t.y=t.y1;return t}function A(e){var t={},n,i,r;for(n=0;n<p.length;++n){i=p[n];if(i&&i.used){r="x"+i.n;if(e[r]==null&&i.n==1)r="x";if(e[r]!=null){t.left=i.p2c(e[r]);break}}}for(n=0;n<m.length;++n){i=m[n];if(i&&i.used){r="y"+i.n;if(e[r]==null&&i.n==1)r="y";if(e[r]!=null){t.top=i.p2c(e[r]);break}}}return t}function N(t,n){if(!t[n-1])t[n-1]={n:n,direction:t==p?"x":"y",options:e.extend(true,{},t==p?l.xaxis:l.yaxis)};return t[n-1]}function L(){var t;var n=s.length,i=[],r=[];for(t=0;t<s.length;++t){var o=s[t].color;if(o!=null){--n;if(typeof o=="number")r.push(o);else i.push(e.color.parse(s[t].color))}}for(t=0;t<r.length;++t){n=Math.max(n,r[t]+1)}var a=[],c=0;t=0;while(a.length<n){var u;if(l.colors.length==t)u=e.color.make(100,100,100);else u=e.color.parse(l.colors[t]);var d=c%2==1?-1:1;u.scale("rgb",1+d*Math.ceil(c/2)*.2);a.push(u);++t;if(t>=l.colors.length){t=0;++c}}var f=0,h;for(t=0;t<s.length;++t){h=s[t];if(h.color==null){h.color=a[f].toString();++f}else if(typeof h.color=="number")h.color=a[h.color].toString();if(h.lines.show==null){var g,y=true;for(g in h)if(h[g]&&h[g].show){y=false;break}if(y)h.lines.show=true}h.xaxis=N(p,E(h,"x"));h.yaxis=N(m,E(h,"y"))}}function P(){var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.MAX_VALUE,r,o,a,l,c,u,d,f,h,p,m,g,y,v;function b(e,t,n){if(t<e.datamin&&t!=-i)e.datamin=t;if(n>e.datamax&&n!=i)e.datamax=n}e.each(D(),function(e,i){i.datamin=t;i.datamax=n;i.used=false});for(r=0;r<s.length;++r){u=s[r];u.datapoints={points:[]};_(w.processRawData,[u,u.data,u.datapoints])}for(r=0;r<s.length;++r){u=s[r];var x=u.data,k=u.datapoints.format;if(!k){k=[];k.push({x:true,number:true,required:true});k.push({y:true,number:true,required:true});if(u.bars.show||u.lines.show&&u.lines.fill){k.push({y:true,number:true,required:false,defaultValue:0});if(u.bars.horizontal){delete k[k.length-1].y;k[k.length-1].x=true}}u.datapoints.format=k}if(u.datapoints.pointsize!=null)continue;u.datapoints.pointsize=k.length;f=u.datapoints.pointsize;d=u.datapoints.points;insertSteps=u.lines.show&&u.lines.steps;u.xaxis.used=u.yaxis.used=true;for(o=a=0;o<x.length;++o,a+=f){v=x[o];var T=v==null;if(!T){for(l=0;l<f;++l){g=v[l];y=k[l];if(y){if(y.number&&g!=null){g=+g;if(isNaN(g))g=null;else if(g==Infinity)g=i;else if(g==-Infinity)g=-i}if(g==null){if(y.required)T=true;if(y.defaultValue!=null)g=y.defaultValue}}d[a+l]=g}}if(T){for(l=0;l<f;++l){g=d[a+l];if(g!=null){y=k[l];if(y.x)b(u.xaxis,g,g);if(y.y)b(u.yaxis,g,g)}d[a+l]=null}}else{if(insertSteps&&a>0&&d[a-f]!=null&&d[a-f]!=d[a]&&d[a-f+1]!=d[a+1]){for(l=0;l<f;++l)d[a+f+l]=d[a+l];d[a+1]=d[a-f+1];a+=f}}}}for(r=0;r<s.length;++r){u=s[r];_(w.processDatapoints,[u,u.datapoints])}for(r=0;r<s.length;++r){u=s[r];d=u.datapoints.points,f=u.datapoints.pointsize;var C=t,S=t,M=n,E=n;for(o=0;o<d.length;o+=f){if(d[o]==null)continue;for(l=0;l<f;++l){g=d[o+l];y=k[l];if(!y||g==i||g==-i)continue;if(y.x){if(g<C)C=g;if(g>M)M=g}if(y.y){if(g<S)S=g;if(g>E)E=g}}}if(u.bars.show){var O=u.bars.align=="left"?0:-u.bars.barWidth/2;if(u.bars.horizontal){S+=O;E+=O+u.bars.barWidth}else{C+=O;M+=O+u.bars.barWidth}}b(u.xaxis,C,M);b(u.yaxis,S,E)}e.each(D(),function(e,i){if(i.datamin==t)i.datamin=null;if(i.datamax==n)i.datamax=null})}function H(n,i){var r=document.createElement("canvas");r.className=i;r.width=y;r.height=v;if(!n)e(r).css({position:"absolute",left:0,top:0});e(r).appendTo(t);if(!r.getContext)r=window.G_vmlCanvasManager.initElement(r);r.getContext("2d").save();return r}function B(){y=t.width();v=t.height();if(y<=0||v<=0)throw"Invalid dimensions for plot, width = "+y+", height = "+v}function I(e){if(e.width!=y)e.width=y;if(e.height!=v)e.height=v;var t=e.getContext("2d");t.restore();t.save()}function R(){var n,i=t.children("canvas.base"),r=t.children("canvas.overlay");if(i.length==0||r==0){t.html("");t.css({padding:0});if(t.css("position")=="static")t.css("position","relative");B();c=H(true,"base");u=H(false,"overlay");n=false}else{c=i.get(0);u=r.get(0);n=true}f=c.getContext("2d");h=u.getContext("2d");d=e([u,c]);if(n){t.data("plot").shutdown();k.resize();h.clearRect(0,0,y,v);d.unbind();t.children().not([c,u]).remove()}t.data("plot",k)}function F(){if(l.grid.hoverable){d.mousemove(dt);d.mouseleave(ft)}if(l.grid.clickable)d.click(ht);_(w.bindEvents,[d])}function j(){if(ct)clearTimeout(ct);d.unbind("mousemove",dt);d.unbind("mouseleave",ft);d.unbind("click",ht);_(w.shutdown,[d])}function W(e){function t(e){return e}var n,i,r=e.options.transform||t,o=e.options.inverseTransform;if(e.direction=="x"){n=e.scale=b/Math.abs(r(e.max)-r(e.min));i=Math.min(r(e.max),r(e.min))}else{n=e.scale=x/Math.abs(r(e.max)-r(e.min));n=-n;i=Math.max(r(e.max),r(e.min))}if(r==t)e.p2c=function(e){return(e-i)*n};else e.p2c=function(e){return(r(e)-i)*n};if(!o)e.c2p=function(e){return i+e/n};else e.c2p=function(e){return o(i+e/n)}}function z(n){var i=n.options,r,o=n.ticks||[],a=[],s,l=i.labelWidth,c=i.labelHeight,u;function d(i,r){return e('<div style="position:absolute;top:-10000px;'+r+'font-size:smaller">'+'<div class="'+n.direction+"Axis "+n.direction+n.n+'Axis">'+i.join("")+"</div></div>").appendTo(t)}if(n.direction=="x"){if(l==null)l=Math.floor(y/(o.length>0?o.length:1));if(c==null){a=[];for(r=0;r<o.length;++r){s=o[r].label;if(s)a.push('<div class="tickLabel" style="float:left;width:'+l+'px">'+s+"</div>")}if(a.length>0){a.push('<div style="clear:left"></div>');u=d(a,"width:10000px;");c=u.height();u.remove()}}}else if(l==null||c==null){for(r=0;r<o.length;++r){s=o[r].label;if(s)a.push('<div class="tickLabel">'+s+"</div>")}if(a.length>0){u=d(a,"");if(l==null)l=u.children().width();if(c==null)c=u.find("div.tickLabel").height();u.remove()}}if(l==null)l=0;if(c==null)c=0;n.labelWidth=l;n.labelHeight=c}function q(t){var n=t.labelWidth,i=t.labelHeight,r=t.options.position,o=t.options.tickLength,a=l.grid.axisMargin,s=l.grid.labelMargin,c=t.direction=="x"?p:m,u;var d=e.grep(c,function(e){return e&&e.options.position==r&&e.reserveSpace});if(e.inArray(t,d)==d.length-1)a=0;if(o==null)o="full";var f=e.grep(c,function(e){return e&&e.reserveSpace});var h=e.inArray(t,f)==0;if(!h&&o=="full")o=5;if(!isNaN(+o))s+=+o;if(t.direction=="x"){i+=s;if(r=="bottom"){g.bottom+=i+a;t.box={top:v-g.bottom,height:i}}else{t.box={top:g.top+a,height:i};g.top+=i+a}}else{n+=s;if(r=="left"){t.box={left:g.left+a,width:n};g.left+=n+a}else{g.right+=n+a;t.box={left:y-g.right,width:n}}}t.position=r;t.tickLength=o;t.box.padding=s;t.innermost=h}function Y(e){if(e.direction=="x"){e.box.left=g.left;e.box.width=b}else{e.box.top=g.top;e.box.height=x}}function U(){var t,n=D();e.each(n,function(e,t){t.show=t.options.show;if(t.show==null)t.show=t.used;t.reserveSpace=t.show||t.options.reserveSpace;$(t)});allocatedAxes=e.grep(n,function(e){return e.reserveSpace});g.left=g.right=g.top=g.bottom=0;if(l.grid.show){e.each(allocatedAxes,function(e,t){V(t);X(t);G(t,t.ticks);z(t)});for(t=allocatedAxes.length-1;t>=0;--t)q(allocatedAxes[t]);var i=l.grid.minBorderMargin;if(i==null){i=0;for(t=0;t<s.length;++t)i=Math.max(i,s[t].points.radius+s[t].points.lineWidth/2)}for(var r in g){g[r]+=l.grid.borderWidth;g[r]=Math.max(i,g[r])}}b=y-g.left-g.right;x=v-g.bottom-g.top;e.each(n,function(e,t){W(t)});if(l.grid.show){e.each(allocatedAxes,function(e,t){Y(t)});et()}st()}function $(e){var t=e.options,n=+(t.min!=null?t.min:e.datamin),i=+(t.max!=null?t.max:e.datamax),r=i-n;if(r==0){var o=i==0?1:.01;if(t.min==null)n-=o;if(t.max==null||t.min!=null)i+=o}else{var a=t.autoscaleMargin;if(a!=null){if(t.min==null){n-=r*a;if(n<0&&e.datamin!=null&&e.datamin>=0)n=0}if(t.max==null){i+=r*a;if(i>0&&e.datamax!=null&&e.datamax<=0)i=0}}}e.min=n;e.max=i}function V(t){var i=t.options;var r;if(typeof i.ticks=="number"&&i.ticks>0)r=i.ticks;else r=.3*Math.sqrt(t.direction=="x"?y:v);var o=(t.max-t.min)/r,a,s,l,c,u,d,f;if(i.mode=="time"){var h={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,year:365.2425*24*60*60*1e3};var g=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];var b=0;if(i.minTickSize!=null){if(typeof i.tickSize=="number")b=i.tickSize;else b=i.minTickSize[0]*h[i.minTickSize[1]]}for(var u=0;u<g.length-1;++u)if(o<(g[u][0]*h[g[u][1]]+g[u+1][0]*h[g[u+1][1]])/2&&g[u][0]*h[g[u][1]]>=b)break;a=g[u][0];l=g[u][1];if(l=="year"){d=Math.pow(10,Math.floor(Math.log(o/h.year)/Math.LN10));f=o/h.year/d;if(f<1.5)a=1;else if(f<3)a=2;else if(f<7.5)a=5;else a=10;a*=d}t.tickSize=i.tickSize||[a,l];s=function(e){var t=[],i=e.tickSize[0],r=e.tickSize[1],o=new Date(e.min);var a=i*h[r];if(r=="second")o.setUTCSeconds(n(o.getUTCSeconds(),i));if(r=="minute")o.setUTCMinutes(n(o.getUTCMinutes(),i));if(r=="hour")o.setUTCHours(n(o.getUTCHours(),i));if(r=="month")o.setUTCMonth(n(o.getUTCMonth(),i));if(r=="year")o.setUTCFullYear(n(o.getUTCFullYear(),i));o.setUTCMilliseconds(0);if(a>=h.minute)o.setUTCSeconds(0);if(a>=h.hour)o.setUTCMinutes(0);if(a>=h.day)o.setUTCHours(0);if(a>=h.day*4)o.setUTCDate(1);if(a>=h.year)o.setUTCMonth(0);var s=0,l=Number.NaN,c;do{c=l;l=o.getTime();t.push(l);if(r=="month"){if(i<1){o.setUTCDate(1);var u=o.getTime();o.setUTCMonth(o.getUTCMonth()+1);var d=o.getTime();o.setTime(l+s*h.hour+(d-u)*i);s=o.getUTCHours();o.setUTCHours(0)}else o.setUTCMonth(o.getUTCMonth()+i)}else if(r=="year"){o.setUTCFullYear(o.getUTCFullYear()+i)}else o.setTime(l+a)}while(l<e.max&&l!=c);return t};c=function(t,n){var r=new Date(t);if(i.timeformat!=null)return e.plot.formatDate(r,i.timeformat,i.monthNames);var o=n.tickSize[0]*h[n.tickSize[1]];var a=n.max-n.min;var s=i.twelveHourClock?" %p":"";if(o<h.minute)fmt="%h:%M:%S"+s;else if(o<h.day){if(a<2*h.day)fmt="%h:%M"+s;else fmt="%b %d %h:%M"+s}else if(o<h.month)fmt="%b %d";else if(o<h.year){if(a<h.year)fmt="%b";else fmt="%b %y"}else fmt="%y";return e.plot.formatDate(r,fmt,i.monthNames)}}else{var x=i.tickDecimals;var w=-Math.floor(Math.log(o)/Math.LN10);if(x!=null&&w>x)w=x;d=Math.pow(10,-w);f=o/d;if(f<1.5)a=1;else if(f<3){a=2;if(f>2.25&&(x==null||w+1<=x)){a=2.5;++w}}else if(f<7.5)a=5;else a=10;a*=d;if(i.minTickSize!=null&&a<i.minTickSize)a=i.minTickSize;t.tickDecimals=Math.max(0,x!=null?x:w);t.tickSize=i.tickSize||a;s=function(e){var t=[];var i=n(e.min,e.tickSize),r=0,o=Number.NaN,a;do{a=o;o=i+r*e.tickSize;t.push(o);++r}while(o<e.max&&o!=a);return t};c=function(e,t){return e.toFixed(t.tickDecimals)}}if(i.alignTicksWithAxis!=null){var k=(t.direction=="x"?p:m)[i.alignTicksWithAxis-1];if(k&&k.used&&k!=t){var _=s(t);if(_.length>0){if(i.min==null)t.min=Math.min(t.min,_[0]);if(i.max==null&&_.length>1)t.max=Math.max(t.max,_[_.length-1])}s=function(e){var t=[],n,i;for(i=0;i<k.ticks.length;++i){n=(k.ticks[i].v-k.min)/(k.max-k.min);n=e.min+n*(e.max-e.min);t.push(n)}return t};if(t.mode!="time"&&i.tickDecimals==null){var T=Math.max(0,-Math.floor(Math.log(o)/Math.LN10)+1),C=s(t);if(!(C.length>1&&/\..*0$/.test((C[1]-C[0]).toFixed(T))))t.tickDecimals=T}}}t.tickGenerator=s;if(e.isFunction(i.tickFormatter))t.tickFormatter=function(e,t){return""+i.tickFormatter(e,t)};else t.tickFormatter=c}function X(t){var n=t.options.ticks,i=[];if(n==null||typeof n=="number"&&n>0)i=t.tickGenerator(t);else if(n){if(e.isFunction(n))i=n({min:t.min,max:t.max});else i=n}var r,o;t.ticks=[];for(r=0;r<i.length;++r){var a=null;var s=i[r];if(typeof s=="object"){o=+s[0];if(s.length>1)a=s[1]}else o=+s;if(a==null)a=t.tickFormatter(o,t);if(!isNaN(o))t.ticks.push({v:o,label:a})}}function G(e,t){if(e.options.autoscaleMargin&&t.length>0){if(e.options.min==null)e.min=Math.min(e.min,t[0].v);if(e.options.max==null&&t.length>1)e.max=Math.max(e.max,t[t.length-1].v)}}function Q(){f.clearRect(0,0,y,v);var e=l.grid;if(e.show&&e.backgroundColor)Z();if(e.show&&!e.aboveData)K();for(var t=0;t<s.length;++t){_(w.drawSeries,[f,s[t]]);tt(s[t])}_(w.draw,[f]);if(e.show&&e.aboveData)K()}function J(e,t){var n,r,o,a,s=D();for(i=0;i<s.length;++i){n=s[i];if(n.direction==t){a=t+n.n+"axis";if(!e[a]&&n.n==1)a=t+"axis";if(e[a]){r=e[a].from;o=e[a].to;break}}}if(!e[a]){n=t=="x"?p[0]:m[0];r=e[t+"1"];o=e[t+"2"]}if(r!=null&&o!=null&&r>o){var l=r;r=o;o=l}return{from:r,to:o,axis:n}}function Z(){f.save();f.translate(g.left,g.top);f.fillStyle=kt(l.grid.backgroundColor,x,0,"rgba(255, 255, 255, 0)");f.fillRect(0,0,b,x);f.restore()}function K(){var t;f.save();f.translate(g.left,g.top);var n=l.grid.markings;if(n){if(e.isFunction(n)){var i=k.getAxes();i.xmin=i.xaxis.min;i.xmax=i.xaxis.max;i.ymin=i.yaxis.min;i.ymax=i.yaxis.max;n=n(i)}for(t=0;t<n.length;++t){var r=n[t],o=J(r,"x"),a=J(r,"y");if(o.from==null)o.from=o.axis.min;if(o.to==null)o.to=o.axis.max;if(a.from==null)a.from=a.axis.min;if(a.to==null)a.to=a.axis.max;if(o.to<o.axis.min||o.from>o.axis.max||a.to<a.axis.min||a.from>a.axis.max)continue;o.from=Math.max(o.from,o.axis.min);o.to=Math.min(o.to,o.axis.max);a.from=Math.max(a.from,a.axis.min);a.to=Math.min(a.to,a.axis.max);if(o.from==o.to&&a.from==a.to)continue;o.from=o.axis.p2c(o.from);o.to=o.axis.p2c(o.to);a.from=a.axis.p2c(a.from);a.to=a.axis.p2c(a.to);if(o.from==o.to||a.from==a.to){f.beginPath();f.strokeStyle=r.color||l.grid.markingsColor;f.lineWidth=r.lineWidth||l.grid.markingsLineWidth;f.moveTo(o.from,a.from);f.lineTo(o.to,a.to);f.stroke()}else{f.fillStyle=r.color||l.grid.markingsColor;f.fillRect(o.from,a.to,o.to-o.from,a.from-a.to)}}}var i=D(),s=l.grid.borderWidth;for(var c=0;c<i.length;++c){var u=i[c],d=u.box,h=u.tickLength,p,m,y,v;if(!u.show||u.ticks.length==0)continue;f.strokeStyle=u.options.tickColor||e.color.parse(u.options.color).scale("a",.22).toString();f.lineWidth=1;if(u.direction=="x"){p=0;if(h=="full")m=u.position=="top"?0:x;else m=d.top-g.top+(u.position=="top"?d.height:0)}else{m=0;if(h=="full")p=u.position=="left"?0:b;else p=d.left-g.left+(u.position=="left"?d.width:0)}if(!u.innermost){f.beginPath();y=v=0;if(u.direction=="x")y=b;else v=x;if(f.lineWidth==1){p=Math.floor(p)+.5;m=Math.floor(m)+.5}f.moveTo(p,m);f.lineTo(p+y,m+v);f.stroke()}f.beginPath();for(t=0;t<u.ticks.length;++t){var w=u.ticks[t].v;y=v=0;if(w<u.min||w>u.max||h=="full"&&s>0&&(w==u.min||w==u.max))continue;if(u.direction=="x"){p=u.p2c(w);v=h=="full"?-x:h;if(u.position=="top")v=-v}else{m=u.p2c(w);y=h=="full"?-b:h;if(u.position=="left")y=-y}if(f.lineWidth==1){if(u.direction=="x")p=Math.floor(p)+.5;else m=Math.floor(m)+.5}f.moveTo(p,m);f.lineTo(p+y,m+v)}f.stroke()}if(s){f.lineWidth=s;f.strokeStyle=l.grid.borderColor;f.strokeRect(-s/2,-s/2,b+s,x+s)}f.restore()}function et(){t.find(".tickLabels").remove();var e=['<div class="tickLabels" style="font-size:smaller">'];var n=D();for(var i=0;i<n.length;++i){var r=n[i],o=r.box;if(!r.show)continue;e.push('<div class="'+r.direction+"Axis "+r.direction+r.n+'Axis" style="color:'+r.options.color+'">');for(var a=0;a<r.ticks.length;++a){var s=r.ticks[a];if(!s.label||s.v<r.min||s.v>r.max)continue;var l={},c;if(r.direction=="x"){c="center";l.left=Math.round(g.left+r.p2c(s.v)-r.labelWidth/2);if(r.position=="bottom")l.top=o.top+o.padding;else l.bottom=v-(o.top+o.height-o.padding)}else{l.top=Math.round(g.top+r.p2c(s.v)-r.labelHeight/2);if(r.position=="left"){l.right=y-(o.left+o.width-o.padding);c="right"}else{l.left=o.left+o.padding;c="left"}}l.width=r.labelWidth;var u=["position:absolute","text-align:"+c];for(var d in l)u.push(d+":"+l[d]+"px");e.push('<div class="tickLabel" style="'+u.join(";")+'">'+s.label+"</div>")}e.push("</div>")}e.push("</div>");t.append(e.join(""))}function tt(e){if(e.lines.show)nt(e);if(e.bars.show)ot(e);if(e.points.show)it(e)}function nt(e){function t(e,t,n,i,r){var o=e.points,a=e.pointsize,s=null,l=null;f.beginPath();for(var c=a;c<o.length;c+=a){var u=o[c-a],d=o[c-a+1],h=o[c],p=o[c+1];if(u==null||h==null)continue;if(d<=p&&d<r.min){if(p<r.min)continue;u=(r.min-d)/(p-d)*(h-u)+u;d=r.min}else if(p<=d&&p<r.min){if(d<r.min)continue;h=(r.min-d)/(p-d)*(h-u)+u;p=r.min}if(d>=p&&d>r.max){if(p>r.max)continue;u=(r.max-d)/(p-d)*(h-u)+u;d=r.max}else if(p>=d&&p>r.max){if(d>r.max)continue;h=(r.max-d)/(p-d)*(h-u)+u;p=r.max}if(u<=h&&u<i.min){if(h<i.min)continue;d=(i.min-u)/(h-u)*(p-d)+d;u=i.min}else if(h<=u&&h<i.min){if(u<i.min)continue;p=(i.min-u)/(h-u)*(p-d)+d;h=i.min}if(u>=h&&u>i.max){if(h>i.max)continue;d=(i.max-u)/(h-u)*(p-d)+d;u=i.max}else if(h>=u&&h>i.max){if(u>i.max)continue;p=(i.max-u)/(h-u)*(p-d)+d;h=i.max}if(u!=s||d!=l)f.moveTo(i.p2c(u)+t,r.p2c(d)+n);s=h;l=p;f.lineTo(i.p2c(h)+t,r.p2c(p)+n)}f.stroke()}function n(e,t,n){var i=e.points,r=e.pointsize,o=Math.min(Math.max(0,n.min),n.max),a=0,s,l=false,c=1,u=0,d=0;while(true){if(r>0&&a>i.length+r)break;a+=r;var h=i[a-r],p=i[a-r+c],m=i[a],g=i[a+c];if(l){if(r>0&&h!=null&&m==null){d=a;r=-r;c=2;continue}if(r<0&&a==u+r){f.fill();l=false;r=-r;c=1;a=u=d+r;continue}}if(h==null||m==null)continue;if(h<=m&&h<t.min){if(m<t.min)continue;p=(t.min-h)/(m-h)*(g-p)+p;h=t.min}else if(m<=h&&m<t.min){if(h<t.min)continue;g=(t.min-h)/(m-h)*(g-p)+p;m=t.min}if(h>=m&&h>t.max){if(m>t.max)continue;p=(t.max-h)/(m-h)*(g-p)+p;h=t.max}else if(m>=h&&m>t.max){if(h>t.max)continue;g=(t.max-h)/(m-h)*(g-p)+p;m=t.max}if(!l){f.beginPath();f.moveTo(t.p2c(h),n.p2c(o));l=true}if(p>=n.max&&g>=n.max){f.lineTo(t.p2c(h),n.p2c(n.max));f.lineTo(t.p2c(m),n.p2c(n.max));continue}else if(p<=n.min&&g<=n.min){f.lineTo(t.p2c(h),n.p2c(n.min));f.lineTo(t.p2c(m),n.p2c(n.min));continue}var y=h,v=m;if(p<=g&&p<n.min&&g>=n.min){h=(n.min-p)/(g-p)*(m-h)+h;p=n.min}else if(g<=p&&g<n.min&&p>=n.min){m=(n.min-p)/(g-p)*(m-h)+h;g=n.min}if(p>=g&&p>n.max&&g<=n.max){h=(n.max-p)/(g-p)*(m-h)+h;p=n.max}else if(g>=p&&g>n.max&&p<=n.max){m=(n.max-p)/(g-p)*(m-h)+h;g=n.max}if(h!=y){f.lineTo(t.p2c(y),n.p2c(p))}f.lineTo(t.p2c(h),n.p2c(p));f.lineTo(t.p2c(m),n.p2c(g));if(m!=v){f.lineTo(t.p2c(m),n.p2c(g));f.lineTo(t.p2c(v),n.p2c(g))}}}f.save();f.translate(g.left,g.top);f.lineJoin="round";var i=e.lines.lineWidth,r=e.shadowSize;if(i>0&&r>0){f.lineWidth=r;f.strokeStyle="rgba(0,0,0,0.1)";var o=Math.PI/18;t(e.datapoints,Math.sin(o)*(i/2+r/2),Math.cos(o)*(i/2+r/2),e.xaxis,e.yaxis);f.lineWidth=r/2;t(e.datapoints,Math.sin(o)*(i/2+r/4),Math.cos(o)*(i/2+r/4),e.xaxis,e.yaxis)}f.lineWidth=i;f.strokeStyle=e.color;var a=at(e.lines,e.color,0,x);if(a){f.fillStyle=a;n(e.datapoints,e.xaxis,e.yaxis)}if(i>0)t(e.datapoints,0,0,e.xaxis,e.yaxis);f.restore()}function it(e){function t(e,t,n,i,r,o,a,s){var l=e.points,c=e.pointsize;for(var u=0;u<l.length;u+=c){var d=l[u],h=l[u+1];if(d==null||d<o.min||d>o.max||h<a.min||h>a.max)continue;f.beginPath();d=o.p2c(d);h=a.p2c(h)+i;if(s=="circle")f.arc(d,h,t,0,r?Math.PI:Math.PI*2,false);else s(f,d,h,t,r);f.closePath();if(n){f.fillStyle=n;f.fill()}f.stroke()}}f.save();f.translate(g.left,g.top);var n=e.points.lineWidth,i=e.shadowSize,r=e.points.radius,o=e.points.symbol;if(n>0&&i>0){var a=i/2;f.lineWidth=a;f.strokeStyle="rgba(0,0,0,0.1)";t(e.datapoints,r,null,a+a/2,true,e.xaxis,e.yaxis,o);f.strokeStyle="rgba(0,0,0,0.2)";t(e.datapoints,r,null,a/2,true,e.xaxis,e.yaxis,o)}f.lineWidth=n;f.strokeStyle=e.color;t(e.datapoints,r,at(e.points,e.color),0,false,e.xaxis,e.yaxis,o);f.restore()}function rt(e,t,n,i,r,o,a,s,l,c,u,d){var f,h,p,m,g,y,v,b,x;if(u){b=y=v=true;g=false;f=n;h=e;m=t+i;p=t+r;if(h<f){x=h;h=f;f=x;g=true;y=false}}else{g=y=v=true;b=false;f=e+i;h=e+r;p=n;m=t;if(m<p){x=m;m=p;p=x;b=true;v=false}}if(h<s.min||f>s.max||m<l.min||p>l.max)return;if(f<s.min){f=s.min;g=false}if(h>s.max){h=s.max;y=false}if(p<l.min){p=l.min;b=false}if(m>l.max){m=l.max;v=false}f=s.p2c(f);p=l.p2c(p);h=s.p2c(h);m=l.p2c(m);if(a){c.beginPath();c.moveTo(f,p);c.lineTo(f,m);c.lineTo(h,m);c.lineTo(h,p);c.fillStyle=a(p,m);c.fill()}if(d>0&&(g||y||v||b)){c.beginPath();c.moveTo(f,p+o);if(g)c.lineTo(f,m+o);else c.moveTo(f,m+o);if(v)c.lineTo(h,m+o);else c.moveTo(h,m+o);if(y)c.lineTo(h,p+o);else c.moveTo(h,p+o);if(b)c.lineTo(f,p+o);else c.moveTo(f,p+o);c.stroke()}}function ot(e){function t(t,n,i,r,o,a,s){var l=t.points,c=t.pointsize;for(var u=0;u<l.length;u+=c){if(l[u]==null)continue;rt(l[u],l[u+1],l[u+2],n,i,r,o,a,s,f,e.bars.horizontal,e.bars.lineWidth)}}f.save();f.translate(g.left,g.top);f.lineWidth=e.bars.lineWidth;f.strokeStyle=e.color;var n=e.bars.align=="left"?0:-e.bars.barWidth/2;var i=e.bars.fill?function(t,n){return at(e.bars,e.color,t,n)}:null;t(e.datapoints,n,n+e.bars.barWidth,0,i,e.xaxis,e.yaxis);f.restore()}function at(t,n,i,r){var o=t.fill;if(!o)return null;if(t.fillColor)return kt(t.fillColor,i,r,n);var a=e.color.parse(n);a.a=typeof o=="number"?o:.4;a.normalize();return a.toString()}function st(){t.find(".legend").remove();if(!l.legend.show)return;var n=[],i=false,r=l.legend.labelFormatter,o,a;for(var c=0;c<s.length;++c){o=s[c];a=o.label;if(!a)continue;if(c%l.legend.noColumns==0){if(i)n.push("</tr>");n.push("<tr>");i=true}if(r)a=r(a,o);n.push('<td class="legendColorBox"><div style="border:1px solid '+l.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+o.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+a+"</td>")}if(i)n.push("</tr>");if(n.length==0)return;var u='<table style="font-size:smaller;color:'+l.grid.color+'">'+n.join("")+"</table>";if(l.legend.container!=null)e(l.legend.container).html(u);else{var d="",f=l.legend.position,h=l.legend.margin;if(h[0]==null)h=[h,h];if(f.charAt(0)=="n")d+="top:"+(h[1]+g.top)+"px;";else if(f.charAt(0)=="s")d+="bottom:"+(h[1]+g.bottom)+"px;";if(f.charAt(1)=="e")d+="right:"+(h[0]+g.right)+"px;";else if(f.charAt(1)=="w")d+="left:"+(h[0]+g.left)+"px;";var p=e('<div class="legend">'+u.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(t);if(l.legend.backgroundOpacity!=0){var m=l.legend.backgroundColor;if(m==null){m=l.grid.backgroundColor;if(m&&typeof m=="string")m=e.color.parse(m);else m=e.color.extract(p,"background-color");m.a=1;m=m.toString()}var y=p.children();e('<div style="position:absolute;width:'+y.width()+"px;height:"+y.height()+"px;"+d+"background-color:"+m+';"> </div>').prependTo(p).css("opacity",l.legend.backgroundOpacity)}}}var lt=[],ct=null;function ut(e,t,n){var i=l.grid.mouseActiveRadius,r=i*i+1,o=null,a=false,c,u;for(c=s.length-1;c>=0;--c){if(!n(s[c]))continue;var d=s[c],f=d.xaxis,h=d.yaxis,p=d.datapoints.points,m=d.datapoints.pointsize,g=f.c2p(e),y=h.c2p(t),v=i/f.scale,b=i/h.scale;if(f.options.inverseTransform)v=Number.MAX_VALUE;if(h.options.inverseTransform)b=Number.MAX_VALUE;if(d.lines.show||d.points.show){for(u=0;u<p.length;u+=m){var x=p[u],w=p[u+1];if(x==null)continue;if(x-g>v||x-g<-v||w-y>b||w-y<-b)continue;var k=Math.abs(f.p2c(x)-e),_=Math.abs(h.p2c(w)-t),T=k*k+_*_;if(T<r){r=T;o=[c,u/m]}}}if(d.bars.show&&!o){var C=d.bars.align=="left"?0:-d.bars.barWidth/2,S=C+d.bars.barWidth;for(u=0;u<p.length;u+=m){var x=p[u],w=p[u+1],M=p[u+2];if(x==null)continue;if(s[c].bars.horizontal?g<=Math.max(M,x)&&g>=Math.min(M,x)&&y>=w+C&&y<=w+S:g>=x+C&&g<=x+S&&y>=Math.min(M,w)&&y<=Math.max(M,w))o=[c,u/m]}}}if(o){c=o[0];u=o[1];m=s[c].datapoints.pointsize;return{datapoint:s[c].datapoints.points.slice(u*m,(u+1)*m),dataIndex:u,series:s[c],seriesIndex:c}}return null}function dt(e){if(l.grid.hoverable)pt("plothover",e,function(e){return e["hoverable"]!=false})}function ft(e){if(l.grid.hoverable)pt("plothover",e,function(e){return false})}function ht(e){pt("plotclick",e,function(e){return e["clickable"]!=false})}function pt(e,n,i){var r=d.offset(),o=n.pageX-r.left-g.left,a=n.pageY-r.top-g.top,s=O({left:o,top:a});s.pageX=n.pageX;s.pageY=n.pageY;var c=ut(o,a,i);if(c){c.pageX=parseInt(c.series.xaxis.p2c(c.datapoint[0])+r.left+g.left);c.pageY=parseInt(c.series.yaxis.p2c(c.datapoint[1])+r.top+g.top)}if(l.grid.autoHighlight){for(var u=0;u<lt.length;++u){var f=lt[u];if(f.auto==e&&!(c&&f.series==c.series&&f.point[0]==c.datapoint[0]&&f.point[1]==c.datapoint[1]))vt(f.series,f.point)}if(c)yt(c.series,c.datapoint,e)}t.trigger(e,[s,c])}function mt(){if(!ct)ct=setTimeout(gt,30)}function gt(){ct=null;h.save();h.clearRect(0,0,y,v);h.translate(g.left,g.top);var e,t;for(e=0;e<lt.length;++e){t=lt[e];if(t.series.bars.show)wt(t.series,t.point);else xt(t.series,t.point)}h.restore();_(w.drawOverlay,[h])}function yt(e,t,n){if(typeof e=="number")e=s[e];if(typeof t=="number"){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=bt(e,t);if(r==-1){lt.push({series:e,point:t,auto:n});mt()}else if(!n)lt[r].auto=false}function vt(e,t){if(e==null&&t==null){lt=[];mt()}if(typeof e=="number")e=s[e];if(typeof t=="number")t=e.data[t];var n=bt(e,t);if(n!=-1){lt.splice(n,1);mt()}}function bt(e,t){for(var n=0;n<lt.length;++n){var i=lt[n];if(i.series==e&&i.point[0]==t[0]&&i.point[1]==t[1])return n}return-1}function xt(t,n){var i=n[0],r=n[1],o=t.xaxis,a=t.yaxis;if(i<o.min||i>o.max||r<a.min||r>a.max)return;var s=t.points.radius+t.points.lineWidth/2;h.lineWidth=s;h.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var l=1.5*s,i=o.p2c(i),r=a.p2c(r);h.beginPath();if(t.points.symbol=="circle")h.arc(i,r,l,0,2*Math.PI,false);else t.points.symbol(h,i,r,l,false);h.closePath();h.stroke()}function wt(t,n){h.lineWidth=t.bars.lineWidth;h.strokeStyle=e.color.parse(t.color).scale("a",.5).toString();var i=e.color.parse(t.color).scale("a",.5).toString();var r=t.bars.align=="left"?0:-t.bars.barWidth/2;rt(n[0],n[1],n[2]||0,r,r+t.bars.barWidth,0,function(){return i},t.xaxis,t.yaxis,h,t.bars.horizontal,t.bars.lineWidth)}function kt(t,n,i,r){if(typeof t=="string")return t;else{var o=f.createLinearGradient(0,i,0,n);for(var a=0,s=t.colors.length;a<s;++a){var l=t.colors[a];if(typeof l!="string"){var c=e.color.parse(r);if(l.brightness!=null)c=c.scale("rgb",l.brightness);if(l.opacity!=null)c.a*=l.opacity;l=c.toString()}o.addColorStop(a/(s-1),l)}return o}}}e.plot=function(n,i,r){var o=new t(e(n),i,r,e.plot.plugins);return o};e.plot.version="0.7";e.plot.plugins=[];e.plot.formatDate=function(e,t,n){var i=function(e){e=""+e;return e.length==1?"0"+e:e};var r=[];var o=false,a=false;var s=e.getUTCHours();var l=s<12;if(n==null)n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(t.search(/%p|%P/)!=-1){if(s>12){s=s-12}else if(s==0){s=12}}for(var c=0;c<t.length;++c){var u=t.charAt(c);if(o){switch(u){case"h":u=""+s;break;case"H":u=i(s);break;case"M":u=i(e.getUTCMinutes());break;case"S":u=i(e.getUTCSeconds());break;case"d":u=""+e.getUTCDate();break;case"m":u=""+(e.getUTCMonth()+1);break;case"y":u=""+e.getUTCFullYear();break;case"b":u=""+n[e.getUTCMonth()];break;case"p":u=l?""+"am":""+"pm";break;case"P":u=l?""+"AM":""+"PM";break;case"0":u="";a=true;break}if(u&&a){u=i(u);a=false}r.push(u);if(!a)o=false}else{if(u=="%")o=true;else r.push(u)}}return r.join("")};function n(e,t){return t*Math.floor(e/t)}}(jQuery);!function(e,t,n){var i="placeholder"in t.createElement("input");var r="placeholder"in t.createElement("textarea");var o=n.fn;var a=n.valHooks;var s=n.propHooks;var l;var c;if(i&&r){c=o.placeholder=function(){return this};c.input=c.textarea=true}else{c=o.placeholder=function(){var e=this;e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":d,"blur.placeholder":f}).data("placeholder-enabled",true).trigger("blur.placeholder");return e};c.input=i;c.textarea=r;l={get:function(e){var t=n(e);var i=t.data("placeholder-password");if(i){return i[0].value}return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,i){var r=n(e);var o=r.data("placeholder-password");if(o){return o[0].value=i}if(!r.data("placeholder-enabled")){return e.value=i}if(i==""){e.value=i;if(e!=t.activeElement){f.call(e)
}}else if(r.hasClass("placeholder")){d.call(e,true,i)||(e.value=i)}else{e.value=i}return r}};if(!i){a.input=l;s.value=l}if(!r){a.textarea=l;s.value=l}n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(d);setTimeout(function(){e.each(f)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}function u(e){var t={};var i=/^jQuery\d+$/;n.each(e.attributes,function(e,n){if(n.specified&&!i.test(n.name)){t[n.name]=n.value}});return t}function d(e,i){var r=this;var o=n(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder")){if(o.data("placeholder-password")){o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id"));if(e===true){return o[0].value=i}o.focus()}else{r.value="";o.removeClass("placeholder");r==t.activeElement&&r.select()}}}function f(){var e;var t=this;var i=n(t);var r=this.id;if(t.value==""){if(t.type=="password"){if(!i.data("placeholder-textinput")){try{e=i.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(u(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":i,"placeholder-id":r}).bind("focus.placeholder",d);i.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}i=i.removeAttr("id").hide().prev().attr("id",r).show()}i.addClass("placeholder");i[0].value=i.attr("placeholder")}else{i.removeClass("placeholder")}}}(this,document,jQuery);!function(e){function t(e,t){return typeof e=="function"?e.call(t):e}function n(e){while(e=e.parentNode){if(e==document)return true}return false}function i(t,n){this.$element=e(t);this.options=n;this.enabled=true;this.fixTitle()}i.prototype={show:function(){var n=this.getTitle();if(n&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](n);i[0].className="tipsy";i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var o=i[0].offsetWidth,a=i[0].offsetHeight,s=t(this.options.gravity,this.$element[0]);var l;switch(s.charAt(0)){case"n":l={top:r.top+r.height+this.options.offset,left:r.left+r.width/2-o/2};break;case"s":l={top:r.top-a-this.options.offset,left:r.left+r.width/2-o/2};break;case"e":l={top:r.top+r.height/2-a/2,left:r.left-o-this.options.offset};break;case"w":l={top:r.top+r.height/2-a/2,left:r.left+r.width+this.options.offset};break}if(s.length==2){if(s.charAt(1)=="w"){l.left=r.left+r.width/2-15}else{l.left=r.left+r.width/2-o+15}}i.css(l).addClass("tipsy-"+s);i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+s.charAt(0);if(this.options.className){i.addClass(t(this.options.className,this.$element[0]))}if(this.options.fade){i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{i.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){e(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("original-title")!="string"){e.attr("original-title",e.attr("title")||"").removeAttr("title")}},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;if(typeof n.title=="string"){e=t.attr(n.title=="title"?"original-title":n.title)}else if(typeof n.title=="function"){e=n.title.call(t[0])}e=(""+e).replace(/(^\s*|\s*$)/,"");return e||n.fallback},tip:function(){if(!this.$tip){this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};e.fn.tipsy=function(t){if(t===true){return this.data("tipsy")}else if(typeof t=="string"){var n=this.data("tipsy");if(n)n[t]();return this}t=e.extend({},e.fn.tipsy.defaults,t);function r(n){var r=e.data(n,"tipsy");if(!r){r=new i(n,e.fn.tipsy.elementOptions(n,t));e.data(n,"tipsy",r)}return r}function o(){var e=r(this);e.hoverState="in";if(t.delayIn==0){e.show()}else{e.fixTitle();setTimeout(function(){if(e.hoverState=="in")e.show()},t.delayIn)}}function a(){var e=r(this);e.hoverState="out";if(t.delayOut==0){e.hide()}else{setTimeout(function(){if(e.hoverState=="out")e.hide()},t.delayOut)}}if(!t.live)this.each(function(){r(this)});if(t.trigger!="manual"){var s=t.live?"live":"bind",l=t.trigger=="hover"?"mouseenter":"focus",c=t.trigger=="hover"?"mouseleave":"blur";this[s](l,o)[s](c,a)}return this};e.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:.8,title:"title",trigger:"hover"};e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");if(!t||!n(t)){e(this).remove()}})};e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n};e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"};e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"};e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:false},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+t,a=e(this);if(a.offset().top<r)i.ns="n";if(a.offset().left<o)i.ew="w";if(e(window).width()+e(document).scrollLeft()-a.offset().left<t)i.ew="e";if(e(window).height()+e(document).scrollTop()-a.offset().top<t)i.ns="s";return i.ns+(i.ew?i.ew:"")}}}(jQuery);!function(e,t,n){"use strict";var i={html:'<!DOCTYPE html><html><head><style>.ie * {min-height: auto !important}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" value="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" value="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" value="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'},r=function(t,n,r){var o=i[t];return e.each(n,function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","g"),t)}),r&&(o=e(o)),o};e.sceditor=function(i,o){var a,s,l,c,u,d,f,h,p,m,g,y,v,b,x,w,k,_,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q,J,Z,K,et,tt,nt,it,rt,ot,at=this,st=i.get?i.get(0):i,lt=e(st),ct=[],ut=[],dt=[],ft=[],ht={},pt=[];at.commands=e.extend(!0,{},o.commands||e.sceditor.commands),at.opts=o=e.extend({},e.sceditor.defaultOptions,o),S=function(){lt.data("sceditor",at),e.each(o,function(t,n){e.isPlainObject(n)&&(o[t]=e.extend(!0,{},n))}),o.locale&&"en"!==o.locale&&N(),a=e('<div class="sceditor-container" />').insertAfter(lt).css("z-index",o.zIndex),e.sceditor.ie&&a.addClass("ie ie"+e.sceditor.ie),T=!!lt.attr("required"),lt.removeAttr("required"),A(),R(),L(),O(),B(),P(),H(),e.sceditor.isWysiwygSupported||at.toggleSourceMode();var i=function(){e(t).unbind("load",i),o.autofocus&&nt(),o.autoExpand&&at.expandToContent(),G()};e(t).load(i),n.readyState&&"complete"===n.readyState&&i(),J(),b.call("ready")},A=function(){var t=o.plugins;t=t?t.toString().split(","):[],b=new e.sceditor.PluginManager(at),e.each(t,function(t,n){b.register(e.trim(n))})},N=function(){var t;e.sceditor.locale[o.locale]?g=e.sceditor.locale[o.locale]:(t=o.locale.split("-"),e.sceditor.locale[t[0]]&&(g=e.sceditor.locale[t[0]])),g&&g.dateFormat&&(o.dateFormat=g.dateFormat)},O=function(){var n,i;f=e("<textarea></textarea>").hide(),l=e('<iframe frameborder="0"></iframe>'),o.spellcheck||f.attr("spellcheck","false"),"https:"===t.location.protocol&&l.attr("src","javascript:false"),a.append(l).append(f),c=l[0],h=f[0],at.width(o.width||lt.width()),at.height(o.height||lt.height()),n=F(),n.open(),n.write(r("html",{spellcheck:o.spellcheck?"":'spellcheck="false"',charset:o.charset,style:o.style})),n.close(),d=e(n),u=e(n.body),at.readOnly(!!o.readOnly),e.sceditor.ie&&d.find("html").addClass("ie ie"+e.sceditor.ie),(e.sceditor.ios||e.sceditor.ie)&&(u.height("100%"),e.sceditor.ie||u.bind("touchend",at.focus)),y=new e.sceditor.rangeHelper(c.contentWindow),at.val(lt.hide().val()),i=lt.attr("tabindex"),f.attr("tabindex",i),l.attr("tabindex",i)},P=function(){o.autoUpdate&&(u.bind("blur",at.updateOriginal),f.bind("blur",at.updateOriginal)),null===o.rtl&&(o.rtl="rtl"===f.css("direction")),at.rtl(!!o.rtl),o.autoExpand&&d.bind("keyup",at.expandToContent),o.resizeEnabled&&I(),a.attr("id",o.id),at.emoticons(o.emoticonsEnabled)},H=function(){e(n).click(X),e(st.form).bind("reset",U).submit(at.updateOriginal),e(t).bind("resize orientationChanged",G),u.keypress(Y).keydown(z).keydown(q).keyup(K).bind("paste",j).bind(e.sceditor.ie?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",et).bind("keydown keyup keypress focus blur contextmenu",V),o.emoticonsCompat&&t.getSelection&&u.keyup(rt),f.bind("keydown keyup keypress focus blur contextmenu",V).keydown(z),d.keypress(Y).mousedown($).bind(e.sceditor.ie?"selectionchange":"focus blur contextmenu mouseup click",et).bind("beforedeactivate keyup",D).keyup(K).focus(function(){m=null}),a.bind("selectionchanged",tt).bind("selectionchanged",J).bind("selectionchanged",V).bind("nodechanged",V)},L=function(){var t,n,i=(o.toolbarExclude||"").split(","),l=o.toolbar.split("|");s=e('<div class="sceditor-toolbar" unselectable="on" />'),e.each(l,function(o,a){t=e('<div class="sceditor-group" />'),e.each(a.split(","),function(o,a){!at.commands[a]||e.inArray(a,i)>-1||(n=r("toolbarButton",{name:a,dispName:at._(at.commands[a].tooltip||a)},!0),n.data("sceditor-txtmode",!!at.commands[a].txtExec),n.data("sceditor-wysiwygmode",!!at.commands[a].exec),n.click(function(){var t=e(this);return t.hasClass("disabled")||E(t,at.commands[a]),J(),!1}),at.commands[a].tooltip&&n.attr("title",at._(at.commands[a].tooltip)),at.commands[a].exec||n.addClass("disabled"),at.commands[a].shortcut&&at.addShortcut(at.commands[a].shortcut,a),t.append(n))}),t[0].firstChild&&s.append(t)}),e(o.toolbarContainer||a).append(s)},B=function(){e.each(at.commands,function(t,n){n.keyPress&&ct.push(n.keyPress),n.forceNewLineAfter&&e.isArray(n.forceNewLineAfter)&&(dt=e.merge(dt,n.forceNewLineAfter)),n.state?ft.push({name:t,state:n.state}):"string"==typeof n.exec&&ft.push({name:t,state:n.exec})}),K()},I=function(){var i,r,s,l,c,u,d=e('<div class="sceditor-grip" />'),f=e('<div class="sceditor-resize-cover" />'),h=0,p=0,m=0,g=0,y=a.width(),v=a.height(),b=!1,x=at.rtl();i=o.resizeMinHeight||v/1.5,r=o.resizeMaxHeight||2.5*v,s=o.resizeMinWidth||y/1.25,l=o.resizeMaxWidth||1.25*y,c=function(n){"touchmove"===n.type&&(n=t.event);var c=g+(n.pageY-p),u=x?m-(n.pageX-h):m+(n.pageX-h);l>0&&u>l&&(u=l),r>0&&c>r&&(c=r),(!o.resizeWidth||s>u||l>0&&u>l)&&(u=!1),(!o.resizeHeight||i>c||r>0&&c>r)&&(c=!1),(u||c)&&(at.dimensions(u,c),e.sceditor.ie<7&&a.height(c)),n.preventDefault()},u=function(t){b&&(b=!1,f.hide(),a.removeClass("resizing").height("auto"),e(n).unbind("touchmove mousemove",c),e(n).unbind("touchend mouseup",u),t.preventDefault())},a.append(d),a.append(f.hide()),d.bind("touchstart mousedown",function(i){"touchstart"===i.type&&(i=t.event),h=i.pageX,p=i.pageY,m=a.width(),g=a.height(),b=!0,a.addClass("resizing"),f.show(),e(n).bind("touchmove mousemove",c),e(n).bind("touchend mouseup",u),e.sceditor.ie<7&&a.height(g),i.preventDefault()})},R=function(){var t,i=o.emoticons,r=o.emoticonsRoot;e.isPlainObject(i)&&o.emoticonsEnabled&&e.each(i,function(o,a){e.each(a,function(e,a){r&&(a={url:r+(a.url||a),tooltip:a.tooltip||e},i[o][e]=a),t=n.createElement("img"),t.src=a.url||a,ut.push(t)})})},nt=function(){var t,n,i,r=d[0],s=u[0],l=!!o.autofocusEnd;if(a.is(":visible")){if(at.sourceMode())i=h.value.length,h.setSelectionRange?h.setSelectionRange(i,i):h.createTextRange&&(t=h.createTextRange(),t.moveEnd("character",i),t.moveStart("character",i),y.selectRange(t));else{if(e.sceditor.dom.removeWhiteSpace(s),l)for((n=s.lastChild)||u.append(n=r.createElement("div"));n.lastChild;)n=n.lastChild,/br/i.test(n.nodeName)&&n.previousSibling&&(n=n.previousSibling);else n=s.firstChild;r.createRange?(t=r.createRange(),/br/i.test(n.nodeName)?t.setStartBefore(n):t.selectNodeContents(n),t.collapse(!1)):(t=s.createTextRange(),t.moveToElementText(3!==n.nodeType?n:n.parentNode),t.collapse(!1)),y.selectRange(t),l&&(d.scrollTop(s.scrollHeight),u.scrollTop(s.scrollHeight))}at.focus()}},at.readOnly=function(e){return"boolean"!=typeof e?"readonly"===f.attr("readonly"):(u[0].contentEditable=!e,e?f.attr("readonly","readonly"):f.removeAttr("readonly"),Q(e),this)},at.rtl=function(e){var t=e?"rtl":"ltr";return"boolean"!=typeof e?"rtl"===f.attr("dir"):(u.attr("dir",t),f.attr("dir",t),a.removeClass("rtl").removeClass("ltr").addClass(t),this)},Q=function(t){var n=at.inSourceMode();s.find(".sceditor-button").removeClass("disabled").each(function(){var i=e(this);t===!0||n&&!i.data("sceditor-txtmode")?i.addClass("disabled"):n||i.data("sceditor-wysiwygmode")||i.addClass("disabled")})},at.width=function(e,t){return e||0===e?(at.dimensions(e,null,t),this):a.width()},at.dimensions=function(t,i,r){var c=e.sceditor.ie<8||n.documentMode<8?2:0;return t=t||0===t?t:!1,i=i||0===i?i:!1,t===!1&&i===!1?{width:at.width(),height:at.height()}:("undefined"==typeof l.data("outerWidthOffset")&&at.updateStyleCache(),t!==!1&&(r!==!1&&(o.width=t),i===!1&&(i=a.height(),r=!1),a.width(t),t&&t.toString().indexOf("%")>-1&&(t=a.width()),l.width(t-l.data("outerWidthOffset")),f.width(t-f.data("outerWidthOffset")),e.sceditor.ios&&u&&u.width(t-l.data("outerWidthOffset")-(u.outerWidth(!0)-u.width()))),i!==!1&&(r!==!1&&(o.height=i),i&&i.toString().indexOf("%")>-1&&(i=a.height(i).height(),a.height("auto")),i-=o.toolbarContainer?0:s.outerHeight(!0),l.height(i-l.data("outerHeightOffset")),f.height(i-c-f.data("outerHeightOffset"))),this)},at.updateStyleCache=function(){l.data("outerWidthOffset",l.outerWidth(!0)-l.width()),f.data("outerWidthOffset",f.outerWidth(!0)-f.width()),l.data("outerHeightOffset",l.outerHeight(!0)-l.height()),f.data("outerHeightOffset",f.outerHeight(!0)-f.height())},at.height=function(e,t){return e||0===e?(at.dimensions(null,e,t),this):a.height()},at.maximize=function(t){return"undefined"==typeof t?a.is(".sceditor-maximize"):(t=!!t,e.sceditor.ie<7&&e("html, body").toggleClass("sceditor-maximize",t),a.toggleClass("sceditor-maximize",t),at.width(t?"100%":o.width,!1),at.height(t?"100%":o.height,!1),this)},at.expandToContent=function(e){var t=a.height(),n=u[0].scrollHeight||d[0].documentElement.scrollHeight,i=t-l.height(),r=o.resizeMaxHeight||2*(o.height||lt.height());n+=i,e!==!0&&n>r&&(n=r),n>t&&at.height(n)},at.destroy=function(){b.destroy(),y=null,m=null,b=null,e(n).unbind("click",X),e(t).unbind("resize orientationChanged",G),e(st.form).unbind("reset",U).unbind("submit",at.updateOriginal),u.unbind(),d.unbind().find("*").remove(),f.unbind().remove(),s.remove(),a.unbind().find("*").unbind().remove(),a.remove(),lt.removeData("sceditor").removeData("sceditorbbcode").show(),T&&lt.attr("required","required")},at.createDropDown=function(t,n,i,r){var a,s=p&&p.is(".sceditor-"+n);at.closeDropDown(),s||(r!==!1&&e(i).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),a={top:t.offset().top,left:t.offset().left,marginTop:t.outerHeight()},e.extend(a,o.dropDownCss),p=e('<div class="sceditor-dropdown sceditor-'+n+'" />').css(a).append(i).appendTo(e("body")).click(function(e){e.stopPropagation()}))},X=function(e){3!==e.which&&at.closeDropDown()},j=function(e){var t,i,r=u[0],a=d[0],s=0,l=n.createElement("div"),c=a.createDocumentFragment();if(o.disablePasting)return!1;if(o.enablePasteFiltering){if(y.saveRange(),n.body.appendChild(l),e&&e.clipboardData&&e.clipboardData.getData&&((t=e.clipboardData.getData("text/html"))||(t=e.clipboardData.getData("text/plain"))))return l.innerHTML=t,W(r,l),!1;for(;r.firstChild;)c.appendChild(r.firstChild);return i=function(e,t){if(e.childNodes.length>0){for(;e.firstChild;)t.appendChild(e.firstChild);for(;c.firstChild;)e.appendChild(c.firstChild);W(e,t)}else{if(s>25){for(;c.firstChild;)e.appendChild(c.firstChild);return y.restoreRange(),void 0}++s,setTimeout(function(){i(e,t)},20)}},i(r,l),at.focus(),!0}},W=function(t,n){e.sceditor.dom.fixNesting(n);var i=n.innerHTML;b.hasHandler("toSource")&&(i=b.callOnlyFirst("toSource",i,e(n))),n.parentNode.removeChild(n),b.hasHandler("toWysiwyg")&&(i=b.callOnlyFirst("toWysiwyg",i,!0)),y.restoreRange(),at.wysiwygEditorInsertHtml(i,null,!0)},at.closeDropDown=function(e){p&&(p.unbind().remove(),p=null),e===!0&&at.focus()},F=function(){return c.contentDocument?c.contentDocument:c.contentWindow&&c.contentWindow.document?c.contentWindow.document:c.document?c.document:null},at.wysiwygEditorInsertHtml=function(t,n,i){var r,o,a='<span id="sceditor-cursor">&nbsp;</span>';at.focus(),(i||!e(w).is("code")&&0===e(w).parents("code").length)&&(n?n+=a:t+=a,y.insertHTML(t,n),o=u.find("#sceditor-cursor"),r=o.offset().top+2*o.outerHeight(!0)-l.height(),o.remove(),d.scrollTop(r),u.scrollTop(r),y.saveRange(),M(u[0]),y.restoreRange(),K())},at.wysiwygEditorInsertText=function(t,n){at.wysiwygEditorInsertHtml(e.sceditor.escapeEntities(t),e.sceditor.escapeEntities(n))},at.insertText=function(e,t){return at.inSourceMode()?at.sourceEditorInsertText(e,t):at.wysiwygEditorInsertText(e,t),this},at.sourceEditorInsertText=function(e,t){var i,r,o,a,s;s=h.scrollTop,h.focus(),"undefined"!=typeof h.selectionStart?(r=h.selectionStart,o=h.selectionEnd,a=e.length,t&&(e+=h.value.substring(r,o)+t),h.value=h.value.substring(0,r)+e+h.value.substring(o,h.value.length),h.selectionStart=r+e.length-(t?t.length:0),h.selectionEnd=h.selectionStart):"undefined"!=typeof n.selection.createRange?(i=n.selection.createRange(),t&&(e+=i.text+t),i.text=e,t&&i.moveEnd("character",0-t.length),i.moveStart("character",i.End-i.Start),i.select()):h.value+=e+t,h.scrollTop=s,h.focus()},at.getRangeHelper=function(){return y},at.val=function(e,t){return"string"==typeof e?(at.inSourceMode()?at.setSourceEditorValue(e):(t!==!1&&b.hasHandler("toWysiwyg")&&(e=b.callOnlyFirst("toWysiwyg",e)),at.setWysiwygEditorValue(e)),this):at.inSourceMode()?at.getSourceEditorValue(!1):at.getWysiwygEditorValue()},at.insert=function(t,n,i,r,o){if(at.inSourceMode())at.sourceEditorInsertText(t,n);else{if(n){var a=at.getRangeHelper().selectedHtml(),s=e("<div>").appendTo(e("body")).hide().html(a);i!==!1&&b.hasHandler("toSource")&&(a=b.callOnlyFirst("toSource",a,s)),s.remove(),t+=a+n}i!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t,!0)),i!==!1&&o===!0&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),at.wysiwygEditorInsertHtml(t)}return this},at.getWysiwygEditorValue=function(t){var n,i,r=y.hasSelection();return r?y.saveRange():m&&m.getBookmark&&(i=m.getBookmark()),e.sceditor.dom.fixNesting(u[0]),n=u.html(),t!==!1&&b.hasHandler("toSource")&&(n=b.callOnlyFirst("toSource",n,u)),r?(y.restoreRange(),m=null):i&&(m.moveToBookmark(i),m=null),n},at.getBody=function(){return u},at.getContentAreaContainer=function(){return l},at.getSourceEditorValue=function(e){var t=f.val();return e!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t)),t},at.setWysiwygEditorValue=function(t){t||(t="<p>"+(e.sceditor.ie?"":"<br />")+"</p>"),u[0].innerHTML=t,M(u[0]),K()},at.setSourceEditorValue=function(e){f.val(e)},at.updateOriginal=function(){lt.val(at.val())},M=function(t){if(o.emoticonsEnabled&&!e(t).parents("code").length){var n=t.ownerDocument,i=[],a=[],s=e.extend({},o.emoticons.more,o.emoticons.dropdown,o.emoticons.hidden);e.each(s,function(t){o.emoticonsCompat&&(a[t]=new RegExp("(>|^|\\s| | | | |&nbsp;)"+e.sceditor.regexEscape(t)+"(\\s|$|<| | | | |&nbsp;)")),i.push(t)}),function l(t){for(t=t.firstChild;null!=t;){var c,u,d,f,h,p,m,g=t.parentNode,y=t.nodeValue;if(3!==t.nodeType)e(t).is("code")||l(t);else if(y)for(h=i.length;h--;)u=i[h],m=o.emoticonsCompat?y.search(a[u]):y.indexOf(u),m>-1&&(p=t.nextSibling,d=s[u],c=y.substr(m).split(u),y=y.substr(0,m)+c.shift(),t.nodeValue=y,f=e.sceditor.dom.parseHTML(r("emoticon",{key:u,url:d.url||d,tooltip:d.tooltip||u}),n),g.insertBefore(f[0],p),g.insertBefore(n.createTextNode(c.join(u)),p));t=t.nextSibling}}(t),o.emoticonsCompat&&(pt=u.find("img[data-sceditor-emoticon]"))}},at.inSourceMode=function(){return a.hasClass("sourceMode")},at.sourceMode=function(e){return"boolean"!=typeof e?at.inSourceMode():((at.inSourceMode()&&!e||!at.inSourceMode()&&e)&&at.toggleSourceMode(),this)},at.toggleSourceMode=function(){(e.sceditor.isWysiwygSupported||!at.inSourceMode())&&(at.blur(),at.inSourceMode()?at.setWysiwygEditorValue(at.getSourceEditorValue()):at.setSourceEditorValue(at.getWysiwygEditorValue()),m=null,f.toggle(),l.toggle(),at.inSourceMode()?a.removeClass("sourceMode").addClass("wysiwygMode"):a.removeClass("wysiwygMode").addClass("sourceMode"),Q(),J())},Z=function(){return h.focus(),null!=h.selectionStart?h.value.substring(h.selectionStart,h.selectionEnd):n.selection.createRange?n.selection.createRange().text:void 0},E=function(t,n){return at.inSourceMode()?(n.txtExec&&(e.isArray(n.txtExec)?at.sourceEditorInsertText.apply(at,n.txtExec):n.txtExec.call(at,t,Z())),void 0):(n.exec&&(e.isFunction(n.exec)?n.exec.call(at,t):at.execCommand(n.exec,n.hasOwnProperty("execParam")?n.execParam:null)),void 0)},D=function(){e.sceditor.ie&&(m=y.selectedRange())},at.execCommand=function(t,n){var i=!1,r=e(y.parentNode());if(at.focus(),!r.is("code")&&0===r.parents("code").length){try{i=d[0].execCommand(t,!1,n)}catch(o){}!i&&at.commands[t]&&at.commands[t].errorMessage&&alert(at._(at.commands[t].errorMessage))}},et=function(){var t=function(){y&&!y.compare(k)&&(k=y.cloneSelected(),a.trigger(e.Event("selectionchanged"))),_=!1};_||(_=!0,e.sceditor.ie?t():setTimeout(t,100))},tt=function(){var t,n=y.parentNode();x!==n&&(t=x,x=n,w=y.getFirstBlockParent(n),a.trigger(e.Event("nodechanged",{oldNode:t,newNode:x})))},at.currentNode=function(){return x},at.currentBlockNode=function(){return w},J=function(e){var t,n,i,r,o,a=d[0],l=ft.length,c=at.sourceMode();if(at.sourceMode()||at.readOnly())s.find(".sceditor-button").removeClass("active");else for(o=e?e.newNode:y.parentNode(),i=y.getFirstBlockParent(o);l--;)if(t=0,n=ft[l],r=s.find(".sceditor-button-"+n.name),c&&!r.data("sceditor-txtmode"))r.addClass("disabled");else if(c||r.data("sceditor-wysiwygmode")){if("string"==typeof n.state)try{t=a.queryCommandEnabled(n.state)?0:-1,t>-1&&(t=a.queryCommandState(n.state)?1:0)}catch(u){}else t=n.state.call(at,o,i);0>t?r.addClass("disabled"):r.removeClass("disabled"),t>0?r.addClass("active"):r.removeClass("active")}else r.addClass("disabled")},Y=function(t){var n,i=ct.length;if(at.closeDropDown(),n=e(x),13===t.which&&(n.is("code,blockquote,pre")||0!==n.parents("code,blockquote,pre").length))return m=null,at.wysiwygEditorInsertHtml("<br />",null,!0),!1;if(!n.is("code")&&0===n.parents("code").length)for(;i--;)ct[i].call(at,t,c,f)},K=function(){var t,n,i;e.sceditor.dom.rTraverse(u[0],function(r){return t=r.nodeName.toLowerCase(),e.inArray(t,dt)>-1&&(n=!0),3===r.nodeType&&!/^\s*$/.test(r.nodeValue)||"br"===t||e.sceditor.ie&&!r.firstChild&&!e.sceditor.dom.isInline(r,!1)?(n&&(i=u[0].ownerDocument.createElement("div"),i.className="sceditor-nlf",i.innerHTML=e.sceditor.ie?"":"<br />",u[0].appendChild(i)),!1):void 0})},U=function(){at.val(lt.val())},$=function(){at.closeDropDown(),m=null},G=function(){var e=o.height,t=o.width;at.maximize()?at.dimensions("100%","100%",!1):(e&&e.toString().indexOf("%")>-1&&at.height(e),t&&t.toString().indexOf("%")>-1&&at.width(t))},at._=function(){var e=arguments;return g&&g[e[0]]&&(e[0]=g[e[0]]),e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})},V=function(t){var n,i=e.extend({},t);b.call(i.type+"Event",t,at),delete i.type,n=e.Event((t.target===h?"scesrc":"scewys")+t.type,i),a.trigger.apply(a,[n,at]),n.isDefaultPrevented()&&t.preventDefault(),n.isImmediatePropagationStopped()&&n.stopImmediatePropagation(),n.isPropagationStopped()&&n.stopPropagation()},at.bind=function(t,n,i,r){var o=t.length;for(t=t.split(" ");o--;)e.isFunction(n)&&(i||a.bind("scewys"+t[o],n),r||a.bind("scesrc"+t[o],n));return this},at.unbind=function(t,n,i,r){var o=t.length;for(t=t.split(" ");o--;)e.isFunction(n)&&(i||a.unbind("scewys"+t[o],n),r||a.unbind("scesrc"+t[o],n));return this},at.blur=function(t,n,i){return e.isFunction(t)?at.bind("blur",t,n,i):at.sourceMode()?f.blur():(v||(v=e('<input style="position:absolute;width:0;height:0;opacity:0;border:0;padding:0;filter:alpha(opacity=0)" type="text" />').appendTo(a)),v.removeAttr("disabled").show().focus().blur().hide().attr("disabled","disabled")),this},at.focus=function(t,n,i){return e.isFunction(t)?at.bind("focus",t,n,i):at.inSourceMode()?h.focus():(c.contentWindow.focus(),u[0].focus(),m&&(y.selectRange(m),m=null)),this},at.keyDown=function(e,t,n){return at.bind("keydown",e,t,n)},at.keyPress=function(e,t,n){return at.bind("keypress",e,t,n)},at.keyUp=function(e,t,n){return at.bind("keyup",e,t,n)},at.nodeChanged=function(e){return at.bind("nodechanged",e,!1,!0)},at.selectionChanged=function(e){return at.bind("selectionchanged",e,!1,!0)},it=function(t){var n=0,i=String.fromCharCode(t.which);if(!e(w).is("code")&&!e(w).parents("code").length)return at.emoticonsCache||(at.emoticonsCache=[],e.each(e.extend({},o.emoticons.more,o.emoticons.dropdown,o.emoticons.hidden),function(e,t){at.emoticonsCache[n++]=[e,r("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),at.emoticonsCache.sort(function(e,t){return e[0].length-t[0].length}),at.longestEmoticonCode=at.emoticonsCache[at.emoticonsCache.length-1][0].length),at.getRangeHelper().raplaceKeyword(at.emoticonsCache,!0,!0,at.longestEmoticonCode,o.emoticonsCompat,i)?(o.emoticonsCompat&&(pt=u.find("img[data-sceditor-emoticon]")),/^\s$/.test(i)&&o.emoticonsCompat):void 0},rt=function(){if(pt.length){var t,n,i,r,o,a,s=at.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009]+/;pt=e.map(pt,function(u){return u&&u.parentNode?e.contains(s,u)?(t=u.previousSibling,n=u.nextSibling,o=t.nodeValue,null===o&&(o=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(i=u.parentNode,r=y.cloneSelected(),a=r.startContainer,o+=e(u).data("sceditor-emoticon"),a===n?l=o.length+r.startOffset:a===s&&s.childNodes[r.startOffset]===n?l=o.length:a===t&&(l=r.startOffset),n&&3===n.nodeType||(n=i.insertBefore(i.ownerDocument.createTextNode(""),n)),n.insertData(0,o),i.removeChild(t),i.removeChild(u),l!==!1&&(r.setStart(n,l),r.collapse(!0),y.selectRange(r)),null):u):u:null})}},at.emoticons=function(t){return t||t===!1?(o.emoticonsEnabled=t,t?(u.keypress(it),at.sourceMode()||(y.saveRange(),M(u[0]),pt=u.find("img[data-sceditor-emoticon]"),y.restoreRange())):(u.find("img[data-sceditor-emoticon]").replaceWith(function(){return e(this).data("sceditor-emoticon")}),pt=[],u.unbind("keypress",it)),this):o.emoticonsEnabled},at.css=function(t){return C||(C=e('<style id="#inline" />').appendTo(d.find("head"))[0]),"string"!=typeof t?C.styleSheet?C.styleSheet.cssText:C.innerHTML:(C.styleSheet?C.styleSheet.cssText=t:C.innerHTML=t,this)},z=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},i={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o=e.which,a=i[o]||String.fromCharCode(o).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),r[o]?a=r[o]:n[a]&&(a=n[a])),a&&(16>o||o>18)&&t.push(a),t=t.join("+"),ht[t]?ht[t].call(at):void 0},at.addShortcut=function(e,t){return e=e.toLowerCase(),ht[e]="string"==typeof t?function(){return E(s.find(".sceditor-button-"+t),at.commands[t]),!1}:t,this},at.removeShortcut=function(e){return delete ht[e.toLowerCase()],this},q=function(n){var i,r,a,s,l;if(!e.sceditor.ie&&!o.disableBlockRemove&&8===n.which&&(s=y.selectedRange())&&(t.getSelection?(i=s.startContainer,r=s.startOffset):(i=s.parentElement(),a=d[0].selection.createRange(),a.moveToElementText(i),a.setEndPoint("EndToStart",s),r=a.text.length),0===r&&(l=ot()))){for(;i!==l;){for(;i.previousSibling;)if(i=i.previousSibling,3!==i.nodeType||i.nodeValue)return;if(!(i=i.parentNode))return}if(l&&!e(l).is("body"))return at.clearBlockFormatting(l),!1}},ot=function(){for(var t=w;!e.sceditor.dom.hasStyling(t);)if(!(t=t.parentNode)||e(t).is("body"))return;return t},at.clearBlockFormatting=function(t){return t=t||ot(),!t||e(t).is("body")?this:(y.saveRange(),m=null,t.className="",e(t).attr("style",""),e(t).is("p,div")||e.sceditor.dom.convertElement(t,"p"),y.restoreRange(),this)},S()},e.sceditor.ie=function(){var e,i=3,r=n.createElement("div"),o=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return n.documentMode&&n.all&&t.atob&&(i=10),4===i&&n.documentMode&&(i=11),i>4?i:e}(),e.sceditor.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(navigator.userAgent),e.sceditor.isWysiwygSupported=function(){var t,n,i=e('<div contenteditable="true">')[0].contentEditable,r="undefined"!=typeof i&&"inherit"!==i,o=navigator.userAgent;return r?(n=/Opera Mobi|Opera Mini/i.test(o),/Android/i.test(o)&&(n=!0,/Safari/.test(o)&&(t=/Safari\/(\d+)/.exec(o),n=t&&t[1]?t[1]<534:!0)),/ Silk\//i.test(o)&&(t=/AppleWebKit\/(\d+)/.exec(o),n=t&&t[1]?t[1]<534:!0),e.sceditor.ios&&(n=!/OS [5-9](_\d)+ like Mac OS X/i.test(o)),/fennec/i.test(o)&&(n=!1),/OneBrowser/i.test(o)&&(n=!1),"UCWEB"===navigator.vendor&&(n=!1),!n):!1
}(),e.sceditor.regexEscape=function(e){return e.replace(/[\$\?\[\]\.\*\(\)\|\\]/g,"\\$&")},e.sceditor.escapeEntities=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />"):e},e.sceditor.locale={},e.sceditor.commands={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(t,n,i){for(var o=t.opts.fonts.split(","),a=e("<div />"),s=function(){return i(e(this).data("font")),t.closeDropDown(!0),!1},l=0;l<o.length;l++)a.append(r("fontOpt",{font:o[l]},!0).click(s));t.createDropDown(n,"font-picker",a)},exec:function(t){var n=this;e.sceditor.command.get("font")._dropDown(n,t,function(e){n.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,n,i){for(var o=e("<div />"),a=function(n){i(e(this).data("size")),t.closeDropDown(!0),n.preventDefault()},s=1;7>=s;s++)o.append(r("sizeOpt",{size:s},!0).click(a));t.createDropDown(n,"fontsize-picker",o)},exec:function(t){var n=this;e.sceditor.command.get("size")._dropDown(n,t,function(e){n.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,n,i){var r,o,a,s,l={r:255,g:255,b:255},c=e("<div />"),u=t.opts.colors?t.opts.colors.split("|"):new Array(21),d=[],f=e.sceditor.command.get("color");if(!f._htmlCache){for(r=0;r<u.length;++r){for(s=u[r]?u[r].split(","):new Array(21),d.push('<div class="sceditor-color-column">'),o=0;o<s.length;++o)a=s[o]||"#"+l.r.toString(16)+l.g.toString(16)+l.b.toString(16),d.push('<a href="#" class="sceditor-color-option" style="background-color: '+a+'" data-color="'+a+'"></a>'),0===o%5?(l.g-=51,l.b=255):l.b-=51;d.push("</div>"),0===r%5?(l.r-=51,l.g=255,l.b=255):(l.g=255,l.b=255)}f._htmlCache=d.join("")}c.append(f._htmlCache).find("a").click(function(n){i(e(this).attr("data-color")),t.closeDropDown(!0),n.preventDefault()}),t.createDropDown(n,"color-picker",c)},exec:function(t){var n=this;e.sceditor.command.get("color")._dropDown(n,t,function(e){n.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n=this,i=r("pastetext",{label:n._("Paste your text inside the following box:"),insert:n._("Insert")},!0);i.find(".button").click(function(e){t=i.find("#txt").val(),t&&n.wysiwygEditorInsertText(t),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"pastetext",i)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},table:{exec:function(t){var n=this,i=r("table",{rows:n._("Rows:"),cols:n._("Cols:"),insert:n._("Insert")},!0);i.find(".button").click(function(t){var r=i.find("#rows").val()-0,o=i.find("#cols").val()-0,a="<table>";if(!(1>r||1>o)){for(var s=0;r>s;s++){a+="<tr>";for(var l=0;o>l;l++)a+="<td>"+(e.sceditor.ie?"":"<br />")+"</td>";a+="</tr>"}a+="</table>",n.wysiwygEditorInsertHtml(a),n.closeDropDown(!0),t.preventDefault()}}),n.createDropDown(t,"inserttable",i)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>","<br /></code>")},tooltip:"Code"},image:{exec:function(e){var t=this,n=r("image",{url:t._("URL:"),width:t._("Width (optional):"),height:t._("Height (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#image").val(),r=n.find("#width").val(),o=n.find("#height").val(),a="";r&&(a+=' width="'+r+'"'),o&&(a+=' height="'+o+'"'),i&&"http://"!==i&&t.wysiwygEditorInsertHtml("<img"+a+' src="'+i+'" />'),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertimage",n)},tooltip:"Insert an image"},email:{exec:function(e){var t=this,n=r("email",{label:t._("E-mail:"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#email").val();i&&(t.focus(),t.getRangeHelper().selectedHtml()?t.execCommand("createlink","mailto:"+i):t.wysiwygEditorInsertHtml('<a href="mailto:'+i+'">'+i+"</a>")),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertemail",n)},tooltip:"Insert an email"},link:{exec:function(e){var t=this,n=r("link",{url:t._("URL:"),desc:t._("Description (optional):"),ins:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#link").val(),r=n.find("#des").val();i&&"http://"!==i&&(t.focus(),!t.getRangeHelper().selectedHtml()||r?(r||(r=i),t.wysiwygEditorInsertHtml('<a href="'+i+'">'+r+"</a>")):t.execCommand("createlink",i)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertlink",n)},tooltip:"Insert a link"},unlink:{state:function(){var t=e(this.currentNode());return t.is("a")||t.parents("a").length>0?0:-1},exec:function(){var t=e(this.currentNode()),n=t.is("a")?t:t.parents("a").first();n.length&&n.replaceWith(n.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(t,n,i){var r="<blockquote>",o="</blockquote>";n?(i=i?"<cite>"+i+"</cite>":"",r=r+i+n+o,o=null):""===this.getRangeHelper().selectedHtml()&&(o=e.sceditor.ie?"":"<br />"+o),this.wysiwygEditorInsertHtml(r,o)},tooltip:"Insert a Quote"},emoticon:{exec:function(t){var n=this,i=function(r){var o=n.opts.emoticonsCompat,a=n.getRangeHelper(),s=o&&" "!==a.getOuterText(!0,1)?" ":"",l=o&&" "!==a.getOuterText(!1,1)?" ":"",c=e("<div />"),u=e("<div />").appendTo(c),d=e.extend({},n.opts.emoticons.dropdown,r?n.opts.emoticons.more:{}),f=0;return e.each(d,function(){f++}),f=Math.sqrt(f),e.each(d,function(t,i){u.append(e("<img />").attr({src:i.url||i,alt:t,title:i.tooltip||t}).click(function(){return n.insert(s+e(this).attr("alt")+l,null,!1).closeDropDown(!0),!1})),u.children().length>=f&&(u=e("<div />").appendTo(c))}),r||c.append(e(n._('<a class="sceditor-more">{0}</a>',n._("More"))).click(function(){return n.createDropDown(t,"more-emoticons",i(!0)),!1})),c};n.createDropDown(t,"emoticons",i(!1))},txtExec:function(t){e.sceditor.command.get("emoticon").exec.call(this,t)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(e,t,n){var i,o=r("youtubeMenu",{label:e._("Video URL:"),insert:e._("Insert")},!0);o.find(".button").click(function(t){var r=o.find("#link").val().replace("http://","");""!==r&&(i=r.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/),i&&(r=i[1]),/^[a-zA-Z0-9_\-]{11}$/.test(r)?n(r):alert("Invalid YouTube video")),e.closeDropDown(!0),t.preventDefault()}),e.createDropDown(t,"insertlink",o)},exec:function(t){var n=this;e.sceditor.command.get("youtube")._dropDown(n,t,function(e){n.wysiwygEditorInsertHtml(r("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),i=t.getMonth()+1,r=t.getDate();return 2e3>n&&(n=1900+n),10>i&&(i="0"+i),10>r&&(r="0"+r),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,i).replace(/day/i,r)},exec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},txtExec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),t+":"+n+":"+i},exec:function(){this.insertText(e.sceditor.command.get("time")._time())},txtExec:function(){this.insertText(e.sceditor.command.get("time")._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("ltr"===i.css("direction")?i.css("direction",""):i.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("rtl"===i.css("direction")?i.css("direction",""):i.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}},e.sceditor.rangeHelper=function(t,n){var i,r,o,a,s,l=!0,c="sceditor-start-marker",u="sceditor-end-marker",d="character",f=this;o=function(e,t){r=t||e.contentDocument||e.document,i=e,l=!!e.getSelection}(t,n),f.insertHTML=function(e,t){var n,i,o=f.selectedRange();if(t&&(e+=f.selectedHtml()+t),l){for(i=r.createElement("div"),n=r.createDocumentFragment(),i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);f.insertNode(n)}else{if(!o)return!1;o.pasteHTML(e)}},f.insertNode=function(e,t){if(l){var n,i,o=r.createDocumentFragment(),a=f.selectedRange();if(!a)return!1;if(o.appendChild(e),t&&(o.appendChild(a.extractContents()),o.appendChild(t)),i=o.lastChild,!i)return;a.deleteContents(),a.insertNode(o),n=r.createRange(),n.setStartAfter(i),f.selectRange(n)}else f.insertHTML(e.outerHTML,t?t.outerHTML:null)},f.cloneSelected=function(){var e=f.selectedRange();return e?l?e.cloneRange():e.duplicate():void 0},f.selectedRange=function(){var e,t,n=l?i.getSelection():r.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=r.body;t.firstChild;)t=t.firstChild;e=r.createRange(),e.setStart(t,0),n.addRange(e)}return l&&(e=n.getRangeAt(0)),l||"Control"===n.type||(e=n.createRange()),s(e)?e:null}},s=function(e){var t;return e&&e.parentElement&&(t=e.parentElement())?t.ownerDocument===r:!0},f.hasSelection=function(){var e,t=l?i.getSelection():r.selection;return l||!t?t&&t.rangeCount>0:(e=t.createRange(),e&&s(e))},f.selectedHtml=function(){var e,t=f.selectedRange();return t?!l&&""!==t.text&&t.htmlText?t.htmlText:l?(e=r.createElement("div"),e.appendChild(t.cloneContents()),e.innerHTML):"":""},f.parentNode=function(){var e=f.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},f.getFirstBlockParent=function(t){var n=function(t){return e.sceditor.dom.isInline(t,!0)?(t=t?t.parentNode:null,t?n(t):null):t};return n(t||f.parentNode())},f.insertNodeAt=function(e,t){var n=f.selectedRange(),i=f.cloneSelected();return i?(i.collapse(e),i.insertNode?i.insertNode(t):i.pasteHTML(t.outerHTML),f.selectRange(n),void 0):!1},a=function(e){f.removeMarker(e);var t=r.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},f.insertMarkers=function(){f.insertNodeAt(!0,a(c)),f.insertNodeAt(!1,a(u))},f.getMarker=function(e){return r.getElementById(e)},f.removeMarker=function(e){var t=f.getMarker(e);t&&t.parentNode.removeChild(t)},f.removeMarkers=function(){f.removeMarker(c),f.removeMarker(u)},f.saveRange=function(){f.insertMarkers()},f.selectRange=function(e){l?(i.getSelection().removeAllRanges(),i.getSelection().addRange(e)):e.select()},f.restoreRange=function(){var e,t=f.selectedRange(),n=f.getMarker(c),i=f.getMarker(u);return n&&i&&t?(l?(t=r.createRange(),t.setStartBefore(n),t.setEndAfter(i),f.selectRange(t)):(t=r.body.createTextRange(),e=r.body.createTextRange(),e.moveToElementText(n),t.setEndPoint("StartToStart",e),t.moveStart(d,0),e.moveToElementText(i),t.setEndPoint("EndToStart",e),t.moveEnd(d,0),f.selectRange(t)),f.removeMarkers(),void 0):!1},f.selectOuterText=function(e,t){var n=f.cloneSelected();return n?(n.collapse(!1),l?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(d,0-e),n.moveEnd(d,t)),f.selectRange(n),void 0):!1},f.getOuterText=function(e,t){var n="",i=f.cloneSelected();return i?(i.collapse(!1),e?l?(n=i.startContainer.textContent.substr(0,i.startOffset),n=n.substr(Math.max(0,n.length-t))):(i.moveStart(d,0-t),n=i.text):l?n=i.startContainer.textContent.substr(i.startOffset,t):(i.moveEnd(d,t),n=i.text),n):""},f.raplaceKeyword=function(t,n,i,r,o,a){i||t.sort(function(e,t){return e.length-t.length});var s,c,u,d,h,p,m,g=t.length,y=r||t[g-1][0].length;if(o){if(!l)return!1;++y}for(s=f.getOuterText(!0,y),c=s+(null!=a?a:""),n&&(c+=f.getOuterText(!1,y));g--;)if(m=t[g][0],h=new RegExp("(?:[\\s    ])"+e.sceditor.regexEscape(m)+"(?=[\\s    ])"),p=s.length-1-m.length,o&&--p,p=Math.max(0,p),(u=o?c.substr(p).search(h):c.indexOf(m,p))>-1){if(o&&(u+=p+1),u>s.length||u+m.length+(o?1:0)<s.length)continue;return d=s.length-u,f.selectOuterText(d,m.length-d-(null!=a&&/^\S/.test(a)?1:0)),f.insertHTML(t[g][1]),!0}return!1},f.compare=function(e,t){return t||(t=f.selectedRange()),e&&t?l?0===e.compareBoundaryPoints(Range.END_TO_END,t)&&0===e.compareBoundaryPoints(Range.START_TO_START,t):s(e)&&s(t)&&0===e.compareEndPoints("EndToEnd",t)&&0===e.compareEndPoints("StartToStart",t):!e&&!t}},e.sceditor.dom={traverse:function(e,t,n,i,r){if(e)for(e=r?e.lastChild:e.firstChild;null!=e;){var o=r?e.previousSibling:e.nextSibling;if(!n&&t(e)===!1)return!1;if(!i&&this.traverse(e,t,n,i,r)===!1)return!1;if(n&&t(e)===!1)return!1;e=o}},rTraverse:function(e,t,n,i){this.traverse(e,t,n,i,!0)},parseHTML:function(t,i){var r=[],o=(i||n).createElement("div");return o.innerHTML=t,e.merge(r,o.childNodes),r},hasStyling:function(t){var n=e(t);return t&&(!n.is("p,div")||t.className||n.attr("style")||!e.isEmptyObject(n.data()))},convertElement:function(t,n){for(var i,r,o=t.attributes.length,a=t.ownerDocument.createElement(n);o--;)r=t.attributes[o],(!e.sceditor.ie||r.specified)&&(e.sceditor.ie<8&&/style/i.test(r.name)?t.style.cssText=t.style.cssText:a.setAttribute(r.name,r.value));for(;i=t.firstChild;)a.appendChild(i);return t.parentNode.replaceChild(a,t),a},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",isInline:function(t,n){return t&&1===t.nodeType?(t=t.tagName.toLowerCase(),"code"===t?!n:e.sceditor.dom.blockLevelList.indexOf("|"+t+"|")<0):!0},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var t=this,n=function(e){for(;t.isInline(e.parentNode,!0);)e=e.parentNode;return e};t.traverse(e,function(e){if(1===e.nodeType&&!t.isInline(e,!0)&&t.isInline(e.parentNode,!0)){var i=n(e),r=i.parentNode,o=t.extractContents(i,e),a=e;t.copyCSS(i,a),r.insertBefore(o,i),r.insertBefore(a,i)}})},findCommonAncestor:function(t,n){return e(t).parents().has(e(n)).first()},getSibling:function(t,n){var i;return t?(i=t[n?"previousSibling":"nextSibling"])?i:e.sceditor.dom.getSibling(t.parentNode,n):null},removeWhiteSpace:function(t,n){for(var i,r,o,a,s,l,c,u,d=e.sceditor.dom.getSibling,f=e.sceditor.dom.isInline,h=t.firstChild,p=/[\t ]+/g,m=/[\t\n\r ]+/g;h;){if(l=h.nextSibling,i=h.nodeValue,r=h.nodeType,1===r&&h.firstChild&&(s=e(h).css("whiteSpace"),/pre(?:\-wrap)?$/i.test(s)||e.sceditor.dom.removeWhiteSpace(h,/line$/i.test(s))),3===r&&i){for(o=d(h),a=d(h,!0),u=a,c=!1;e(u).hasClass("sceditor-ignore");)u=d(u,!0);if(f(h)&&u){for(;u.lastChild;)u=u.lastChild;c=3===u.nodeType?/[\t\n\r ]$/.test(u.nodeValue):!f(u)}f(h)&&a&&f(a)&&!c||(i=i.replace(/^[\t\n\r ]+/,"")),f(h)&&o&&f(o)||(i=i.replace(/[\t\n\r ]+$/,"")),i.length?h.nodeValue=i.replace(n?p:m," "):t.removeChild(h)}h=l}},extractContents:function(e,t){var n=this,i=n.findCommonAncestor(e,t),r=i?i[0]:null,o=!1,a=!1;return function s(i){var r=e.ownerDocument.createDocumentFragment();return n.traverse(i,function(n){if(a||n===t&&o)return a=!0,!1;n===e&&(o=!0);var i,l;o?jQuery.contains(n,t)&&1===n.nodeType?(i=s(n),l=n.cloneNode(!1),l.appendChild(i),r.appendChild(l)):r.appendChild(n):jQuery.contains(n,e)&&1===n.nodeType&&(i=s(n),l=n.cloneNode(!1),l.appendChild(i),r.appendChild(l))},!1),r}(r)}},e.sceditor.plugins={},e.sceditor.PluginManager=function(t){var n=this,i=[],r=t,o=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},a=function(e,t){e=[].slice.call(e);for(var n=i.length,a=o(e.shift());n--;)if(a in i[n]){if(t)return i[n][a].apply(r,e);i[n][a].apply(r,e)}};n.call=function(){a(arguments,!1)},n.callOnlyFirst=function(){return a(arguments,!0)},n.iter=function(e){return e=o(e),function(){var t=i.length;return{callNext:function(n){for(;t--;)if(i[t]&&e in i[t])return i[t].apply(r,n)},hasNext:function(){for(var n=t;n--;)if(i[n]&&e in i[n])return!0;return!1}}}()},n.hasHandler=function(e){var t=i.length;for(e=o(e);t--;)if(e in i[t])return!0;return!1},n.exsists=function(t){return t in e.sceditor.plugins?(t=e.sceditor.plugins[t],"function"==typeof t&&"object"==typeof t.prototype):!1},n.isRegistered=function(t){var r=i.length;if(!n.exsists(t))return!1;for(;r--;)if(i[r]instanceof e.sceditor.plugins[t])return!0;return!1},n.register=function(t){return n.exsists(t)?(t=new e.sceditor.plugins[t],i.push(t),"init"in t&&t.init.apply(r),!0):!1},n.deregister=function(t){var o,a=i.length,s=!1;if(!n.isRegistered(t))return!1;for(;a--;)i[a]instanceof e.sceditor.plugins[t]&&(o=i.splice(a,1)[0],s=!0,"destroy"in o&&o.destroy.apply(r));return s},n.destroy=function(){for(var e=i.length;e--;)"destroy"in i[e]&&i[e].destroy.apply(r);i=null,r=null}},e.sceditor.command={get:function(t){return e.sceditor.commands[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.commands[t]||{},n),n.remove=function(){e.sceditor.command.remove(t)},e.sceditor.commands[t]=n,this):!1},remove:function(t){return e.sceditor.commands[t]&&delete e.sceditor.commands[t],this}},e.sceditor.defaultOptions={toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"jquery.sceditor.default.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"emoticons/smile.png",":angel:":"emoticons/angel.png",":angry:":"emoticons/angry.png","8-)":"emoticons/cool.png",":'(":"emoticons/cwy.png",":ermm:":"emoticons/ermm.png",":D":"emoticons/grin.png","<3":"emoticons/heart.png",":(":"emoticons/sad.png",":O":"emoticons/shocked.png",":P":"emoticons/tongue.png",";)":"emoticons/wink.png"},more:{":alien:":"emoticons/alien.png",":blink:":"emoticons/blink.png",":blush:":"emoticons/blush.png",":cheerful:":"emoticons/cheerful.png",":devil:":"emoticons/devil.png",":dizzy:":"emoticons/dizzy.png",":getlost:":"emoticons/getlost.png",":happy:":"emoticons/happy.png",":kissing:":"emoticons/kissing.png",":ninja:":"emoticons/ninja.png",":pinch:":"emoticons/pinch.png",":pouty:":"emoticons/pouty.png",":sick:":"emoticons/sick.png",":sideways:":"emoticons/sideways.png",":silly:":"emoticons/silly.png",":sleeping:":"emoticons/sleeping.png",":unsure:":"emoticons/unsure.png",":woot:":"emoticons/w00t.png",":wassat:":"emoticons/wassat.png"},hidden:{":whistling:":"emoticons/whistling.png",":love:":"emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,getHtmlHandler:null,getTextHandler:null,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}},e.fn.sceditor=function(t){var n,i=[];return t=t||{},t.runWithoutWysiwygSupport||e.sceditor.isWysiwygSupported?(this.each(function(){n=this.jquery?this:e(this),n.parents(".sceditor-container").length>0||("state"===t?i.push(!!n.data("sceditor")):"instance"===t?i.push(n.data("sceditor")):n.data("sceditor")||new e.sceditor(this,t))}),i.length?1===i.length?i[0]:e(i):this):void 0}}(jQuery,window,document);!function(e,t,n){"use strict";var i={html:'<!DOCTYPE html><html><head><style>.ie * {min-height: auto !important}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" value="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" value="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" value="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'},r=function(t,n,r){var o=i[t];return e.each(n,function(e,t){o=o.replace(new RegExp("\\{"+e+"\\}","g"),t)}),r&&(o=e(o)),o};e.sceditor=function(i,o){var a,s,l,c,u,d,f,h,p,m,g,y,v,b,x,w,k,_,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q,J,Z,K,et,tt,nt,it,rt,ot,at=this,st=i.get?i.get(0):i,lt=e(st),ct=[],ut=[],dt=[],ft=[],ht={},pt=[];at.commands=e.extend(!0,{},o.commands||e.sceditor.commands),at.opts=o=e.extend({},e.sceditor.defaultOptions,o),S=function(){lt.data("sceditor",at),e.each(o,function(t,n){e.isPlainObject(n)&&(o[t]=e.extend(!0,{},n))}),o.locale&&"en"!==o.locale&&N(),a=e('<div class="sceditor-container" />').insertAfter(lt).css("z-index",o.zIndex),e.sceditor.ie&&a.addClass("ie ie"+e.sceditor.ie),T=!!lt.attr("required"),lt.removeAttr("required"),A(),R(),L(),O(),B(),P(),H(),e.sceditor.isWysiwygSupported||at.toggleSourceMode();var i=function(){e(t).unbind("load",i),o.autofocus&&nt(),o.autoExpand&&at.expandToContent(),G()};e(t).load(i),n.readyState&&"complete"===n.readyState&&i(),J(),b.call("ready")},A=function(){var t=o.plugins;t=t?t.toString().split(","):[],b=new e.sceditor.PluginManager(at),e.each(t,function(t,n){b.register(e.trim(n))})},N=function(){var t;e.sceditor.locale[o.locale]?g=e.sceditor.locale[o.locale]:(t=o.locale.split("-"),e.sceditor.locale[t[0]]&&(g=e.sceditor.locale[t[0]])),g&&g.dateFormat&&(o.dateFormat=g.dateFormat)},O=function(){var n,i;f=e("<textarea></textarea>").hide(),l=e('<iframe frameborder="0"></iframe>'),o.spellcheck||f.attr("spellcheck","false"),"https:"===t.location.protocol&&l.attr("src","javascript:false"),a.append(l).append(f),c=l[0],h=f[0],at.width(o.width||lt.width()),at.height(o.height||lt.height()),n=F(),n.open(),n.write(r("html",{spellcheck:o.spellcheck?"":'spellcheck="false"',charset:o.charset,style:o.style})),n.close(),d=e(n),u=e(n.body),at.readOnly(!!o.readOnly),e.sceditor.ie&&d.find("html").addClass("ie ie"+e.sceditor.ie),(e.sceditor.ios||e.sceditor.ie)&&(u.height("100%"),e.sceditor.ie||u.bind("touchend",at.focus)),y=new e.sceditor.rangeHelper(c.contentWindow),at.val(lt.hide().val()),i=lt.attr("tabindex"),f.attr("tabindex",i),l.attr("tabindex",i)},P=function(){o.autoUpdate&&(u.bind("blur",at.updateOriginal),f.bind("blur",at.updateOriginal)),null===o.rtl&&(o.rtl="rtl"===f.css("direction")),at.rtl(!!o.rtl),o.autoExpand&&d.bind("keyup",at.expandToContent),o.resizeEnabled&&I(),a.attr("id",o.id),at.emoticons(o.emoticonsEnabled)},H=function(){e(n).click(X),e(st.form).bind("reset",U).submit(at.updateOriginal),e(t).bind("resize orientationChanged",G),u.keypress(Y).keydown(z).keydown(q).keyup(K).bind("paste",j).bind(e.sceditor.ie?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",et).bind("keydown keyup keypress focus blur contextmenu",V),o.emoticonsCompat&&t.getSelection&&u.keyup(rt),f.bind("keydown keyup keypress focus blur contextmenu",V).keydown(z),d.keypress(Y).mousedown($).bind(e.sceditor.ie?"selectionchange":"focus blur contextmenu mouseup click",et).bind("beforedeactivate keyup",D).keyup(K).focus(function(){m=null}),a.bind("selectionchanged",tt).bind("selectionchanged",J).bind("selectionchanged",V).bind("nodechanged",V)},L=function(){var t,n,i=(o.toolbarExclude||"").split(","),l=o.toolbar.split("|");s=e('<div class="sceditor-toolbar" unselectable="on" />'),e.each(l,function(o,a){t=e('<div class="sceditor-group" />'),e.each(a.split(","),function(o,a){!at.commands[a]||e.inArray(a,i)>-1||(n=r("toolbarButton",{name:a,dispName:at._(at.commands[a].tooltip||a)},!0),n.data("sceditor-txtmode",!!at.commands[a].txtExec),n.data("sceditor-wysiwygmode",!!at.commands[a].exec),n.click(function(){var t=e(this);return t.hasClass("disabled")||E(t,at.commands[a]),J(),!1}),at.commands[a].tooltip&&n.attr("title",at._(at.commands[a].tooltip)),at.commands[a].exec||n.addClass("disabled"),at.commands[a].shortcut&&at.addShortcut(at.commands[a].shortcut,a),t.append(n))}),t[0].firstChild&&s.append(t)}),e(o.toolbarContainer||a).append(s)},B=function(){e.each(at.commands,function(t,n){n.keyPress&&ct.push(n.keyPress),n.forceNewLineAfter&&e.isArray(n.forceNewLineAfter)&&(dt=e.merge(dt,n.forceNewLineAfter)),n.state?ft.push({name:t,state:n.state}):"string"==typeof n.exec&&ft.push({name:t,state:n.exec})}),K()},I=function(){var i,r,s,l,c,u,d=e('<div class="sceditor-grip" />'),f=e('<div class="sceditor-resize-cover" />'),h=0,p=0,m=0,g=0,y=a.width(),v=a.height(),b=!1,x=at.rtl();i=o.resizeMinHeight||v/1.5,r=o.resizeMaxHeight||2.5*v,s=o.resizeMinWidth||y/1.25,l=o.resizeMaxWidth||1.25*y,c=function(n){"touchmove"===n.type&&(n=t.event);var c=g+(n.pageY-p),u=x?m-(n.pageX-h):m+(n.pageX-h);l>0&&u>l&&(u=l),r>0&&c>r&&(c=r),(!o.resizeWidth||s>u||l>0&&u>l)&&(u=!1),(!o.resizeHeight||i>c||r>0&&c>r)&&(c=!1),(u||c)&&(at.dimensions(u,c),e.sceditor.ie<7&&a.height(c)),n.preventDefault()},u=function(t){b&&(b=!1,f.hide(),a.removeClass("resizing").height("auto"),e(n).unbind("touchmove mousemove",c),e(n).unbind("touchend mouseup",u),t.preventDefault())},a.append(d),a.append(f.hide()),d.bind("touchstart mousedown",function(i){"touchstart"===i.type&&(i=t.event),h=i.pageX,p=i.pageY,m=a.width(),g=a.height(),b=!0,a.addClass("resizing"),f.show(),e(n).bind("touchmove mousemove",c),e(n).bind("touchend mouseup",u),e.sceditor.ie<7&&a.height(g),i.preventDefault()})},R=function(){var t,i=o.emoticons,r=o.emoticonsRoot;e.isPlainObject(i)&&o.emoticonsEnabled&&e.each(i,function(o,a){e.each(a,function(e,a){r&&(a={url:r+(a.url||a),tooltip:a.tooltip||e},i[o][e]=a),t=n.createElement("img"),t.src=a.url||a,ut.push(t)})})},nt=function(){var t,n,i,r=d[0],s=u[0],l=!!o.autofocusEnd;if(a.is(":visible")){if(at.sourceMode())i=h.value.length,h.setSelectionRange?h.setSelectionRange(i,i):h.createTextRange&&(t=h.createTextRange(),t.moveEnd("character",i),t.moveStart("character",i),y.selectRange(t));else{if(e.sceditor.dom.removeWhiteSpace(s),l)for((n=s.lastChild)||u.append(n=r.createElement("div"));n.lastChild;)n=n.lastChild,/br/i.test(n.nodeName)&&n.previousSibling&&(n=n.previousSibling);else n=s.firstChild;r.createRange?(t=r.createRange(),/br/i.test(n.nodeName)?t.setStartBefore(n):t.selectNodeContents(n),t.collapse(!1)):(t=s.createTextRange(),t.moveToElementText(3!==n.nodeType?n:n.parentNode),t.collapse(!1)),y.selectRange(t),l&&(d.scrollTop(s.scrollHeight),u.scrollTop(s.scrollHeight))}at.focus()}},at.readOnly=function(e){return"boolean"!=typeof e?"readonly"===f.attr("readonly"):(u[0].contentEditable=!e,e?f.attr("readonly","readonly"):f.removeAttr("readonly"),Q(e),this)},at.rtl=function(e){var t=e?"rtl":"ltr";return"boolean"!=typeof e?"rtl"===f.attr("dir"):(u.attr("dir",t),f.attr("dir",t),a.removeClass("rtl").removeClass("ltr").addClass(t),this)},Q=function(t){var n=at.inSourceMode();s.find(".sceditor-button").removeClass("disabled").each(function(){var i=e(this);t===!0||n&&!i.data("sceditor-txtmode")?i.addClass("disabled"):n||i.data("sceditor-wysiwygmode")||i.addClass("disabled")})},at.width=function(e,t){return e||0===e?(at.dimensions(e,null,t),this):a.width()},at.dimensions=function(t,i,r){var c=e.sceditor.ie<8||n.documentMode<8?2:0;return t=t||0===t?t:!1,i=i||0===i?i:!1,t===!1&&i===!1?{width:at.width(),height:at.height()}:("undefined"==typeof l.data("outerWidthOffset")&&at.updateStyleCache(),t!==!1&&(r!==!1&&(o.width=t),i===!1&&(i=a.height(),r=!1),a.width(t),t&&t.toString().indexOf("%")>-1&&(t=a.width()),l.width(t-l.data("outerWidthOffset")),f.width(t-f.data("outerWidthOffset")),e.sceditor.ios&&u&&u.width(t-l.data("outerWidthOffset")-(u.outerWidth(!0)-u.width()))),i!==!1&&(r!==!1&&(o.height=i),i&&i.toString().indexOf("%")>-1&&(i=a.height(i).height(),a.height("auto")),i-=o.toolbarContainer?0:s.outerHeight(!0),l.height(i-l.data("outerHeightOffset")),f.height(i-c-f.data("outerHeightOffset"))),this)},at.updateStyleCache=function(){l.data("outerWidthOffset",l.outerWidth(!0)-l.width()),f.data("outerWidthOffset",f.outerWidth(!0)-f.width()),l.data("outerHeightOffset",l.outerHeight(!0)-l.height()),f.data("outerHeightOffset",f.outerHeight(!0)-f.height())},at.height=function(e,t){return e||0===e?(at.dimensions(null,e,t),this):a.height()},at.maximize=function(t){return"undefined"==typeof t?a.is(".sceditor-maximize"):(t=!!t,e.sceditor.ie<7&&e("html, body").toggleClass("sceditor-maximize",t),a.toggleClass("sceditor-maximize",t),at.width(t?"100%":o.width,!1),at.height(t?"100%":o.height,!1),this)},at.expandToContent=function(e){var t=a.height(),n=u[0].scrollHeight||d[0].documentElement.scrollHeight,i=t-l.height(),r=o.resizeMaxHeight||2*(o.height||lt.height());n+=i,e!==!0&&n>r&&(n=r),n>t&&at.height(n)},at.destroy=function(){b.destroy(),y=null,m=null,b=null,e(n).unbind("click",X),e(t).unbind("resize orientationChanged",G),e(st.form).unbind("reset",U).unbind("submit",at.updateOriginal),u.unbind(),d.unbind().find("*").remove(),f.unbind().remove(),s.remove(),a.unbind().find("*").unbind().remove(),a.remove(),lt.removeData("sceditor").removeData("sceditorbbcode").show(),T&&lt.attr("required","required")
},at.createDropDown=function(t,n,i,r){var a,s=p&&p.is(".sceditor-"+n);at.closeDropDown(),s||(r!==!1&&e(i).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),a={top:t.offset().top,left:t.offset().left,marginTop:t.outerHeight()},e.extend(a,o.dropDownCss),p=e('<div class="sceditor-dropdown sceditor-'+n+'" />').css(a).append(i).appendTo(e("body")).click(function(e){e.stopPropagation()}))},X=function(e){3!==e.which&&at.closeDropDown()},j=function(e){var t,i,r=u[0],a=d[0],s=0,l=n.createElement("div"),c=a.createDocumentFragment();if(o.disablePasting)return!1;if(o.enablePasteFiltering){if(y.saveRange(),n.body.appendChild(l),e&&e.clipboardData&&e.clipboardData.getData&&((t=e.clipboardData.getData("text/html"))||(t=e.clipboardData.getData("text/plain"))))return l.innerHTML=t,W(r,l),!1;for(;r.firstChild;)c.appendChild(r.firstChild);return i=function(e,t){if(e.childNodes.length>0){for(;e.firstChild;)t.appendChild(e.firstChild);for(;c.firstChild;)e.appendChild(c.firstChild);W(e,t)}else{if(s>25){for(;c.firstChild;)e.appendChild(c.firstChild);return y.restoreRange(),void 0}++s,setTimeout(function(){i(e,t)},20)}},i(r,l),at.focus(),!0}},W=function(t,n){e.sceditor.dom.fixNesting(n);var i=n.innerHTML;b.hasHandler("toSource")&&(i=b.callOnlyFirst("toSource",i,e(n))),n.parentNode.removeChild(n),b.hasHandler("toWysiwyg")&&(i=b.callOnlyFirst("toWysiwyg",i,!0)),y.restoreRange(),at.wysiwygEditorInsertHtml(i,null,!0)},at.closeDropDown=function(e){p&&(p.unbind().remove(),p=null),e===!0&&at.focus()},F=function(){return c.contentDocument?c.contentDocument:c.contentWindow&&c.contentWindow.document?c.contentWindow.document:c.document?c.document:null},at.wysiwygEditorInsertHtml=function(t,n,i){var r,o,a='<span id="sceditor-cursor">&nbsp;</span>';at.focus(),(i||!e(w).is("code")&&0===e(w).parents("code").length)&&(n?n+=a:t+=a,y.insertHTML(t,n),o=u.find("#sceditor-cursor"),r=o.offset().top+2*o.outerHeight(!0)-l.height(),o.remove(),d.scrollTop(r),u.scrollTop(r),y.saveRange(),M(u[0]),y.restoreRange(),K())},at.wysiwygEditorInsertText=function(t,n){at.wysiwygEditorInsertHtml(e.sceditor.escapeEntities(t),e.sceditor.escapeEntities(n))},at.insertText=function(e,t){return at.inSourceMode()?at.sourceEditorInsertText(e,t):at.wysiwygEditorInsertText(e,t),this},at.sourceEditorInsertText=function(e,t){var i,r,o,a,s;s=h.scrollTop,h.focus(),"undefined"!=typeof h.selectionStart?(r=h.selectionStart,o=h.selectionEnd,a=e.length,t&&(e+=h.value.substring(r,o)+t),h.value=h.value.substring(0,r)+e+h.value.substring(o,h.value.length),h.selectionStart=r+e.length-(t?t.length:0),h.selectionEnd=h.selectionStart):"undefined"!=typeof n.selection.createRange?(i=n.selection.createRange(),t&&(e+=i.text+t),i.text=e,t&&i.moveEnd("character",0-t.length),i.moveStart("character",i.End-i.Start),i.select()):h.value+=e+t,h.scrollTop=s,h.focus()},at.getRangeHelper=function(){return y},at.val=function(e,t){return"string"==typeof e?(at.inSourceMode()?at.setSourceEditorValue(e):(t!==!1&&b.hasHandler("toWysiwyg")&&(e=b.callOnlyFirst("toWysiwyg",e)),at.setWysiwygEditorValue(e)),this):at.inSourceMode()?at.getSourceEditorValue(!1):at.getWysiwygEditorValue()},at.insert=function(t,n,i,r,o){if(at.inSourceMode())at.sourceEditorInsertText(t,n);else{if(n){var a=at.getRangeHelper().selectedHtml(),s=e("<div>").appendTo(e("body")).hide().html(a);i!==!1&&b.hasHandler("toSource")&&(a=b.callOnlyFirst("toSource",a,s)),s.remove(),t+=a+n}i!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t,!0)),i!==!1&&o===!0&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),at.wysiwygEditorInsertHtml(t)}return this},at.getWysiwygEditorValue=function(t){var n,i,r=y.hasSelection();return r?y.saveRange():m&&m.getBookmark&&(i=m.getBookmark()),e.sceditor.dom.fixNesting(u[0]),n=u.html(),t!==!1&&b.hasHandler("toSource")&&(n=b.callOnlyFirst("toSource",n,u)),r?(y.restoreRange(),m=null):i&&(m.moveToBookmark(i),m=null),n},at.getBody=function(){return u},at.getContentAreaContainer=function(){return l},at.getSourceEditorValue=function(e){var t=f.val();return e!==!1&&b.hasHandler("toWysiwyg")&&(t=b.callOnlyFirst("toWysiwyg",t)),t},at.setWysiwygEditorValue=function(t){t||(t="<p>"+(e.sceditor.ie?"":"<br />")+"</p>"),u[0].innerHTML=t,M(u[0]),K()},at.setSourceEditorValue=function(e){f.val(e)},at.updateOriginal=function(){lt.val(at.val())},M=function(t){if(o.emoticonsEnabled&&!e(t).parents("code").length){var n=t.ownerDocument,i=[],a=[],s=e.extend({},o.emoticons.more,o.emoticons.dropdown,o.emoticons.hidden);e.each(s,function(t){o.emoticonsCompat&&(a[t]=new RegExp("(>|^|\\s| | | | |&nbsp;)"+e.sceditor.regexEscape(t)+"(\\s|$|<| | | | |&nbsp;)")),i.push(t)}),function l(t){for(t=t.firstChild;null!=t;){var c,u,d,f,h,p,m,g=t.parentNode,y=t.nodeValue;if(3!==t.nodeType)e(t).is("code")||l(t);else if(y)for(h=i.length;h--;)u=i[h],m=o.emoticonsCompat?y.search(a[u]):y.indexOf(u),m>-1&&(p=t.nextSibling,d=s[u],c=y.substr(m).split(u),y=y.substr(0,m)+c.shift(),t.nodeValue=y,f=e.sceditor.dom.parseHTML(r("emoticon",{key:u,url:d.url||d,tooltip:d.tooltip||u}),n),g.insertBefore(f[0],p),g.insertBefore(n.createTextNode(c.join(u)),p));t=t.nextSibling}}(t),o.emoticonsCompat&&(pt=u.find("img[data-sceditor-emoticon]"))}},at.inSourceMode=function(){return a.hasClass("sourceMode")},at.sourceMode=function(e){return"boolean"!=typeof e?at.inSourceMode():((at.inSourceMode()&&!e||!at.inSourceMode()&&e)&&at.toggleSourceMode(),this)},at.toggleSourceMode=function(){(e.sceditor.isWysiwygSupported||!at.inSourceMode())&&(at.blur(),at.inSourceMode()?at.setWysiwygEditorValue(at.getSourceEditorValue()):at.setSourceEditorValue(at.getWysiwygEditorValue()),m=null,f.toggle(),l.toggle(),at.inSourceMode()?a.removeClass("sourceMode").addClass("wysiwygMode"):a.removeClass("wysiwygMode").addClass("sourceMode"),Q(),J())},Z=function(){return h.focus(),null!=h.selectionStart?h.value.substring(h.selectionStart,h.selectionEnd):n.selection.createRange?n.selection.createRange().text:void 0},E=function(t,n){return at.inSourceMode()?(n.txtExec&&(e.isArray(n.txtExec)?at.sourceEditorInsertText.apply(at,n.txtExec):n.txtExec.call(at,t,Z())),void 0):(n.exec&&(e.isFunction(n.exec)?n.exec.call(at,t):at.execCommand(n.exec,n.hasOwnProperty("execParam")?n.execParam:null)),void 0)},D=function(){e.sceditor.ie&&(m=y.selectedRange())},at.execCommand=function(t,n){var i=!1,r=e(y.parentNode());if(at.focus(),!r.is("code")&&0===r.parents("code").length){try{i=d[0].execCommand(t,!1,n)}catch(o){}!i&&at.commands[t]&&at.commands[t].errorMessage&&alert(at._(at.commands[t].errorMessage))}},et=function(){var t=function(){y&&!y.compare(k)&&(k=y.cloneSelected(),a.trigger(e.Event("selectionchanged"))),_=!1};_||(_=!0,e.sceditor.ie?t():setTimeout(t,100))},tt=function(){var t,n=y.parentNode();x!==n&&(t=x,x=n,w=y.getFirstBlockParent(n),a.trigger(e.Event("nodechanged",{oldNode:t,newNode:x})))},at.currentNode=function(){return x},at.currentBlockNode=function(){return w},J=function(e){var t,n,i,r,o,a=d[0],l=ft.length,c=at.sourceMode();if(at.sourceMode()||at.readOnly())s.find(".sceditor-button").removeClass("active");else for(o=e?e.newNode:y.parentNode(),i=y.getFirstBlockParent(o);l--;)if(t=0,n=ft[l],r=s.find(".sceditor-button-"+n.name),c&&!r.data("sceditor-txtmode"))r.addClass("disabled");else if(c||r.data("sceditor-wysiwygmode")){if("string"==typeof n.state)try{t=a.queryCommandEnabled(n.state)?0:-1,t>-1&&(t=a.queryCommandState(n.state)?1:0)}catch(u){}else t=n.state.call(at,o,i);0>t?r.addClass("disabled"):r.removeClass("disabled"),t>0?r.addClass("active"):r.removeClass("active")}else r.addClass("disabled")},Y=function(t){var n,i=ct.length;if(at.closeDropDown(),n=e(x),13===t.which&&(n.is("code,blockquote,pre")||0!==n.parents("code,blockquote,pre").length))return m=null,at.wysiwygEditorInsertHtml("<br />",null,!0),!1;if(!n.is("code")&&0===n.parents("code").length)for(;i--;)ct[i].call(at,t,c,f)},K=function(){var t,n,i;e.sceditor.dom.rTraverse(u[0],function(r){return t=r.nodeName.toLowerCase(),e.inArray(t,dt)>-1&&(n=!0),3===r.nodeType&&!/^\s*$/.test(r.nodeValue)||"br"===t||e.sceditor.ie&&!r.firstChild&&!e.sceditor.dom.isInline(r,!1)?(n&&(i=u[0].ownerDocument.createElement("div"),i.className="sceditor-nlf",i.innerHTML=e.sceditor.ie?"":"<br />",u[0].appendChild(i)),!1):void 0})},U=function(){at.val(lt.val())},$=function(){at.closeDropDown(),m=null},G=function(){var e=o.height,t=o.width;at.maximize()?at.dimensions("100%","100%",!1):(e&&e.toString().indexOf("%")>-1&&at.height(e),t&&t.toString().indexOf("%")>-1&&at.width(t))},at._=function(){var e=arguments;return g&&g[e[0]]&&(e[0]=g[e[0]]),e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})},V=function(t){var n,i=e.extend({},t);b.call(i.type+"Event",t,at),delete i.type,n=e.Event((t.target===h?"scesrc":"scewys")+t.type,i),a.trigger.apply(a,[n,at]),n.isDefaultPrevented()&&t.preventDefault(),n.isImmediatePropagationStopped()&&n.stopImmediatePropagation(),n.isPropagationStopped()&&n.stopPropagation()},at.bind=function(t,n,i,r){var o=t.length;for(t=t.split(" ");o--;)e.isFunction(n)&&(i||a.bind("scewys"+t[o],n),r||a.bind("scesrc"+t[o],n));return this},at.unbind=function(t,n,i,r){var o=t.length;for(t=t.split(" ");o--;)e.isFunction(n)&&(i||a.unbind("scewys"+t[o],n),r||a.unbind("scesrc"+t[o],n));return this},at.blur=function(t,n,i){return e.isFunction(t)?at.bind("blur",t,n,i):at.sourceMode()?f.blur():(v||(v=e('<input style="position:absolute;width:0;height:0;opacity:0;border:0;padding:0;filter:alpha(opacity=0)" type="text" />').appendTo(a)),v.removeAttr("disabled").show().focus().blur().hide().attr("disabled","disabled")),this},at.focus=function(t,n,i){return e.isFunction(t)?at.bind("focus",t,n,i):at.inSourceMode()?h.focus():(c.contentWindow.focus(),u[0].focus(),m&&(y.selectRange(m),m=null)),this},at.keyDown=function(e,t,n){return at.bind("keydown",e,t,n)},at.keyPress=function(e,t,n){return at.bind("keypress",e,t,n)},at.keyUp=function(e,t,n){return at.bind("keyup",e,t,n)},at.nodeChanged=function(e){return at.bind("nodechanged",e,!1,!0)},at.selectionChanged=function(e){return at.bind("selectionchanged",e,!1,!0)},it=function(t){var n=0,i=String.fromCharCode(t.which);if(!e(w).is("code")&&!e(w).parents("code").length)return at.emoticonsCache||(at.emoticonsCache=[],e.each(e.extend({},o.emoticons.more,o.emoticons.dropdown,o.emoticons.hidden),function(e,t){at.emoticonsCache[n++]=[e,r("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),at.emoticonsCache.sort(function(e,t){return e[0].length-t[0].length}),at.longestEmoticonCode=at.emoticonsCache[at.emoticonsCache.length-1][0].length),at.getRangeHelper().raplaceKeyword(at.emoticonsCache,!0,!0,at.longestEmoticonCode,o.emoticonsCompat,i)?(o.emoticonsCompat&&(pt=u.find("img[data-sceditor-emoticon]")),/^\s$/.test(i)&&o.emoticonsCompat):void 0},rt=function(){if(pt.length){var t,n,i,r,o,a,s=at.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009]+/;pt=e.map(pt,function(u){return u&&u.parentNode?e.contains(s,u)?(t=u.previousSibling,n=u.nextSibling,o=t.nodeValue,null===o&&(o=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(i=u.parentNode,r=y.cloneSelected(),a=r.startContainer,o+=e(u).data("sceditor-emoticon"),a===n?l=o.length+r.startOffset:a===s&&s.childNodes[r.startOffset]===n?l=o.length:a===t&&(l=r.startOffset),n&&3===n.nodeType||(n=i.insertBefore(i.ownerDocument.createTextNode(""),n)),n.insertData(0,o),i.removeChild(t),i.removeChild(u),l!==!1&&(r.setStart(n,l),r.collapse(!0),y.selectRange(r)),null):u):u:null})}},at.emoticons=function(t){return t||t===!1?(o.emoticonsEnabled=t,t?(u.keypress(it),at.sourceMode()||(y.saveRange(),M(u[0]),pt=u.find("img[data-sceditor-emoticon]"),y.restoreRange())):(u.find("img[data-sceditor-emoticon]").replaceWith(function(){return e(this).data("sceditor-emoticon")}),pt=[],u.unbind("keypress",it)),this):o.emoticonsEnabled},at.css=function(t){return C||(C=e('<style id="#inline" />').appendTo(d.find("head"))[0]),"string"!=typeof t?C.styleSheet?C.styleSheet.cssText:C.innerHTML:(C.styleSheet?C.styleSheet.cssText=t:C.innerHTML=t,this)},z=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},i={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},r={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},o=e.which,a=i[o]||String.fromCharCode(o).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),r[o]?a=r[o]:n[a]&&(a=n[a])),a&&(16>o||o>18)&&t.push(a),t=t.join("+"),ht[t]?ht[t].call(at):void 0},at.addShortcut=function(e,t){return e=e.toLowerCase(),ht[e]="string"==typeof t?function(){return E(s.find(".sceditor-button-"+t),at.commands[t]),!1}:t,this},at.removeShortcut=function(e){return delete ht[e.toLowerCase()],this},q=function(n){var i,r,a,s,l;if(!e.sceditor.ie&&!o.disableBlockRemove&&8===n.which&&(s=y.selectedRange())&&(t.getSelection?(i=s.startContainer,r=s.startOffset):(i=s.parentElement(),a=d[0].selection.createRange(),a.moveToElementText(i),a.setEndPoint("EndToStart",s),r=a.text.length),0===r&&(l=ot()))){for(;i!==l;){for(;i.previousSibling;)if(i=i.previousSibling,3!==i.nodeType||i.nodeValue)return;if(!(i=i.parentNode))return}if(l&&!e(l).is("body"))return at.clearBlockFormatting(l),!1}},ot=function(){for(var t=w;!e.sceditor.dom.hasStyling(t);)if(!(t=t.parentNode)||e(t).is("body"))return;return t},at.clearBlockFormatting=function(t){return t=t||ot(),!t||e(t).is("body")?this:(y.saveRange(),m=null,t.className="",e(t).attr("style",""),e(t).is("p,div")||e.sceditor.dom.convertElement(t,"p"),y.restoreRange(),this)},S()},e.sceditor.ie=function(){var e,i=3,r=n.createElement("div"),o=r.getElementsByTagName("i");do r.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return n.documentMode&&n.all&&t.atob&&(i=10),4===i&&n.documentMode&&(i=11),i>4?i:e}(),e.sceditor.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(navigator.userAgent),e.sceditor.isWysiwygSupported=function(){var t,n,i=e('<div contenteditable="true">')[0].contentEditable,r="undefined"!=typeof i&&"inherit"!==i,o=navigator.userAgent;return r?(n=/Opera Mobi|Opera Mini/i.test(o),/Android/i.test(o)&&(n=!0,/Safari/.test(o)&&(t=/Safari\/(\d+)/.exec(o),n=t&&t[1]?t[1]<534:!0)),/ Silk\//i.test(o)&&(t=/AppleWebKit\/(\d+)/.exec(o),n=t&&t[1]?t[1]<534:!0),e.sceditor.ios&&(n=!/OS [5-9](_\d)+ like Mac OS X/i.test(o)),/fennec/i.test(o)&&(n=!1),/OneBrowser/i.test(o)&&(n=!1),"UCWEB"===navigator.vendor&&(n=!1),!n):!1}(),e.sceditor.regexEscape=function(e){return e.replace(/[\$\?\[\]\.\*\(\)\|\\]/g,"\\$&")},e.sceditor.escapeEntities=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />"):e},e.sceditor.locale={},e.sceditor.commands={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(t,n,i){for(var o=t.opts.fonts.split(","),a=e("<div />"),s=function(){return i(e(this).data("font")),t.closeDropDown(!0),!1},l=0;l<o.length;l++)a.append(r("fontOpt",{font:o[l]},!0).click(s));t.createDropDown(n,"font-picker",a)},exec:function(t){var n=this;e.sceditor.command.get("font")._dropDown(n,t,function(e){n.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,n,i){for(var o=e("<div />"),a=function(n){i(e(this).data("size")),t.closeDropDown(!0),n.preventDefault()},s=1;7>=s;s++)o.append(r("sizeOpt",{size:s},!0).click(a));t.createDropDown(n,"fontsize-picker",o)},exec:function(t){var n=this;e.sceditor.command.get("size")._dropDown(n,t,function(e){n.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,n,i){var r,o,a,s,l={r:255,g:255,b:255},c=e("<div />"),u=t.opts.colors?t.opts.colors.split("|"):new Array(21),d=[],f=e.sceditor.command.get("color");if(!f._htmlCache){for(r=0;r<u.length;++r){for(s=u[r]?u[r].split(","):new Array(21),d.push('<div class="sceditor-color-column">'),o=0;o<s.length;++o)a=s[o]||"#"+l.r.toString(16)+l.g.toString(16)+l.b.toString(16),d.push('<a href="#" class="sceditor-color-option" style="background-color: '+a+'" data-color="'+a+'"></a>'),0===o%5?(l.g-=51,l.b=255):l.b-=51;d.push("</div>"),0===r%5?(l.r-=51,l.g=255,l.b=255):(l.g=255,l.b=255)}f._htmlCache=d.join("")}c.append(f._htmlCache).find("a").click(function(n){i(e(this).attr("data-color")),t.closeDropDown(!0),n.preventDefault()}),t.createDropDown(n,"color-picker",c)},exec:function(t){var n=this;e.sceditor.command.get("color")._dropDown(n,t,function(e){n.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n=this,i=r("pastetext",{label:n._("Paste your text inside the following box:"),insert:n._("Insert")},!0);i.find(".button").click(function(e){t=i.find("#txt").val(),t&&n.wysiwygEditorInsertText(t),n.closeDropDown(!0),e.preventDefault()}),n.createDropDown(e,"pastetext",i)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},table:{exec:function(t){var n=this,i=r("table",{rows:n._("Rows:"),cols:n._("Cols:"),insert:n._("Insert")},!0);i.find(".button").click(function(t){var r=i.find("#rows").val()-0,o=i.find("#cols").val()-0,a="<table>";if(!(1>r||1>o)){for(var s=0;r>s;s++){a+="<tr>";for(var l=0;o>l;l++)a+="<td>"+(e.sceditor.ie?"":"<br />")+"</td>";a+="</tr>"}a+="</table>",n.wysiwygEditorInsertHtml(a),n.closeDropDown(!0),t.preventDefault()}}),n.createDropDown(t,"inserttable",i)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>","<br /></code>")},tooltip:"Code"},image:{exec:function(e){var t=this,n=r("image",{url:t._("URL:"),width:t._("Width (optional):"),height:t._("Height (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#image").val(),r=n.find("#width").val(),o=n.find("#height").val(),a="";r&&(a+=' width="'+r+'"'),o&&(a+=' height="'+o+'"'),i&&"http://"!==i&&t.wysiwygEditorInsertHtml("<img"+a+' src="'+i+'" />'),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertimage",n)},tooltip:"Insert an image"},email:{exec:function(e){var t=this,n=r("email",{label:t._("E-mail:"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#email").val();i&&(t.focus(),t.getRangeHelper().selectedHtml()?t.execCommand("createlink","mailto:"+i):t.wysiwygEditorInsertHtml('<a href="mailto:'+i+'">'+i+"</a>")),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertemail",n)},tooltip:"Insert an email"},link:{exec:function(e){var t=this,n=r("link",{url:t._("URL:"),desc:t._("Description (optional):"),ins:t._("Insert")},!0);n.find(".button").click(function(e){var i=n.find("#link").val(),r=n.find("#des").val();i&&"http://"!==i&&(t.focus(),!t.getRangeHelper().selectedHtml()||r?(r||(r=i),t.wysiwygEditorInsertHtml('<a href="'+i+'">'+r+"</a>")):t.execCommand("createlink",i)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertlink",n)},tooltip:"Insert a link"},unlink:{state:function(){var t=e(this.currentNode());return t.is("a")||t.parents("a").length>0?0:-1},exec:function(){var t=e(this.currentNode()),n=t.is("a")?t:t.parents("a").first();n.length&&n.replaceWith(n.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(t,n,i){var r="<blockquote>",o="</blockquote>";n?(i=i?"<cite>"+i+"</cite>":"",r=r+i+n+o,o=null):""===this.getRangeHelper().selectedHtml()&&(o=e.sceditor.ie?"":"<br />"+o),this.wysiwygEditorInsertHtml(r,o)},tooltip:"Insert a Quote"},emoticon:{exec:function(t){var n=this,i=function(r){var o=n.opts.emoticonsCompat,a=n.getRangeHelper(),s=o&&" "!==a.getOuterText(!0,1)?" ":"",l=o&&" "!==a.getOuterText(!1,1)?" ":"",c=e("<div />"),u=e("<div />").appendTo(c),d=e.extend({},n.opts.emoticons.dropdown,r?n.opts.emoticons.more:{}),f=0;return e.each(d,function(){f++}),f=Math.sqrt(f),e.each(d,function(t,i){u.append(e("<img />").attr({src:i.url||i,alt:t,title:i.tooltip||t}).click(function(){return n.insert(s+e(this).attr("alt")+l,null,!1).closeDropDown(!0),!1})),u.children().length>=f&&(u=e("<div />").appendTo(c))}),r||c.append(e(n._('<a class="sceditor-more">{0}</a>',n._("More"))).click(function(){return n.createDropDown(t,"more-emoticons",i(!0)),!1})),c};n.createDropDown(t,"emoticons",i(!1))},txtExec:function(t){e.sceditor.command.get("emoticon").exec.call(this,t)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(e,t,n){var i,o=r("youtubeMenu",{label:e._("Video URL:"),insert:e._("Insert")},!0);o.find(".button").click(function(t){var r=o.find("#link").val().replace("http://","");""!==r&&(i=r.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/),i&&(r=i[1]),/^[a-zA-Z0-9_\-]{11}$/.test(r)?n(r):alert("Invalid YouTube video")),e.closeDropDown(!0),t.preventDefault()}),e.createDropDown(t,"insertlink",o)},exec:function(t){var n=this;e.sceditor.command.get("youtube")._dropDown(n,t,function(e){n.wysiwygEditorInsertHtml(r("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),i=t.getMonth()+1,r=t.getDate();return 2e3>n&&(n=1900+n),10>i&&(i="0"+i),10>r&&(r="0"+r),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,i).replace(/day/i,r)},exec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},txtExec:function(){this.insertText(e.sceditor.command.get("date")._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),i=e.getSeconds();return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),t+":"+n+":"+i},exec:function(){this.insertText(e.sceditor.command.get("time")._time())},txtExec:function(){this.insertText(e.sceditor.command.get("time")._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("ltr"===i.css("direction")?i.css("direction",""):i.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),i=e(n);t.focus(),(n&&!i.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),i=e(n),n&&!i.is("body")))&&("rtl"===i.css("direction")?i.css("direction",""):i.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}},e.sceditor.rangeHelper=function(t,n){var i,r,o,a,s,l=!0,c="sceditor-start-marker",u="sceditor-end-marker",d="character",f=this;o=function(e,t){r=t||e.contentDocument||e.document,i=e,l=!!e.getSelection}(t,n),f.insertHTML=function(e,t){var n,i,o=f.selectedRange();if(t&&(e+=f.selectedHtml()+t),l){for(i=r.createElement("div"),n=r.createDocumentFragment(),i.innerHTML=e;i.firstChild;)n.appendChild(i.firstChild);f.insertNode(n)}else{if(!o)return!1;o.pasteHTML(e)}},f.insertNode=function(e,t){if(l){var n,i,o=r.createDocumentFragment(),a=f.selectedRange();if(!a)return!1;if(o.appendChild(e),t&&(o.appendChild(a.extractContents()),o.appendChild(t)),i=o.lastChild,!i)return;a.deleteContents(),a.insertNode(o),n=r.createRange(),n.setStartAfter(i),f.selectRange(n)}else f.insertHTML(e.outerHTML,t?t.outerHTML:null)},f.cloneSelected=function(){var e=f.selectedRange();return e?l?e.cloneRange():e.duplicate():void 0},f.selectedRange=function(){var e,t,n=l?i.getSelection():r.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=r.body;t.firstChild;)t=t.firstChild;e=r.createRange(),e.setStart(t,0),n.addRange(e)}return l&&(e=n.getRangeAt(0)),l||"Control"===n.type||(e=n.createRange()),s(e)?e:null}},s=function(e){var t;return e&&e.parentElement&&(t=e.parentElement())?t.ownerDocument===r:!0},f.hasSelection=function(){var e,t=l?i.getSelection():r.selection;return l||!t?t&&t.rangeCount>0:(e=t.createRange(),e&&s(e))},f.selectedHtml=function(){var e,t=f.selectedRange();return t?!l&&""!==t.text&&t.htmlText?t.htmlText:l?(e=r.createElement("div"),e.appendChild(t.cloneContents()),e.innerHTML):"":""},f.parentNode=function(){var e=f.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},f.getFirstBlockParent=function(t){var n=function(t){return e.sceditor.dom.isInline(t,!0)?(t=t?t.parentNode:null,t?n(t):null):t};return n(t||f.parentNode())},f.insertNodeAt=function(e,t){var n=f.selectedRange(),i=f.cloneSelected();return i?(i.collapse(e),i.insertNode?i.insertNode(t):i.pasteHTML(t.outerHTML),f.selectRange(n),void 0):!1},a=function(e){f.removeMarker(e);var t=r.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},f.insertMarkers=function(){f.insertNodeAt(!0,a(c)),f.insertNodeAt(!1,a(u))},f.getMarker=function(e){return r.getElementById(e)},f.removeMarker=function(e){var t=f.getMarker(e);t&&t.parentNode.removeChild(t)},f.removeMarkers=function(){f.removeMarker(c),f.removeMarker(u)},f.saveRange=function(){f.insertMarkers()},f.selectRange=function(e){l?(i.getSelection().removeAllRanges(),i.getSelection().addRange(e)):e.select()},f.restoreRange=function(){var e,t=f.selectedRange(),n=f.getMarker(c),i=f.getMarker(u);return n&&i&&t?(l?(t=r.createRange(),t.setStartBefore(n),t.setEndAfter(i),f.selectRange(t)):(t=r.body.createTextRange(),e=r.body.createTextRange(),e.moveToElementText(n),t.setEndPoint("StartToStart",e),t.moveStart(d,0),e.moveToElementText(i),t.setEndPoint("EndToStart",e),t.moveEnd(d,0),f.selectRange(t)),f.removeMarkers(),void 0):!1},f.selectOuterText=function(e,t){var n=f.cloneSelected();return n?(n.collapse(!1),l?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(d,0-e),n.moveEnd(d,t)),f.selectRange(n),void 0):!1},f.getOuterText=function(e,t){var n="",i=f.cloneSelected();return i?(i.collapse(!1),e?l?(n=i.startContainer.textContent.substr(0,i.startOffset),n=n.substr(Math.max(0,n.length-t))):(i.moveStart(d,0-t),n=i.text):l?n=i.startContainer.textContent.substr(i.startOffset,t):(i.moveEnd(d,t),n=i.text),n):""},f.raplaceKeyword=function(t,n,i,r,o,a){i||t.sort(function(e,t){return e.length-t.length});var s,c,u,d,h,p,m,g=t.length,y=r||t[g-1][0].length;if(o){if(!l)return!1;++y}for(s=f.getOuterText(!0,y),c=s+(null!=a?a:""),n&&(c+=f.getOuterText(!1,y));g--;)if(m=t[g][0],h=new RegExp("(?:[\\s    ])"+e.sceditor.regexEscape(m)+"(?=[\\s    ])"),p=s.length-1-m.length,o&&--p,p=Math.max(0,p),(u=o?c.substr(p).search(h):c.indexOf(m,p))>-1){if(o&&(u+=p+1),u>s.length||u+m.length+(o?1:0)<s.length)continue;return d=s.length-u,f.selectOuterText(d,m.length-d-(null!=a&&/^\S/.test(a)?1:0)),f.insertHTML(t[g][1]),!0}return!1},f.compare=function(e,t){return t||(t=f.selectedRange()),e&&t?l?0===e.compareBoundaryPoints(Range.END_TO_END,t)&&0===e.compareBoundaryPoints(Range.START_TO_START,t):s(e)&&s(t)&&0===e.compareEndPoints("EndToEnd",t)&&0===e.compareEndPoints("StartToStart",t):!e&&!t}},e.sceditor.dom={traverse:function(e,t,n,i,r){if(e)for(e=r?e.lastChild:e.firstChild;null!=e;){var o=r?e.previousSibling:e.nextSibling;if(!n&&t(e)===!1)return!1;if(!i&&this.traverse(e,t,n,i,r)===!1)return!1;if(n&&t(e)===!1)return!1;e=o}},rTraverse:function(e,t,n,i){this.traverse(e,t,n,i,!0)},parseHTML:function(t,i){var r=[],o=(i||n).createElement("div");return o.innerHTML=t,e.merge(r,o.childNodes),r},hasStyling:function(t){var n=e(t);return t&&(!n.is("p,div")||t.className||n.attr("style")||!e.isEmptyObject(n.data()))},convertElement:function(t,n){for(var i,r,o=t.attributes.length,a=t.ownerDocument.createElement(n);o--;)r=t.attributes[o],(!e.sceditor.ie||r.specified)&&(e.sceditor.ie<8&&/style/i.test(r.name)?t.style.cssText=t.style.cssText:a.setAttribute(r.name,r.value));for(;i=t.firstChild;)a.appendChild(i);return t.parentNode.replaceChild(a,t),a},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",isInline:function(t,n){return t&&1===t.nodeType?(t=t.tagName.toLowerCase(),"code"===t?!n:e.sceditor.dom.blockLevelList.indexOf("|"+t+"|")<0):!0},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var t=this,n=function(e){for(;t.isInline(e.parentNode,!0);)e=e.parentNode;return e};t.traverse(e,function(e){if(1===e.nodeType&&!t.isInline(e,!0)&&t.isInline(e.parentNode,!0)){var i=n(e),r=i.parentNode,o=t.extractContents(i,e),a=e;t.copyCSS(i,a),r.insertBefore(o,i),r.insertBefore(a,i)}})},findCommonAncestor:function(t,n){return e(t).parents().has(e(n)).first()},getSibling:function(t,n){var i;return t?(i=t[n?"previousSibling":"nextSibling"])?i:e.sceditor.dom.getSibling(t.parentNode,n):null},removeWhiteSpace:function(t,n){for(var i,r,o,a,s,l,c,u,d=e.sceditor.dom.getSibling,f=e.sceditor.dom.isInline,h=t.firstChild,p=/[\t ]+/g,m=/[\t\n\r ]+/g;h;){if(l=h.nextSibling,i=h.nodeValue,r=h.nodeType,1===r&&h.firstChild&&(s=e(h).css("whiteSpace"),/pre(?:\-wrap)?$/i.test(s)||e.sceditor.dom.removeWhiteSpace(h,/line$/i.test(s))),3===r&&i){for(o=d(h),a=d(h,!0),u=a,c=!1;e(u).hasClass("sceditor-ignore");)u=d(u,!0);if(f(h)&&u){for(;u.lastChild;)u=u.lastChild;c=3===u.nodeType?/[\t\n\r ]$/.test(u.nodeValue):!f(u)}f(h)&&a&&f(a)&&!c||(i=i.replace(/^[\t\n\r ]+/,"")),f(h)&&o&&f(o)||(i=i.replace(/[\t\n\r ]+$/,"")),i.length?h.nodeValue=i.replace(n?p:m," "):t.removeChild(h)}h=l}},extractContents:function(e,t){var n=this,i=n.findCommonAncestor(e,t),r=i?i[0]:null,o=!1,a=!1;return function s(i){var r=e.ownerDocument.createDocumentFragment();return n.traverse(i,function(n){if(a||n===t&&o)return a=!0,!1;n===e&&(o=!0);var i,l;o?jQuery.contains(n,t)&&1===n.nodeType?(i=s(n),l=n.cloneNode(!1),l.appendChild(i),r.appendChild(l)):r.appendChild(n):jQuery.contains(n,e)&&1===n.nodeType&&(i=s(n),l=n.cloneNode(!1),l.appendChild(i),r.appendChild(l))},!1),r}(r)}},e.sceditor.plugins={},e.sceditor.PluginManager=function(t){var n=this,i=[],r=t,o=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},a=function(e,t){e=[].slice.call(e);
for(var n=i.length,a=o(e.shift());n--;)if(a in i[n]){if(t)return i[n][a].apply(r,e);i[n][a].apply(r,e)}};n.call=function(){a(arguments,!1)},n.callOnlyFirst=function(){return a(arguments,!0)},n.iter=function(e){return e=o(e),function(){var t=i.length;return{callNext:function(n){for(;t--;)if(i[t]&&e in i[t])return i[t].apply(r,n)},hasNext:function(){for(var n=t;n--;)if(i[n]&&e in i[n])return!0;return!1}}}()},n.hasHandler=function(e){var t=i.length;for(e=o(e);t--;)if(e in i[t])return!0;return!1},n.exsists=function(t){return t in e.sceditor.plugins?(t=e.sceditor.plugins[t],"function"==typeof t&&"object"==typeof t.prototype):!1},n.isRegistered=function(t){var r=i.length;if(!n.exsists(t))return!1;for(;r--;)if(i[r]instanceof e.sceditor.plugins[t])return!0;return!1},n.register=function(t){return n.exsists(t)?(t=new e.sceditor.plugins[t],i.push(t),"init"in t&&t.init.apply(r),!0):!1},n.deregister=function(t){var o,a=i.length,s=!1;if(!n.isRegistered(t))return!1;for(;a--;)i[a]instanceof e.sceditor.plugins[t]&&(o=i.splice(a,1)[0],s=!0,"destroy"in o&&o.destroy.apply(r));return s},n.destroy=function(){for(var e=i.length;e--;)"destroy"in i[e]&&i[e].destroy.apply(r);i=null,r=null}},e.sceditor.command={get:function(t){return e.sceditor.commands[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.commands[t]||{},n),n.remove=function(){e.sceditor.command.remove(t)},e.sceditor.commands[t]=n,this):!1},remove:function(t){return e.sceditor.commands[t]&&delete e.sceditor.commands[t],this}},e.sceditor.defaultOptions={toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"jquery.sceditor.default.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"emoticons/smile.png",":angel:":"emoticons/angel.png",":angry:":"emoticons/angry.png","8-)":"emoticons/cool.png",":'(":"emoticons/cwy.png",":ermm:":"emoticons/ermm.png",":D":"emoticons/grin.png","<3":"emoticons/heart.png",":(":"emoticons/sad.png",":O":"emoticons/shocked.png",":P":"emoticons/tongue.png",";)":"emoticons/wink.png"},more:{":alien:":"emoticons/alien.png",":blink:":"emoticons/blink.png",":blush:":"emoticons/blush.png",":cheerful:":"emoticons/cheerful.png",":devil:":"emoticons/devil.png",":dizzy:":"emoticons/dizzy.png",":getlost:":"emoticons/getlost.png",":happy:":"emoticons/happy.png",":kissing:":"emoticons/kissing.png",":ninja:":"emoticons/ninja.png",":pinch:":"emoticons/pinch.png",":pouty:":"emoticons/pouty.png",":sick:":"emoticons/sick.png",":sideways:":"emoticons/sideways.png",":silly:":"emoticons/silly.png",":sleeping:":"emoticons/sleeping.png",":unsure:":"emoticons/unsure.png",":woot:":"emoticons/w00t.png",":wassat:":"emoticons/wassat.png"},hidden:{":whistling:":"emoticons/whistling.png",":love:":"emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,getHtmlHandler:null,getTextHandler:null,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}},e.fn.sceditor=function(t){var n,i=[];return t=t||{},t.runWithoutWysiwygSupport||e.sceditor.isWysiwygSupported?(this.each(function(){n=this.jquery?this:e(this),n.parents(".sceditor-container").length>0||("state"===t?i.push(!!n.data("sceditor")):"instance"===t?i.push(n.data("sceditor")):n.data("sceditor")||new e.sceditor(this,t))}),i.length?1===i.length?i[0]:e(i):this):void 0}}(jQuery,window,document),function(e,t,n){"use strict";e.sceditor.BBCodeParser=function(t){if(!(this instanceof e.sceditor.BBCodeParser))return new e.sceditor.BBCodeParser(t);var i,r,o,a,s,l,c,u,d,f,h,p,m,g,y,v=this,b={open:"open",content:"content",newline:"newline",close:"close"},x=function(e,t,n,i,r,o){var a=this;a.type=e,a.name=t,a.val=n,a.attrs=i||{},a.children=r||[],a.closing=o||null};x.prototype={clone:function(e){var t=this;return new x(t.type,t.name,t.val,t.attrs,e?t.children:[],t.closing?t.closing.clone():null)},splitAt:function(t){var n,i=this,r=0,o=i.children.length;if("number"!=typeof object&&(t=e.inArray(t,i.children)),0>t||t>o)return null;for(;o--;)o>=t?r++:o=0;return n=i.clone(),n.children=i.children.splice(t,r),n}},i=function(){v.opts=e.extend({},e.sceditor.BBCodeParser.defaults,t),v.bbcodes=e.sceditor.plugins.bbcode.bbcodes},v.tokenize=function(e){var t,n,i,o=[],a=[{type:"close",regex:/^\[\/[^\[\]]+\]/},{type:"open",regex:/^\[[^\[\]]+\]/},{type:"newline",regex:/^(\r\n|\r|\n)/},{type:"content",regex:/^([^\[\r\n]+|\[)/}];a.reverse();e:for(;e.length;){for(i=a.length;i--;)if(n=a[i].type,(t=e.match(a[i].regex))&&t[0]){o.push(r(n,t[0])),e=e.substr(t[0].length);continue e}e.length&&o.push(r(b.content,e)),e=""}return o},r=function(t,n){var i,r,a;return"open"===t&&(i=n.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))?(a=g(i[1]),i[2]&&(i[2]=e.trim(i[2]))&&(r=o(i[2]))):"close"===t&&(i=n.match(/\[\/([^\[\]]+)\]/))?a=g(i[1]):"newline"===t&&(a="#newline"),a&&("open"!==t&&"close"!==t||e.sceditor.plugins.bbcode.bbcodes[a])||(t="content",a="#"),new x(t,a,n,r)},o=function(t){var n,i=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,r=e.sceditor.plugins.bbcode.stripQuotes,o={};if("="===t.charAt(0)&&t.indexOf("=",1)<0)o.defaultattr=r(t.substr(1));else for("="===t.charAt(0)&&(t="defaultattr"+t);n=i.exec(t);)o[g(n[1])]=r(n[3])||n[4];return o},v.parse=function(e,t){var n=a(v.tokenize(e));return v.opts.fixInvalidChildren&&d(n),v.opts.removeEmptyTags&&u(n),v.opts.fixInvalidNesting&&l(n),s(n,null,t),v.opts.removeEmptyTags&&u(n),n},p=function(e,t,n){for(var i=n.length;i--;)if(n[i].type===t&&n[i].name===e)return!0;return!1},c=function(t,n){var i=t?v.bbcodes[t.name]:null,r=i?i.allowedChildren:null;return v.opts.fixInvalidChildren&&r?r&&e.inArray(n.name||"#",r)<0?!1:!0:!0},a=function(t){for(var n,i,r,o,a,s,l,c=[],u=[],d=[],f=function(){return y(d)},h=function(e){f()?f().children.push(e):u.push(e)},m=function(t){return f()&&(i=v.bbcodes[f().name])&&i.closedBy&&e.inArray(t,i.closedBy)>-1};n=t.shift();){switch(l=t[0],n.type){case b.open:m(n.name)&&d.pop(),h(n),i=v.bbcodes[n.name],i&&i.isSelfClosing||!i.closedBy&&!p(n.name,b.close,t)?i&&i.isSelfClosing||(n.type=b.content):d.push(n);break;case b.close:if(f()&&n.name!==f().name&&m("/"+n.name)&&d.pop(),f()&&n.name===f().name)f().closing=n,d.pop();else if(p(n.name,b.open,d)){for(;r=d.pop();){if(r.name===n.name){r.closing=n;break}o=r.clone(),c.length>1&&o.children.push(y(c)),c.push(o)}for(h(y(c)),a=c.length;a--;)d.push(c[a]);c.length=0}else n.type=b.content,h(n);break;case b.newline:f()&&l&&m((l.type===b.close?"/":"")+l.name)&&(l.type!==b.close||l.name!==f().name)&&(i=v.bbcodes[f().name],i&&i.breakAfter?d.pop():i&&i.isInline===!1&&v.opts.breakAfterBlock&&i.breakAfter!==!1&&d.pop()),h(n);break;default:h(n)}s=n}return u},s=function(e,t,n){var i,r,o,a,l,c,u,d,f=e.length,h=f;for(t&&(a=v.bbcodes[t.name]);h--;)if(i=e[h])if(i.type===b.newline){if(r=h>0?e[h-1]:null,o=f-1>h?e[h+1]:null,d=!1,!n&&a&&a.isSelfClosing!==!0&&(r?c||o||(a.isInline===!1&&v.opts.breakEndBlock&&a.breakEnd!==!1&&(d=!0),a.breakEnd&&(d=!0),c=d):(a.isInline===!1&&v.opts.breakStartBlock&&a.breakStart!==!1&&(d=!0),a.breakStart&&(d=!0))),r&&r.type===b.open&&(l=v.bbcodes[r.name])&&(n?l.isInline===!1&&(d=!0):(l.isInline===!1&&v.opts.breakAfterBlock&&l.breakAfter!==!1&&(d=!0),l.breakAfter&&(d=!0))),!n&&!u&&o&&o.type===b.open&&(l=v.bbcodes[o.name])&&(l.isInline===!1&&v.opts.breakBeforeBlock&&l.breakBefore!==!1&&(d=!0),l.breakBefore&&(d=!0),u=d,d)){e.splice(h,1);continue}d&&e.splice(h,1),u=!1}else i.type===b.open&&s(i.children,i,n)},l=function(t,n,i,r){var o,a,s,c,u,d,f=function(e){var t=v.bbcodes[e.name];return!t||t.isInline!==!1};for(n=n||[],r=r||t,a=0;a<t.length;a++)if((o=t[a])&&o.type===b.open){if(!f(o)&&i&&(s=y(n),d=s.splitAt(o),u=n.length>1?n[n.length-2].children:r,(c=e.inArray(s,u))>-1))return d.children.splice(e.inArray(o,d.children),1),u.splice(c+1,0,o,d),void 0;n.push(o),l(o.children,n,i||f(o),r),n.pop(o)}},d=function(e,t){for(var n,i,r=e.length;r--;)(n=e[r])&&(c(t,n)||(n.name=null,n.type=b.content,c(t,n)?(i=[r+1,0].concat(n.children),n.closing&&(n.closing.name=null,n.closing.type=b.content,i.push(n.closing)),r+=i.length-1,Array.prototype.splice.apply(e,i)):t.children.splice(r,1)),n.type===b.open&&d(n.children,n))},u=function(t){var n,i,r,o=t.length;for(r=function(e){for(var t=e.length;t--;){if(e[t].type===b.open)return!1;if(e[t].type===b.close)return!1;if(e[t].type===b.content&&e[t].val&&/\S|\u00A0/.test(e[t].val))return!1}return!0};o--;)(n=t[o])&&n.type===b.open&&(i=v.bbcodes[n.name],u(n.children),r(n.children)&&i&&!i.isSelfClosing&&!i.allowsEmpty&&t.splice.apply(t,e.merge([o,1],n.children)))},v.toHTML=function(e,t){return f(v.parse(e,t),!0)},f=function(t,i){var r,o,a,s,l,c,u,d,h=[];for(u=function(e){return(!e||("undefined"!=typeof e.isHtmlInline?e.isHtmlInline:e.isInline))!==!1};t.length>0;)if(r=t.shift()){if(r.type===b.open)d=r.children[r.children.length-1]||{},o=v.bbcodes[r.name],l=i&&u(o),a=f(r.children,!1),o&&o.html?(u(o)||!u(v.bbcodes[d.name])||o.isPreFormatted||o.skipLastLineBreak||e.sceditor.ie||(a+="<br />"),s=e.isFunction(o.html)?o.html.call(v,r,r.attrs,a):e.sceditor.plugins.bbcode.formatString(o.html,a)):s=r.val+a+(r.closing?r.closing.val:"");else{if(r.type===b.newline){if(!i){h.push("<br />");continue}c||(h.push("<div>"),(n.documentMode&&n.documentMode<8||e.sceditor.ie<8)&&h.push(" ")),e.sceditor.ie||h.push("<br />"),t.length||h.push("<br />"),h.push("</div>\n"),c=!1;continue}l=i,s=e.sceditor.escapeEntities(r.val)}l&&!c?(h.push("<div>"),c=!0):!l&&c&&(h.push("</div>\n"),c=!1),h.push(s)}return c&&h.push("</div>\n"),h.join("")},v.toBBCode=function(e,t){return h(v.parse(e,t))},h=function(t){for(var n,i,r,o,a,s,l,c,u,d,f=[];t.length>0;)if(n=t.shift())if(r=v.bbcodes[n.name],o=!(!r||r.isInline!==!1),a=r&&r.isSelfClosing,l=o&&v.opts.breakBeforeBlock&&r.breakBefore!==!1||r&&r.breakBefore,c=o&&!a&&v.opts.breakStartBlock&&r.breakStart!==!1||r&&r.breakStart,u=o&&v.opts.breakEndBlock&&r.breakEnd!==!1||r&&r.breakEnd,d=o&&v.opts.breakAfterBlock&&r.breakAfter!==!1||r&&r.breakAfter,s=(r?r.quoteType:null)||v.opts.quoteType||e.sceditor.BBCodeParser.QuoteType.auto,r||n.type!==b.open)if(n.type===b.open){if(l&&f.push("\n"),f.push("["+n.name),n.attrs){n.attrs.defaultattr&&(f.push("="+m(n.attrs.defaultattr,s,"defaultattr")),delete n.attrs.defaultattr);for(i in n.attrs)n.attrs.hasOwnProperty(i)&&f.push(" "+i+"="+m(n.attrs[i],s,i))}f.push("]"),c&&f.push("\n"),n.children&&f.push(h(n.children)),a||r.excludeClosing||(u&&f.push("\n"),f.push("[/"+n.name+"]")),d&&f.push("\n"),n.closing&&a&&f.push(n.closing.val)}else f.push(n.val);else f.push(n.val),n.children&&f.push(h(n.children)),n.closing&&f.push(n.closing.val);return f.join("")},m=function(t,n,i){var r=e.sceditor.BBCodeParser.QuoteType,o=/\s|=/.test(t);return e.isFunction(n)?n(t,i):n===r.never||n===r.auto&&!o?t:'"'+t.replace("\\","\\\\").replace('"','\\"')+'"'},y=function(e){return e.length?e[e.length-1]:null},g=function(e){return e.toLowerCase()},i()},e.sceditor.BBCodeParser.QuoteType={always:1,never:2,auto:3},e.sceditor.BBCodeParser.defaults={breakBeforeBlock:!1,breakStartBlock:!1,breakEndBlock:!1,breakAfterBlock:!0,removeEmptyTags:!0,fixInvalidNesting:!0,fixInvalidChildren:!0,quoteType:e.sceditor.BBCodeParser.QuoteType.auto},e.sceditorBBCodePlugin=e.sceditor.plugins.bbcode=function(){var t,i,r,o,a,s,l,c=this;o=e.sceditor.plugins.bbcode.formatString,c.bbcodes=e.sceditor.plugins.bbcode.bbcodes,c.stripQuotes=e.sceditor.plugins.bbcode.stripQuotes;var u={},d={},f={ul:["li","ol","ul"],ol:["li","ol","ul"],table:["tr"],tr:["td","th"],code:["br","p","div"]},h={};c.init=function(){c.opts=this.opts,t(),s(this),this.toBBCode=c.signalToSource,this.fromBBCode=c.signalToWysiwyg},s=function(t){var n=e.sceditor.command.get,i={bold:{txtExec:["[b]","[/b]"]},italic:{txtExec:["[i]","[/i]"]},underline:{txtExec:["[u]","[/u]"]},strike:{txtExec:["[s]","[/s]"]},subscript:{txtExec:["[sub]","[/sub]"]},superscript:{txtExec:["[sup]","[/sup]"]},left:{txtExec:["[left]","[/left]"]},center:{txtExec:["[center]","[/center]"]},right:{txtExec:["[right]","[/right]"]},justify:{txtExec:["[justify]","[/justify]"]},font:{txtExec:function(e){var t=this;n("font")._dropDown(t,e,function(e){t.insertText("[font="+e+"]","[/font]")})}},size:{txtExec:function(e){var t=this;n("size")._dropDown(t,e,function(e){t.insertText("[size="+e+"]","[/size]")})}},color:{txtExec:function(e){var t=this;n("color")._dropDown(t,e,function(e){t.insertText("[color="+e+"]","[/color]")})}},bulletlist:{txtExec:function(n,i){var r="";e.each(i.split(/\r?\n/),function(){r+=(r?"\n":"")+"[li]"+this+"[/li]"}),t.insertText("[ul]\n"+r+"\n[/ul]")}},orderedlist:{txtExec:function(n,i){var r="";e.each(i.split(/\r?\n/),function(){r+=(r?"\n":"")+"[li]"+this+"[/li]"}),e.sceditor.plugins.bbcode.bbcode.get(""),t.insertText("[ol]\n"+r+"\n[/ol]")}},table:{txtExec:["[table][tr][td]","[/td][/tr][/table]"]},horizontalrule:{txtExec:["[hr]"]},code:{txtExec:["[code]","[/code]"]},image:{txtExec:function(e,t){var n=prompt(this._("Enter the image URL:"),t);n&&this.insertText("[img]"+n+"[/img]")}},email:{txtExec:function(e,t){var n=t&&t.indexOf("@")>-1?null:t,i=prompt(this._("Enter the e-mail address:"),n?"":t),r=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[email="+i+"]"+r+"[/email]")}},link:{txtExec:function(e,t){var n=t&&t.indexOf("http://")>-1?null:t,i=prompt(this._("Enter URL:"),n?"http://":t),r=prompt(this._("Enter the displayed text:"),n||i)||i;i&&this.insertText("[url="+i+"]"+r+"[/url]")}},quote:{txtExec:["[quote]","[/quote]"]},youtube:{txtExec:function(e){var t=this;n("youtube")._dropDown(t,e,function(e){t.insertText("[youtube]"+e+"[/youtube]")})}},rtl:{txtExec:["[rtl]","[/rtl]"]},ltr:{txtExec:["[ltr]","[/ltr]"]}};t.commands=e.extend(!0,{},i,t.commands)},t=function(){e.each(c.bbcodes,function(t){c.bbcodes[t].tags&&e.each(c.bbcodes[t].tags,function(e,n){var i=c.bbcodes[t].isInline===!1;u[e]=u[e]||{},u[e][i]=u[e][i]||{},u[e][i][t]=n}),c.bbcodes[t].styles&&e.each(c.bbcodes[t].styles,function(e,n){var i=c.bbcodes[t].isInline===!1;d[i]=d[i]||{},d[i][e]=d[i][e]||{},d[i][e][t]=n})})},a=function(t,n){var i,r,o,a,s,l=t.style;return l?(h[n]||(h[n]=e.camelCase(n)),s=h[n],"text-align"===n?(i=e(t),o=l.direction,a=l[s]||i.css(n),i.parent().css(n)===a||"block"!==i.css("display")||i.is("hr")||i.is("th")||(r=a),o&&r&&(/right/i.test(r)&&"rtl"===o||/left/i.test(r)&&"ltr"===o)?null:r):l[s]):null},i=function(t,n,i){var r;return i=!!i,d[i]?(e.each(d[i],function(i,s){r=a(t[0],i),r&&a(t.parent()[0],i)!==r&&e.each(s,function(i,a){(!a||e.inArray(r.toString(),a)>-1)&&(n=e.isFunction(c.bbcodes[i].format)?c.bbcodes[i].format.call(c,t,n):o(c.bbcodes[i].format,n))})}),n):n},r=function(t,n,i){var r,a=t[0],s=a.nodeName.toLowerCase();if(i=!!i,u[s]&&u[s][i]&&e.each(u[s][i],function(i,a){(!a||(r=!1,e.each(a,function(n,i){return!t.attr(n)||i&&e.inArray(t.attr(n),i)<0?void 0:(r=!0,!1)}),r))&&(n=e.isFunction(c.bbcodes[i].format)?c.bbcodes[i].format.call(c,t,n):o(c.bbcodes[i].format,n))}),i&&(!e.sceditor.dom.isInline(a,!0)||"br"===s)){for(var l=a.parentNode,d=l.lastChild,f=a.previousSibling,h=e.sceditor.dom.isInline(l,!0);f&&e(f).hasClass("sceditor-ignore");)f=f.previousSibling;for(;e(d).hasClass("sceditor-ignore");)d=d.previousSibling;(h||d!==a||"li"===s||"br"===s&&e.sceditor.ie)&&(n+="\n"),"br"!==s&&f&&"br"!==f.nodeName.toLowerCase()&&e.sceditor.dom.isInline(f,!0)&&(n="\n"+n)}return n},c.signalToSource=function(t,i){var r,o,a=new e.sceditor.BBCodeParser(c.opts.parserOptions);return i||("string"==typeof t?(r=e("<div />").css("visibility","hidden").appendTo(n.body).html(t),i=r):i=e(t)),i&&i.jquery?(e.sceditor.dom.removeWhiteSpace(i[0]),o=c.elementToBbcode(i),r&&r.remove(),o=a.toBBCode(o,!0),c.opts.bbcodeTrim&&(o=e.trim(o)),o):""},c.elementToBbcode=function(t){return function n(t,o){var a="";return e.sceditor.dom.traverse(t,function(t){var s=e(t),l="",c=t.nodeType,u=t.nodeName.toLowerCase(),d=f[u],h=t.firstChild,p=!0;if("object"==typeof o&&(p=e.inArray(u,o)>-1,s.is("img")&&s.data("sceditor-emoticon")&&(p=!0),p||(d=o)),3===c||1===c)if(1===c){if(s.hasClass("sceditor-ignore"))return;if(s.hasClass("sceditor-nlf")&&(!h||!e.sceditor.ie&&1===t.childNodes.length&&/br/i.test(h.nodeName)))return;"iframe"!==u&&(l=n(t,d)),p?("code"!==u&&(l=i(s,l),l=r(s,l),l=i(s,l,!0)),a+=r(s,l,!0)):a+=l}else!t.wholeText||t.previousSibling&&3===t.previousSibling.nodeType?t.wholeText||(a+=t.nodeValue):a+=0===s.parents("code").length?t.wholeText.replace(/ +/g," "):t.wholeText},!1,!0),a}(t[0])},c.signalToWysiwyg=function(t,n){var i=new e.sceditor.BBCodeParser(c.opts.parserOptions),r=i.toHTML(c.opts.bbcodeTrim?e.trim(t):t);return n?l(r):r},l=function(t){var i,r,o,a=e("<div />").hide().appendTo(n.body),s=a[0];return o=function(t,i){if(!e.sceditor.dom.hasStyling(t)){if(e.sceditor.ie||1!==t.childNodes.length||!e(t.firstChild).is("br"))for(;r=t.firstChild;)s.insertBefore(r,t);if(i){var o=s.lastChild;t!==o&&e(o).is("div")&&t.nextSibling===o&&s.insertBefore(n.createElement("br"),t)}s.removeChild(t)}},s.innerHTML=t.replace(/<\/div>\n/g,"</div>"),(i=s.firstChild)&&e(i).is("div")&&o(i,!0),(i=s.lastChild)&&e(i).is("div")&&o(i),s=s.innerHTML,a.remove(),s}},e.sceditor.plugins.bbcode.stripQuotes=function(e){return e?e.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2"):e},e.sceditor.plugins.bbcode.formatString=function(){var e=arguments;return e[0].replace(/\{(\d+)\}/g,function(t,n){return"undefined"!=typeof e[n-0+1]?e[n-0+1]:"{"+n+"}"})};var i=e.sceditor.plugins.bbcode.normaliseColour=function(e){var t,n;return n=function(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)).toString(16),e.length<2?"0"+e:e)},e=e||"#000",(t=e.match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))?"#"+n(t[1])+n(t[2]-0)+n(t[3]-0):(t=e.match(/#([0-f])([0-f])([0-f])\s*?$/i))?"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]:e};e.sceditor.plugins.bbcode.bbcodes={b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n;return"font"===e[0].nodeName.toLowerCase()&&(n=e.attr("face"))||(n=e.css("font-family")),"[font="+this.stripQuotes(n)+"]"+t+"[/font]"},html:function(e,t,n){return'<font face="'+t.defaultattr+'">'+n+"</font>"}},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function(e,t){var n=e.attr("size"),i=1;return n||(n=e.css("fontSize")),n.indexOf("px")>-1?(n=n.replace("px","")-0,n>12&&(i=2),n>15&&(i=3),n>17&&(i=4),n>23&&(i=5),n>31&&(i=6),n>47&&(i=7)):i=n,"[size="+i+"]"+t+"[/size]"},html:function(e,t,n){return'<font size="'+t.defaultattr+'">'+n+"</font>"}},color:{tags:{font:{color:null}},styles:{color:null},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,r=e[0];return"font"===r.nodeName.toLowerCase()&&(n=e.attr("color"))||(n=r.style.color||e.css("color")),"[color="+i(n)+"]"+t+"[/color]"},html:function(e,t,n){return'<font color="'+i(t.defaultattr)+'">'+n+"</font>"}},ul:{tags:{ul:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ul]{0}[/ul]",html:"<ul>{0}</ul>"},list:{breakStart:!0,isInline:!1,skipLastLineBreak:!0,html:"<ul>{0}</ul>"},ol:{tags:{ol:null},breakStart:!0,isInline:!1,skipLastLineBreak:!0,format:"[ol]{0}[/ol]",html:"<ol>{0}</ol>"},li:{tags:{li:null},isInline:!1,closedBy:["/ul","/ol","/list","*","li"],format:"[li]{0}[/li]",html:"<li>{0}</li>"},"*":{isInline:!1,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:!1,isHtmlInline:!0,skipLastLineBreak:!0,format:"[table]{0}[/table]",html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:!1,skipLastLineBreak:!0,format:"[tr]{0}[/tr]",html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:!0,isInline:!1,format:"[th]{0}[/th]",html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:!0,isInline:!1,format:"[td]{0}[/td]",html:"<td>{0}</td>"},emoticon:{allowsEmpty:!0,tags:{img:{src:null,"data-sceditor-emoticon":null}},format:function(e,t){return e.data("sceditor-emoticon")+t},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:!0,isSelfClosing:!0,isInline:!1,format:"[hr]{0}",html:"<hr />"},img:{allowsEmpty:!0,tags:{img:{src:null}},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n,i,r="",o=e[0],a=function(e){return o.style?o.style[e]:null};return e.attr("data-sceditor-emoticon")?t:(n=e.attr("width")||a("width"),i=e.attr("height")||a("height"),(o.complete&&(n||i)||n&&i)&&(r="="+e.width()+"x"+e.height()),"[img"+r+"]"+e.attr("src")+"[/img]")},html:function(e,t,n){var i,r="";return"undefined"!=typeof t.width&&(r+=' width="'+t.width+'"'),"undefined"!=typeof t.height&&(r+=' height="'+t.height+'"'),t.defaultattr&&(i=t.defaultattr.split(/x/i),r=' width="'+i[0]+'"'+' height="'+(2===i.length?i[1]:i[0])+'"'),"<img"+r+' src="'+n+'" />'}},url:{allowsEmpty:!0,tags:{a:{href:null}},quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(e,t){var n=e.attr("href");return"mailto:"===n.substr(0,7)?'[email="'+n.substr(7)+'"]'+t+"[/email]":"[url="+decodeURI(n)+"]"+t+"[/url]"},html:function(e,t,n){return'<a href="'+encodeURI(t.defaultattr||n)+'">'+n+"</a>"}},email:{quoteType:e.sceditor.BBCodeParser.QuoteType.never,html:function(e,t,n){return'<a href="mailto:'+(t.defaultattr||n)+'">'+n+"</a>"}},quote:{tags:{blockquote:null},isInline:!1,quoteType:e.sceditor.BBCodeParser.QuoteType.never,format:function(t,n){var i="",r=e(t),o=r.children("cite").first();return(1===o.length||r.data("author"))&&(i=o.text()||r.data("author"),r.data("author",i),o.remove(),n=this.elementToBbcode(e(t)),i="="+i,r.prepend(o)),"[quote"+i+"]"+n+"[/quote]"},html:function(e,t,n){return t.defaultattr&&(n="<cite>"+t.defaultattr+"</cite>"+n),"<blockquote>"+n+"</blockquote>"}},code:{tags:{code:null},isInline:!1,allowedChildren:["#","#newline"],format:"[code]{0}[/code]",html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},isInline:!1,format:"[left]{0}[/left]",html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},isInline:!1,format:"[center]{0}[/center]",html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},isInline:!1,format:"[right]{0}[/right]",html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},isInline:!1,format:"[justify]{0}[/justify]",html:'<div align="justify">{0}</div>'},youtube:{allowsEmpty:!0,tags:{iframe:{"data-youtube-id":null}},format:function(e,t){return e=e.attr("data-youtube-id"),e?"[youtube]"+e+"[/youtube]":t},html:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{0}?wmode=opaque" data-youtube-id="{0}" frameborder="0" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},format:"[rtl]{0}[/rtl]",html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},format:"[ltr]{0}[/ltr]",html:'<div style="direction: ltr">{0}</div>'},ignore:{}},e.sceditor.plugins.bbcode.bbcode={get:function(t){return e.sceditor.plugins.bbcode.bbcodes[t]||null},set:function(t,n){return t&&n?(n=e.extend(e.sceditor.plugins.bbcode.bbcodes[t]||{},n),n.remove=function(){e.sceditor.plugins.bbcode.bbcode.remove(t)},e.sceditor.plugins.bbcode.bbcodes[t]=n,this):!1},rename:function(e,t){return this.hasOwnProperty(e)?(this[t]=this[e],this.remove(e),this):!1},remove:function(t){return e.sceditor.plugins.bbcode.bbcodes[t]&&delete e.sceditor.plugins.bbcode.bbcodes[t],this}},e.fn.sceditorBBCodePlugin=function(t){return t=t||{},e.isPlainObject(t)&&(t.plugins=(t.plugins?t.plugins:"")+"bbcode"),this.sceditor(t)}}(jQuery,window,document);!function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Ct.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return f(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){yn[e]||(r(t),yn[e]=!0)}function s(e,t){return function(n){return m(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(){}function u(e,t){t!==!1&&A(e),h(this,e),this._d=new Date(+e._d)}function d(e){var t=T(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function f(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pt.length>0)for(n in Pt)i=Pt[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function p(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function g(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=B(t,e),e.isBefore(t)?n=g(e,t):(n=g(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function v(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=bt.duration(n,i),b(this,r,e),this}}function b(e,t,n,i){var r=t._milliseconds,o=t._days,a=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&ht(e,"Date",ft(e,"Date")+o*n),a&&dt(e,ft(e,"Month")+a*n),i&&bt.updateOffset(e,o||a)}function x(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function k(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&S(e[i])!==S(t[i]))&&a++;return a+o}function _(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=un[e]||dn[t]||t}return e}function T(e){var t,i,r={};for(i in e)n(e,i)&&(t=_(i),t&&(r[t]=e[i]));return r}function C(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}bt[t]=function(r,o){var a,s,l=bt._locale[t],c=[];if("number"==typeof r&&(o=r,r=e),s=function(e){var t=bt().utc().set(i,e);return l.call(bt._locale,t,r||"")},null!=o)return s(o);for(a=0;n>a;a++)c.push(s(a));return c}}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function M(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function E(e,t,n){return st(bt([e,11,31+t-n]),t,n).week}function D(e){return O(e)?366:365}function O(e){return e%4===0&&e%100!==0||e%400===0}function A(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Mt]<0||e._a[Mt]>11?Mt:e._a[Et]<1||e._a[Et]>M(e._a[St],e._a[Mt])?Et:e._a[Dt]<0||e._a[Dt]>23?Dt:e._a[Ot]<0||e._a[Ot]>59?Ot:e._a[At]<0||e._a[At]>59?At:e._a[Nt]<0||e._a[Nt]>999?Nt:-1,e._pf._overflowDayOfYear&&(St>t||t>Et)&&(t=Et),e._pf.overflow=t)}function N(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function L(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){for(var t,n,i,r,o=0;o<e.length;){for(r=L(e[o]).split("-"),t=r.length,n=L(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=H(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&k(r,n,!0)>=t-1)break;t--}o++}return null}function H(e){var t=null;if(!Lt[e]&&Ht)try{t=bt.locale(),require("./locale/"+e),bt.locale(t)}catch(n){}return Lt[e]}function B(e,t){return t._isUTC?bt(e).zone(t._offset||0):bt(e).local()}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,i=e.match(Ft);for(t=0,n=i.length;n>t;t++)i[t]=gn[i[t]]?gn[i[t]]:I(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function F(e,t){return e.isValid()?(t=j(t,e.localeData()),fn[t]||(fn[t]=R(t)),fn[t](e)):e.localeData().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(jt.lastIndex=0;i>=0&&jt.test(e);)e=e.replace(jt,n),jt.lastIndex=0,i-=1;return e}function W(e,t){var n,i=t._strict;switch(e){case"Q":return Jt;case"DDDD":return Kt;case"YYYY":case"GGGG":case"gggg":return i?en:qt;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?tn:Yt;case"S":if(i)return Jt;case"SS":if(i)return Zt;case"SSS":if(i)return Kt;case"DDD":return zt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $t;case"a":case"A":return t._locale._meridiemParse;case"X":return Gt;case"Z":case"ZZ":return Vt;case"T":return Xt;case"SSSS":return Ut;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Zt:Wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Wt;case"Do":return Qt;default:return n=new RegExp(Q(G(e.replace("\\","")),"i"))}}function z(e){e=e||"";var t=e.match(Vt)||[],n=t[t.length-1]||[],i=(n+"").match(ln)||["-",0,0],r=+(60*i[1])+S(i[2]);return"+"===i[0]?-r:r}function q(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[Mt]=3*(S(t)-1));break;case"M":case"MM":null!=t&&(r[Mt]=S(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t),null!=i?r[Mt]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Et]=S(t));break;case"Do":null!=t&&(r[Et]=S(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=S(t));break;case"YY":r[St]=bt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[St]=S(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":r[Dt]=S(t);break;case"m":case"mm":r[Ot]=S(t);break;case"s":case"ss":r[At]=S(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Nt]=S(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=z(t);
break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=S(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=bt.parseTwoDigitYear(t)}}function Y(e){var n,i,r,o,a,s,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,i=t(n.GG,e._a[St],st(bt(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,i=t(n.gg,e._a[St],st(bt(),a,s).year),r=t(n.w,1),null!=n.d?(o=n.d,a>o&&++r):o=null!=n.e?n.e+a:a),l=lt(i,r,o,s,a),e._a[St]=l.year,e._dayOfYear=l.dayOfYear}function U(e){var n,i,r,o,a=[];if(!e._d){for(r=V(e),e._w&&null==e._a[Et]&&null==e._a[Mt]&&Y(e),e._dayOfYear&&(o=t(e._a[St],r[St]),e._dayOfYear>D(o)&&(e._pf._overflowDayOfYear=!0),i=it(o,0,e._dayOfYear),e._a[Mt]=i.getUTCMonth(),e._a[Et]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=a[n]=r[n];for(;7>n;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?it:nt).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function $(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],U(e))}function V(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function X(e){if(e._f===bt.ISO_8601)return void Z(e);e._a=[],e._pf.empty=!0;var t,n,i,r,o,a=""+e._i,s=a.length,l=0;for(i=j(e._f,e._locale).match(Ft)||[],t=0;t<i.length;t++)r=i[t],n=(a.match(W(r,e))||[])[0],n&&(o=a.substr(0,a.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),l+=n.length),gn[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),q(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=s-l,a.length>0&&e._pf.unusedInput.push(a),e._isPm&&e._a[Dt]<12&&(e._a[Dt]+=12),e._isPm===!1&&12===e._a[Dt]&&(e._a[Dt]=0),U(e),A(e)}function G(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,r,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)a=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[o],X(t),N(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==r||r>a)&&(r=a,n=t));f(e,n||t)}function Z(e){var t,n,i=e._i,r=rn.exec(i);if(r){for(e._pf.iso=!0,t=0,n=an.length;n>t;t++)if(an[t][1].exec(i)){e._f=an[t][0]+(r[6]||" ");break}for(t=0,n=sn.length;n>t;t++)if(sn[t][1].exec(i)){e._f+=sn[t][0];break}i.match(Vt)&&(e._f+="Z"),X(e)}else e._isValid=!1}function K(e){Z(e),e._isValid===!1&&(delete e._isValid,bt.createFromInputFallback(e))}function et(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function tt(t){var n,i=t._i;i===e?t._d=new Date:w(i)?t._d=new Date(+i):null!==(n=Bt.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?K(t):x(i)?(t._a=et(i.slice(0),function(e){return parseInt(e,10)}),U(t)):"object"==typeof i?$(t):"number"==typeof i?t._d=new Date(i):bt.createFromInputFallback(t)}function nt(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function it(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function rt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function ot(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function at(e,t,n){var i=bt.duration(e).abs(),r=Tt(i.as("s")),o=Tt(i.as("m")),a=Tt(i.as("h")),s=Tt(i.as("d")),l=Tt(i.as("M")),c=Tt(i.as("y")),u=r<hn.s&&["s",r]||1===o&&["m"]||o<hn.m&&["mm",o]||1===a&&["h"]||a<hn.h&&["hh",a]||1===s&&["d"]||s<hn.d&&["dd",s]||1===l&&["M"]||l<hn.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,ot.apply({},u)}function st(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=bt(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(e,t,n,i,r){var o,a,s=it(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(r>s?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:D(e-1)+a}}function ct(t){var n=t._i,i=t._f;return t._locale=t._locale||bt.localeData(t._l),null===n||i===e&&""===n?bt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),bt.isMoment(n)?new u(n,!0):(i?x(i)?J(t):X(t):tt(t),new u(t)))}function ut(e,t){var n,i;if(1===t.length&&x(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function dt(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),M(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ft(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function ht(e,t,n){return"Month"===t?dt(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function pt(e,t){return function(n){return null!=n?(ht(this,e,n),bt.updateOffset(this,t),this):ft(this,e)}}function mt(e){return 400*e/146097}function gt(e){return 146097*e/400}function yt(e){bt.duration.fn[e]=function(){return this._data[e]}}function vt(e){"undefined"==typeof ender&&(xt=_t.moment,_t.moment=e?o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,xt,wt,kt="2.8.3",_t="undefined"!=typeof global?global:this,Tt=Math.round,Ct=Object.prototype.hasOwnProperty,St=0,Mt=1,Et=2,Dt=3,Ot=4,At=5,Nt=6,Lt={},Pt=[],Ht="undefined"!=typeof module&&module.exports,Bt=/^\/?Date\((\-?\d+)/i,It=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Rt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ft=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,jt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Wt=/\d\d?/,zt=/\d{1,3}/,qt=/\d{1,4}/,Yt=/[+\-]?\d{1,6}/,Ut=/\d+/,$t=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vt=/Z|[\+\-]\d\d:?\d\d/gi,Xt=/T/i,Gt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d{1,2}/,Jt=/\d/,Zt=/\d\d/,Kt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on="YYYY-MM-DDTHH:mm:ssZ",an=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],sn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ln=/([\+\-]|\d\d)/gi,cn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),un={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},dn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},fn={},hn={s:45,m:45,h:22,d:26,M:11},pn="DDD w W M D d".split(" "),mn="M D H h m s w W".split(" "),gn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return S(this.milliseconds()/100)},SS:function(){return m(S(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+":"+m(S(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+m(S(e/60),2)+m(S(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},yn={},vn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pn.length;)wt=pn.pop(),gn[wt+"o"]=l(gn[wt],wt);for(;mn.length;)wt=mn.pop(),gn[wt+wt]=s(gn[wt],2);gn.DDDD=s(gn.DDD,3),f(c.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=bt.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=bt([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return st(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=r,a._strict=o,a._isUTC=!1,a._pf=i(),ct(a)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),bt.min=function(){var e=[].slice.call(arguments,0);return ut("isBefore",e)},bt.max=function(){var e=[].slice.call(arguments,0);return ut("isAfter",e)},bt.utc=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=r,a._i=t,a._f=n,a._strict=o,a._pf=i(),ct(a).utc()},bt.unix=function(e){return bt(1e3*e)},bt.duration=function(e,t){var i,r,o,a,s=e,l=null;return bt.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=It.exec(e))?(i="-"===l[1]?-1:1,s={y:0,d:S(l[Et])*i,h:S(l[Dt])*i,m:S(l[Ot])*i,s:S(l[At])*i,ms:S(l[Nt])*i}):(l=Rt.exec(e))?(i="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):"object"==typeof s&&("from"in s||"to"in s)&&(a=y(bt(s.from),bt(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),r=new d(s),bt.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},bt.version=kt,bt.defaultFormat=on,bt.ISO_8601=function(){},bt.momentProperties=Pt,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(t,n){return hn[t]===e?!1:n===e?hn[t]:(hn[t]=n,!0)},bt.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return bt.locale(e,t)}),bt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?bt.defineLocale(e,t):bt.localeData(e),n&&(bt.duration._locale=bt._locale=n)),bt._locale._abbr},bt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Lt[e]||(Lt[e]=new c),Lt[e].set(t),bt.locale(e),Lt[e]):(delete Lt[e],null)},bt.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return bt.localeData(e)}),bt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt._locale;if(!x(e)){if(t=H(e))return t;e=[e]}return P(e)},bt.isMoment=function(e){return e instanceof u||null!=e&&n(e,"_isAMomentObject")},bt.isDuration=function(e){return e instanceof d};for(wt=vn.length-1;wt>=0;--wt)C(vn[wt]);bt.normalizeUnits=function(e){return _(e)},bt.invalid=function(e){var t=bt.utc(0/0);return null!=e?f(t._pf,e):t._pf.userInvalidated=!0,t},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(e){return S(e)+(S(e)>68?1900:2e3)},f(bt.fn=u.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=bt(this).utc();return 0<e.year()&&e.year()<=9999?F(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):F(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return N(this)},isDSTShifted:function(){return this._a?this.isValid()&&k(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=F(this,e||bt.defaultFormat);return this.localeData().postformat(t)},add:v(1,"add"),subtract:v(-1,"subtract"),diff:function(e,t,n){var i,r,o,a=B(e,this),s=6e4*(this.zone()-a.zone());return t=_(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),o=this-bt(this).startOf("month")-(a-bt(a).startOf("month")),o-=6e4*(this.zone()-bt(this).startOf("month").zone()-(a.zone()-bt(a).startOf("month").zone())),r+=o/i,"year"===t&&(r/=12)):(i=this-a,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?r:p(r)},from:function(e,t){return bt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(bt(),e)},calendar:function(e){var t=e||bt(),n=B(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this))},isLeapYear:function(){return O(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=rt(e,this.localeData()),this.add(e-t,"d")):t},month:pt("Month",!0),startOf:function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=_(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this>+e):+this.clone().startOf(t)>+bt(e).startOf(t)},isBefore:function(e,t){return t=_("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+e>+this):+this.clone().startOf(t)<+bt(e).startOf(t)},isSame:function(e,t){return t=_(t||"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this===+e):+this.clone().startOf(t)===+B(e,this).startOf(t)},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,i=this._offset||0;return null==e?this._isUTC?i:this._dateTzOffset():("string"==typeof e&&(e=z(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==e&&(!t||this._changeInProgress?b(this,bt.duration(i-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?bt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return M(this.year(),this.month())},dayOfYear:function(e){var t=Tt((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=st(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=st(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return E(this.year(),e.dow,e.doy)},get:function(e){return e=_(e),this[e]()},set:function(e,t){return e=_(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=bt.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=pt("Milliseconds",!1),bt.fn.second=bt.fn.seconds=pt("Seconds",!1),bt.fn.minute=bt.fn.minutes=pt("Minutes",!1),bt.fn.hour=bt.fn.hours=pt("Hours",!0),bt.fn.date=pt("Date",!0),bt.fn.dates=o("dates accessor is deprecated. Use date instead.",pt("Date",!0)),bt.fn.year=pt("FullYear",!0),bt.fn.years=o("years accessor is deprecated. Use year instead.",pt("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,f(bt.duration.fn=d.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,e=p(i/1e3),a.seconds=e%60,t=p(e/60),a.minutes=t%60,n=p(t/60),a.hours=n%24,r+=p(n/24),s=p(mt(r)),r-=p(gt(s)),o+=p(r/30),r%=30,s+=p(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12)},humanize:function(e){var t=at(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=bt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=bt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=_(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=_(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*mt(t),"month"===e?n:n/12;switch(t=this._days+gt(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(wt in cn)n(cn,wt)&&yt(wt.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinal:function(e){var t=e%10,n=1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ht?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(_t.moment=xt),bt}),vt(!0)):vt()}.call(this);!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.io=e()}}(function(){var e,t,n;return function i(e,t,n){function r(a,s){if(!t[a]){if(!e[a]){var l=typeof require=="function"&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,i,e,t,n)}return t[a].exports}var o=typeof require=="function"&&require;for(var a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){var i=e("./url");var r=e("socket.io-parser");var o=e("./manager");var a=e("debug")("socket.io-client");t.exports=n=l;var s=n.managers={};function l(e,t){if(typeof e=="object"){t=e;e=undefined}t=t||{};var n=i(e);var r=n.source;var l=n.id;var c;if(t.forceNew||t["force new connection"]||false===t.multiplex){a("ignoring socket cache for %s",r);c=o(r,t)}else{if(!s[l]){a("new io instance for %s",r);s[l]=o(r,t)}c=s[l]}return c.socket(n.path)}n.protocol=r.protocol;n.connect=l;n.Manager=e("./manager");n.Socket=e("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(e,t,n){var i=e("./url");var r=e("engine.io-client");var o=e("./socket");var a=e("component-emitter");var s=e("socket.io-parser");var l=e("./on");var c=e("component-bind");var u=e("object-component");var d=e("debug")("socket.io-client:manager");var f=e("indexof");t.exports=h;function h(e,t){if(!(this instanceof h))return new h(e,t);if(e&&"object"==typeof e){t=e;e=undefined}t=t||{};t.path=t.path||"/socket.io";this.nsps={};this.subs=[];this.opts=t;this.reconnection(t.reconnection!==false);this.reconnectionAttempts(t.reconnectionAttempts||Infinity);this.reconnectionDelay(t.reconnectionDelay||1e3);this.reconnectionDelayMax(t.reconnectionDelayMax||5e3);this.timeout(null==t.timeout?2e4:t.timeout);this.readyState="closed";this.uri=e;this.connected=[];this.attempts=0;this.encoding=false;this.packetBuffer=[];this.encoder=new s.Encoder;this.decoder=new s.Decoder;this.autoConnect=t.autoConnect!==false;if(this.autoConnect)this.open()}h.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps){this.nsps[e].emit.apply(this.nsps[e],arguments)}};a(h.prototype);h.prototype.reconnection=function(e){if(!arguments.length)return this._reconnection;this._reconnection=!!e;return this};h.prototype.reconnectionAttempts=function(e){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=e;return this};h.prototype.reconnectionDelay=function(e){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=e;return this};h.prototype.reconnectionDelayMax=function(e){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=e;return this};h.prototype.timeout=function(e){if(!arguments.length)return this._timeout;this._timeout=e;return this};h.prototype.maybeReconnectOnOpen=function(){if(!this.openReconnect&&!this.reconnecting&&this._reconnection&&this.attempts===0){this.openReconnect=true;this.reconnect()}};h.prototype.open=h.prototype.connect=function(e){d("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;d("opening %s",this.uri);this.engine=r(this.uri,this.opts);var t=this.engine;var n=this;this.readyState="opening";this.skipReconnect=false;var i=l(t,"open",function(){n.onopen();e&&e()});var o=l(t,"error",function(t){d("connect_error");n.cleanup();n.readyState="closed";n.emitAll("connect_error",t);if(e){var i=new Error("Connection error");i.data=t;e(i)}n.maybeReconnectOnOpen()});if(false!==this._timeout){var a=this._timeout;d("connect attempt will timeout after %d",a);var s=setTimeout(function(){d("connect attempt timed out after %d",a);i.destroy();t.close();t.emit("error","timeout");n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}this.subs.push(i);this.subs.push(o);return this};h.prototype.onopen=function(){d("open");this.cleanup();this.readyState="open";this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata")));this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")));this.subs.push(l(e,"error",c(this,"onerror")));this.subs.push(l(e,"close",c(this,"onclose")))};h.prototype.ondata=function(e){this.decoder.add(e)};h.prototype.ondecoded=function(e){this.emit("packet",e)};h.prototype.onerror=function(e){d("error",e);this.emitAll("error",e)};h.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e);this.nsps[e]=t;var n=this;t.on("connect",function(){if(!~f(n.connected,t)){n.connected.push(t)}})}return t};h.prototype.destroy=function(e){var t=f(this.connected,e);if(~t)this.connected.splice(t,1);if(this.connected.length)return;this.close()};h.prototype.packet=function(e){d("writing packet %j",e);var t=this;if(!t.encoding){t.encoding=true;this.encoder.encode(e,function(e){for(var n=0;n<e.length;n++){t.engine.write(e[n])}t.encoding=false;t.processPacketQueue()})}else{t.packetBuffer.push(e)}};h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}};h.prototype.cleanup=function(){var e;while(e=this.subs.shift())e.destroy();this.packetBuffer=[];this.encoding=false;this.decoder.destroy()};h.prototype.close=h.prototype.disconnect=function(){this.skipReconnect=true;this.readyState="closed";this.engine&&this.engine.close()};h.prototype.onclose=function(e){d("close");this.cleanup();this.readyState="closed";this.emit("close",e);if(this._reconnection&&!this.skipReconnect){this.reconnect()}};h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;this.attempts++;if(this.attempts>this._reconnectionAttempts){d("reconnect failed");this.emitAll("reconnect_failed");this.reconnecting=false}else{var t=this.attempts*this.reconnectionDelay();t=Math.min(t,this.reconnectionDelayMax());d("will wait %dms before reconnect attempt",t);this.reconnecting=true;var n=setTimeout(function(){if(e.skipReconnect)return;d("attempting reconnect");e.emitAll("reconnect_attempt",e.attempts);e.emitAll("reconnecting",e.attempts);if(e.skipReconnect)return;e.open(function(t){if(t){d("reconnect attempt error");e.reconnecting=false;e.reconnect();e.emitAll("reconnect_error",t.data)}else{d("reconnect success");e.onreconnect()}})},t);this.subs.push({destroy:function(){clearTimeout(n)}})}};h.prototype.onreconnect=function(){var e=this.attempts;this.attempts=0;this.reconnecting=false;this.emitAll("reconnect",e)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":10,indexof:36,"object-component":37,"socket.io-parser":40}],4:[function(e,t,n){t.exports=i;function i(e,t,n){e.on(t,n);return{destroy:function(){e.removeListener(t,n)}}}},{}],5:[function(e,t,n){var i=e("socket.io-parser");
var r=e("component-emitter");var o=e("to-array");var a=e("./on");var s=e("component-bind");var l=e("debug")("socket.io-client:socket");var c=e("has-binary");t.exports=n=f;var u={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1};var d=r.prototype.emit;function f(e,t){this.io=e;this.nsp=t;this.json=this;this.ids=0;this.acks={};if(this.io.autoConnect)this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=false;this.disconnected=true}r(f.prototype);f.prototype.subEvents=function(){if(this.subs)return;var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]};f.prototype.open=f.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();return this};f.prototype.send=function(){var e=o(arguments);e.unshift("message");this.emit.apply(this,e);return this};f.prototype.emit=function(e){if(u.hasOwnProperty(e)){d.apply(this,arguments);return this}var t=o(arguments);var n=i.EVENT;if(c(t)){n=i.BINARY_EVENT}var r={type:n,data:t};if("function"==typeof t[t.length-1]){l("emitting packet with ack id %d",this.ids);this.acks[this.ids]=t.pop();r.id=this.ids++}if(this.connected){this.packet(r)}else{this.sendBuffer.push(r)}return this};f.prototype.packet=function(e){e.nsp=this.nsp;this.io.packet(e)};f.prototype.onopen=function(){l("transport is open - connecting");if("/"!=this.nsp){this.packet({type:i.CONNECT})}};f.prototype.onclose=function(e){l("close (%s)",e);this.connected=false;this.disconnected=true;this.emit("disconnect",e)};f.prototype.onpacket=function(e){if(e.nsp!=this.nsp)return;switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(e);break;case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:this.onack(e);break;case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data);break}};f.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t);if(null!=e.id){l("attaching ack callback to event");t.push(this.ack(e.id))}if(this.connected){d.apply(this,t)}else{this.receiveBuffer.push(t)}};f.prototype.ack=function(e){var t=this;var n=false;return function(){if(n)return;n=true;var r=o(arguments);l("sending ack %j",r);var a=c(r)?i.BINARY_ACK:i.ACK;t.packet({type:a,id:e,data:r})}};f.prototype.onack=function(e){l("calling ack %s with %j",e.id,e.data);var t=this.acks[e.id];t.apply(this,e.data);delete this.acks[e.id]};f.prototype.onconnect=function(){this.connected=true;this.disconnected=false;this.emit("connect");this.emitBuffered()};f.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++){d.apply(this,this.receiveBuffer[e])}this.receiveBuffer=[];for(e=0;e<this.sendBuffer.length;e++){this.packet(this.sendBuffer[e])}this.sendBuffer=[]};f.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};f.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++){this.subs[e].destroy()}this.subs=null}this.io.destroy(this)};f.prototype.close=f.prototype.disconnect=function(){if(this.connected){l("performing disconnect (%s)",this.nsp);this.packet({type:i.DISCONNECT})}this.destroy();if(this.connected){this.onclose("io client disconnect")}return this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary":32,"socket.io-parser":40,"to-array":44}],6:[function(e,t,n){!function(n){var i=e("parseuri");var r=e("debug")("socket.io-client:url");t.exports=o;function o(e,t){var o=e;var t=t||n.location;if(null==e)e=t.protocol+"//"+t.hostname;if("string"==typeof e){if("/"==e.charAt(0)){if("/"==e.charAt(1)){e=t.protocol+e}else{e=t.hostname+e}}if(!/^(https?|wss?):\/\//.test(e)){r("protocol-less url %s",e);if("undefined"!=typeof t){e=t.protocol+"//"+e}else{e="https://"+e}}r("parse %s",e);o=i(e)}if(!o.port){if(/^(http|ws)$/.test(o.protocol)){o.port="80"}else if(/^(http|ws)s$/.test(o.protocol)){o.port="443"}}o.path=o.path||"/";o.id=o.protocol+"://"+o.host+":"+o.port;o.href=o.protocol+"://"+o.host+(t&&t.port==o.port?"":":"+o.port);return o}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{debug:9,parseuri:38}],7:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t)t=e[t];if("function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],8:[function(e,t,n){t.exports=i;function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};i.prototype.once=function(e,t){var n=this;this._callbacks=this._callbacks||{};function i(){n.off(e,i);t.apply(this,arguments)}i.fn=t;this.on(e,i);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var i;for(var r=0;r<n.length;r++){i=n[r];if(i===t||i.fn===t){n.splice(r,1);break}}return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i){n[i].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,n){t.exports=i;function i(e){if(!i.enabled(e))return function(){};return function(t){t=r(t);var n=new Date;var o=n-(i[e]||n);i[e]=n;t=e+" "+t+" +"+i.humanize(o);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}i.names=[];i.skips=[];i.enable=function(e){try{localStorage.debug=e}catch(t){}var n=(e||"").split(/[\s,]+/),r=n.length;for(var o=0;o<r;o++){e=n[o].replace("*",".*?");if(e[0]==="-"){i.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{i.names.push(new RegExp("^"+e+"$"))}}};i.disable=function(){i.enable("")};i.humanize=function(e){var t=1e3,n=60*1e3,i=60*n;if(e>=i)return(e/i).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"};i.enabled=function(e){for(var t=0,n=i.skips.length;t<n;t++){if(i.skips[t].test(e)){return false}}for(var t=0,n=i.names.length;t<n;t++){if(i.names[t].test(e)){return true}}return false};function r(e){if(e instanceof Error)return e.stack||e.message;return e}try{if(window.localStorage)i.enable(localStorage.debug)}catch(o){}},{}],10:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,n){t.exports=e("./socket");t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":21}],12:[function(e,t,n){!function(n){var i=e("./transports");var r=e("component-emitter");var o=e("debug")("engine.io-client:socket");var a=e("indexof");var s=e("engine.io-parser");var l=e("parseuri");var c=e("parsejson");var u=e("parseqs");t.exports=f;function d(){}function f(e,t){if(!(this instanceof f))return new f(e,t);t=t||{};if(e&&"object"==typeof e){t=e;e=null}if(e){e=l(e);t.host=e.host;t.secure=e.protocol=="https"||e.protocol=="wss";t.port=e.port;if(e.query)t.query=e.query}this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol;if(t.host){var i=t.host.split(":");t.hostname=i.shift();if(i.length)t.port=i.pop()}this.agent=t.agent||false;this.hostname=t.hostname||(n.location?location.hostname:"localhost");this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80);this.query=t.query||{};if("string"==typeof this.query)this.query=u.decode(this.query);this.upgrade=false!==t.upgrade;this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!t.forceJSONP;this.jsonp=false!==t.jsonp;this.forceBase64=!!t.forceBase64;this.enablesXDR=!!t.enablesXDR;this.timestampParam=t.timestampParam||"t";this.timestampRequests=t.timestampRequests;this.transports=t.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=t.policyPort||843;this.rememberUpgrade=t.rememberUpgrade||false;this.open();this.binaryType=null;this.onlyBinaryUpgrades=t.onlyBinaryUpgrades}f.priorWebsocketSuccess=false;r(f.prototype);f.protocol=s.protocol;f.Socket=f;f.Transport=e("./transport");f.transports=e("./transports");f.parser=e("engine.io-parser");f.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=h(this.query);t.EIO=s.protocol;t.transport=e;if(this.id)t.sid=this.id;var n=new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return n};function h(e){var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=e[n]}}return t}f.prototype.open=function(){var e;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1){e="websocket"}else if(0==this.transports.length){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else{e=this.transports[0]}this.readyState="opening";var e;try{e=this.createTransport(e)}catch(n){this.transports.shift();this.open();return}e.open();this.setTransport(e)};f.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;if(this.transport){o("clearing existing transport %s",this.transport.name);this.transport.removeAllListeners()}this.transport=e;e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})};f.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=false,i=this;f.priorWebsocketSuccess=false;function r(){if(i.onlyBinaryUpgrades){var r=!this.supportsBinary&&i.transport.supportsBinary;n=n||r}if(n)return;o('probe transport "%s" opened',e);t.send([{type:"ping",data:"probe"}]);t.once("packet",function(r){if(n)return;if("pong"==r.type&&"probe"==r.data){o('probe transport "%s" pong',e);i.upgrading=true;i.emit("upgrading",t);if(!t)return;f.priorWebsocketSuccess="websocket"==t.name;o('pausing current transport "%s"',i.transport.name);i.transport.pause(function(){if(n)return;if("closed"==i.readyState)return;o("changing transport and sending upgrade packet");d();i.setTransport(t);t.send([{type:"upgrade"}]);i.emit("upgrade",t);t=null;i.upgrading=false;i.flush()})}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name;i.emit("upgradeError",a)}})}function a(){if(n)return;n=true;d();t.close();t=null}function s(n){var r=new Error("probe error: "+n);r.transport=t.name;a();o('probe transport "%s" failed because of error: %s',e,n);i.emit("upgradeError",r)}function l(){s("transport closed")}function c(){s("socket closed")}function u(e){if(t&&e.name!=t.name){o('"%s" works - aborting "%s"',e.name,t.name);a()}}function d(){t.removeListener("open",r);t.removeListener("error",s);t.removeListener("close",l);i.removeListener("close",c);i.removeListener("upgrading",u)}t.once("open",r);t.once("error",s);t.once("close",l);this.once("close",c);this.once("upgrading",u);t.open()};f.prototype.onOpen=function(){o("socket open");this.readyState="open";f.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++){this.probe(this.upgrades[e])}}};f.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState){o('socket receive: type "%s", data "%s"',e.type,e.data);this.emit("packet",e);this.emit("heartbeat");switch(e.type){case"open":this.onHandshake(c(e.data));break;case"pong":this.setPing();break;case"error":var t=new Error("server error");t.code=e.data;this.emit("error",t);break;case"message":this.emit("data",e.data);this.emit("message",e.data);break}}else{o('packet received with socket readyState "%s"',this.readyState)}};f.prototype.onHandshake=function(e){this.emit("handshake",e);this.id=e.sid;this.transport.query.sid=e.sid;this.upgrades=this.filterUpgrades(e.upgrades);this.pingInterval=e.pingInterval;this.pingTimeout=e.pingTimeout;this.onOpen();if("closed"==this.readyState)return;this.setPing();this.removeListener("heartbeat",this.onHeartbeat);this.on("heartbeat",this.onHeartbeat)};f.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){if("closed"==t.readyState)return;t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)};f.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer);e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout);e.ping();e.onHeartbeat(e.pingTimeout)},e.pingInterval)};f.prototype.ping=function(){this.sendPacket("ping")};f.prototype.onDrain=function(){for(var e=0;e<this.prevBufferLen;e++){if(this.callbackBuffer[e]){this.callbackBuffer[e]()}}this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;if(this.writeBuffer.length==0){this.emit("drain")}else{this.flush()}};f.prototype.flush=function(){if("closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){o("flushing %d packets in socket",this.writeBuffer.length);this.transport.send(this.writeBuffer);this.prevBufferLen=this.writeBuffer.length;this.emit("flush")}};f.prototype.write=f.prototype.send=function(e,t){this.sendPacket("message",e,t);return this};f.prototype.sendPacket=function(e,t,n){if("closing"==this.readyState||"closed"==this.readyState){return}var i={type:e,data:t};this.emit("packetCreate",i);this.writeBuffer.push(i);this.callbackBuffer.push(n);this.flush()};f.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;function t(){e.onClose("forced close");o("socket closing - telling transport to close");e.transport.close()}function n(){e.removeListener("upgrade",n);e.removeListener("upgradeError",n);t()}function i(){e.once("upgrade",n);e.once("upgradeError",n)}if(this.writeBuffer.length){this.once("drain",function(){if(this.upgrading){i()}else{t()}})}else if(this.upgrading){i()}else{t()}}return this};f.prototype.onError=function(e){o("socket error %j",e);f.priorWebsocketSuccess=false;this.emit("error",e);this.onClose("transport error",e)};f.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){o('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){n.writeBuffer=[];n.callbackBuffer=[];n.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",e,t)}};f.prototype.filterUpgrades=function(e){var t=[];for(var n=0,i=e.length;n<i;n++){if(~a(this.transports,e[n]))t.push(e[n])}return t}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:9,"engine.io-parser":21,indexof:36,parsejson:28,parseqs:29,parseuri:30}],13:[function(e,t,n){var i=e("engine.io-parser");var r=e("component-emitter");t.exports=o;function o(e){this.path=e.path;this.hostname=e.hostname;this.port=e.port;this.secure=e.secure;this.query=e.query;this.timestampParam=e.timestampParam;this.timestampRequests=e.timestampRequests;this.readyState="";this.agent=e.agent||false;this.socket=e.socket;this.enablesXDR=e.enablesXDR}r(o.prototype);o.timestamps=0;o.prototype.onError=function(e,t){var n=new Error(e);n.type="TransportError";n.description=t;this.emit("error",n);return this};o.prototype.open=function(){if("closed"==this.readyState||""==this.readyState){this.readyState="opening";this.doOpen()}return this};o.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.doClose();this.onClose()}return this};o.prototype.send=function(e){if("open"==this.readyState){this.write(e)}else{throw new Error("Transport not open")}};o.prototype.onOpen=function(){this.readyState="open";this.writable=true;this.emit("open")};o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)};o.prototype.onPacket=function(e){this.emit("packet",e)};o.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":8,"engine.io-parser":21}],14:[function(e,t,n){!function(t){var i=e("xmlhttprequest");var r=e("./polling-xhr");var o=e("./polling-jsonp");var a=e("./websocket");n.polling=s;n.websocket=a;function s(e){var n;var a=false;var s=false;var l=false!==e.jsonp;if(t.location){var c="https:"==location.protocol;var u=location.port;if(!u){u=c?443:80}a=e.hostname!=location.hostname||u!=e.port;s=e.secure!=c}e.xdomain=a;e.xscheme=s;n=new i(e);if("open"in n&&!e.forceJSONP){return new r(e)}else{if(!l)throw new Error("JSONP disabled");return new o(e)}}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(e,t,n){!function(n){var i=e("./polling");var r=e("component-inherit");t.exports=u;var o=/\n/g;var a=/\\n/g;var s;var l=0;function c(){}function u(e){i.call(this,e);this.query=this.query||{};if(!s){if(!n.___eio)n.___eio=[];s=n.___eio}this.index=s.length;var t=this;s.push(function(e){t.onData(e)});this.query.j=this.index;if(n.document&&n.addEventListener){n.addEventListener("beforeunload",function(){if(t.script)t.script.onerror=c})}}r(u,i);u.prototype.supportsBinary=false;u.prototype.doClose=function(){if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}if(this.form){this.form.parentNode.removeChild(this.form);this.form=null;this.iframe=null}i.prototype.doClose.call(this)};u.prototype.doPoll=function(){var e=this;var t=document.createElement("script");if(this.script){this.script.parentNode.removeChild(this.script);this.script=null}t.async=true;t.src=this.uri();t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);if(i){setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e);document.body.removeChild(e)},100)}};u.prototype.doWrite=function(e,t){var n=this;if(!this.form){var i=document.createElement("form");var r=document.createElement("textarea");var s=this.iframeId="eio_iframe_"+this.index;var l;i.className="socketio";i.style.position="absolute";i.style.top="-1000px";i.style.left="-1000px";i.target=s;i.method="POST";i.setAttribute("accept-charset","utf-8");r.name="d";i.appendChild(r);document.body.appendChild(i);this.form=i;this.area=r}this.form.action=this.uri();function c(){u();t()}function u(){if(n.iframe){try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';l=document.createElement(t)}catch(e){l=document.createElement("iframe");l.name=n.iframeId;l.src="javascript:0"}l.id=n.iframeId;n.form.appendChild(l);n.iframe=l}u();e=e.replace(a,"\\\n");this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(d){}if(this.iframe.attachEvent){this.iframe.onreadystatechange=function(){if(n.iframe.readyState=="complete"){c()}}}else{this.iframe.onload=c}}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./polling":17,"component-inherit":20}],16:[function(e,t,n){!function(n){var i=e("xmlhttprequest");var r=e("./polling");var o=e("component-emitter");var a=e("component-inherit");var s=e("debug")("engine.io-client:polling-xhr");t.exports=c;t.exports.Request=u;function l(){}function c(e){r.call(this,e);if(n.location){var t="https:"==location.protocol;var i=location.port;if(!i){i=t?443:80}this.xd=e.hostname!=n.location.hostname||i!=e.port;this.xs=e.secure!=t}}a(c,r);c.prototype.supportsBinary=true;c.prototype.request=function(e){e=e||{};e.uri=this.uri();e.xd=this.xd;e.xs=this.xs;e.agent=this.agent||false;e.supportsBinary=this.supportsBinary;e.enablesXDR=this.enablesXDR;return new u(e)};c.prototype.doWrite=function(e,t){var n=typeof e!=="string"&&e!==undefined;var i=this.request({method:"POST",data:e,isBinary:n});var r=this;i.on("success",t);i.on("error",function(e){r.onError("xhr post error",e)});this.sendXhr=i};c.prototype.doPoll=function(){s("xhr poll");var e=this.request();var t=this;e.on("data",function(e){t.onData(e)});e.on("error",function(e){t.onError("xhr poll error",e)});this.pollXhr=e};function u(e){this.method=e.method||"GET";this.uri=e.uri;this.xd=!!e.xd;this.xs=!!e.xs;this.async=false!==e.async;this.data=undefined!=e.data?e.data:null;this.agent=e.agent;this.isBinary=e.isBinary;this.supportsBinary=e.supportsBinary;this.enablesXDR=e.enablesXDR;this.create()}o(u.prototype);u.prototype.create=function(){var e=this.xhr=new i({agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR});var t=this;try{s("xhr open %s: %s",this.method,this.uri);e.open(this.method,this.uri,this.async);if(this.supportsBinary){e.responseType="arraybuffer"}if("POST"==this.method){try{if(this.isBinary){e.setRequestHeader("Content-type","application/octet-stream")}else{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}}catch(r){}}if("withCredentials"in e){e.withCredentials=true}if(this.hasXDR()){e.onload=function(){t.onLoad()};e.onerror=function(){t.onError(e.responseText)}}else{e.onreadystatechange=function(){if(4!=e.readyState)return;if(200==e.status||1223==e.status){t.onLoad()}else{setTimeout(function(){t.onError(e.status)},0)}}}s("xhr data %s",this.data);e.send(this.data)}catch(r){setTimeout(function(){t.onError(r)},0);return}if(n.document){this.index=u.requestsCount++;u.requests[this.index]=this}};u.prototype.onSuccess=function(){this.emit("success");this.cleanup()};u.prototype.onData=function(e){this.emit("data",e);this.onSuccess()};u.prototype.onError=function(e){this.emit("error",e);this.cleanup()};u.prototype.cleanup=function(){if("undefined"==typeof this.xhr||null===this.xhr){return}if(this.hasXDR()){this.xhr.onload=this.xhr.onerror=l}else{this.xhr.onreadystatechange=l}try{this.xhr.abort()}catch(e){}if(n.document){delete u.requests[this.index]}this.xhr=null};u.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if(t==="application/octet-stream"){e=this.xhr.response}else{if(!this.supportsBinary){e=this.xhr.responseText}else{e="ok"}}}catch(n){this.onError(n)}if(null!=e){this.onData(e)}};u.prototype.hasXDR=function(){return"undefined"!==typeof n.XDomainRequest&&!this.xs&&this.enablesXDR};u.prototype.abort=function(){this.cleanup()};if(n.document){u.requestsCount=0;u.requests={};if(n.attachEvent){n.attachEvent("onunload",d)}else if(n.addEventListener){n.addEventListener("beforeunload",d)}}function d(){for(var e in u.requests){if(u.requests.hasOwnProperty(e)){u.requests[e].abort()}}}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":20,debug:9,xmlhttprequest:19}],17:[function(e,t,n){var i=e("../transport");var r=e("parseqs");var o=e("engine.io-parser");var a=e("component-inherit");var s=e("debug")("engine.io-client:polling");t.exports=c;var l=function(){var t=e("xmlhttprequest");var n=new t({xdomain:false});return null!=n.responseType}();function c(e){var t=e&&e.forceBase64;if(!l||t){this.supportsBinary=false}i.call(this,e)}a(c,i);c.prototype.name="polling";c.prototype.doOpen=function(){this.poll()};c.prototype.pause=function(e){var t=0;var n=this;this.readyState="pausing";function i(){s("paused");n.readyState="paused";e()}if(this.polling||!this.writable){var r=0;if(this.polling){s("we are currently polling - waiting to pause");r++;this.once("pollComplete",function(){s("pre-pause polling complete");--r||i()})}if(!this.writable){s("we are currently writing - waiting to pause");r++;this.once("drain",function(){s("pre-pause writing complete");--r||i()})}}else{i()}};c.prototype.poll=function(){s("polling");this.polling=true;this.doPoll();this.emit("poll")};c.prototype.onData=function(e){var t=this;s("polling got data %s",e);var n=function(e,n,i){if("opening"==t.readyState){t.onOpen()}if("close"==e.type){t.onClose();return false}t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,n);if("closed"!=this.readyState){this.polling=false;this.emit("pollComplete");if("open"==this.readyState){this.poll()}else{s('ignoring poll - transport state "%s"',this.readyState)}}};c.prototype.doClose=function(){var e=this;function t(){s("writing close packet");e.write([{type:"close"}])}if("open"==this.readyState){s("transport open - closing");t()}else{s("transport not open - deferring close");this.once("open",t)}};c.prototype.write=function(e){var t=this;this.writable=false;var n=function(){t.writable=true;t.emit("drain")};var t=this;o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})};c.prototype.uri=function(){var e=this.query||{};var t=this.secure?"https":"http";var n="";if(false!==this.timestampRequests){e[this.timestampParam]=+new Date+"-"+i.timestamps++}if(!this.supportsBinary&&!e.sid){e.b64=1}e=r.encode(e);if(this.port&&("https"==t&&this.port!=443||"http"==t&&this.port!=80)){n=":"+this.port}if(e.length){e="?"+e}return t+"://"+this.hostname+n+this.path+e}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,xmlhttprequest:19}],18:[function(e,t,n){var i=e("../transport");var r=e("engine.io-parser");var o=e("parseqs");var a=e("component-inherit");var s=e("debug")("engine.io-client:websocket");var l=e("ws");t.exports=c;function c(e){var t=e&&e.forceBase64;if(t){this.supportsBinary=false}i.call(this,e)}a(c,i);c.prototype.name="websocket";c.prototype.supportsBinary=true;c.prototype.doOpen=function(){if(!this.check()){return}var e=this;var t=this.uri();var n=void 0;var i={agent:this.agent};this.ws=new l(t,n,i);if(this.ws.binaryType===undefined){this.supportsBinary=false}this.ws.binaryType="arraybuffer";this.addEventListeners()};c.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()};this.ws.onclose=function(){e.onClose()};this.ws.onmessage=function(t){e.onData(t.data)};this.ws.onerror=function(t){e.onError("websocket error",t)}};if("undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)){c.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}}c.prototype.write=function(e){var t=this;this.writable=false;for(var n=0,i=e.length;n<i;n++){r.encodePacket(e[n],this.supportsBinary,function(e){try{t.ws.send(e)}catch(n){s("websocket closed before onclose event")}})}function o(){t.writable=true;t.emit("drain")}setTimeout(o,0)};c.prototype.onClose=function(){i.prototype.onClose.call(this)};c.prototype.doClose=function(){if(typeof this.ws!=="undefined"){this.ws.close()}};c.prototype.uri=function(){var e=this.query||{};var t=this.secure?"wss":"ws";var n="";if(this.port&&("wss"==t&&this.port!=443||"ws"==t&&this.port!=80)){n=":"+this.port}if(this.timestampRequests){e[this.timestampParam]=+new Date}if(!this.supportsBinary){e.b64=1}e=o.encode(e);if(e.length){e="?"+e}return t+"://"+this.hostname+n+this.path+e};c.prototype.check=function(){return!!l&&!("__initialize"in l&&this.name===c.prototype.name)}},{"../transport":13,"component-inherit":20,debug:9,"engine.io-parser":21,parseqs:29,ws:31}],19:[function(e,t,n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain;var n=e.xscheme;var r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i)){return new XMLHttpRequest}}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&r){return new XDomainRequest}}catch(o){}if(!t){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}}},{"has-cors":34}],20:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],21:[function(e,t,n){!function(t){var i=e("./keys");var r=e("arraybuffer.slice");var o=e("base64-arraybuffer");var a=e("after");var s=e("utf8");var l=navigator.userAgent.match(/Android/i);n.protocol=3;var c=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var u=i(c);var d={type:"error",data:"parser error"};var f=e("blob");n.encodePacket=function(e,n,i,r){if("function"==typeof n){r=n;n=false}if("function"==typeof i){r=i;i=null}var o=e.data===undefined?undefined:e.data.buffer||e.data;if(t.ArrayBuffer&&o instanceof ArrayBuffer){return h(e,n,r)}else if(f&&o instanceof t.Blob){return m(e,n,r)}var a=c[e.type];if(undefined!==e.data){a+=i?s.encode(String(e.data)):String(e.data)}return r(""+a)};function h(e,t,i){if(!t){return n.encodeBase64Packet(e,i)}var r=e.data;var o=new Uint8Array(r);var a=new Uint8Array(1+r.byteLength);a[0]=c[e.type];for(var s=0;s<o.length;s++){a[s+1]=o[s]}return i(a.buffer)}function p(e,t,i){if(!t){return n.encodeBase64Packet(e,i)}var r=new FileReader;r.onload=function(){e.data=r.result;n.encodePacket(e,t,true,i)};return r.readAsArrayBuffer(e.data)}function m(e,t,i){if(!t){return n.encodeBase64Packet(e,i)}if(l){return p(e,t,i)}var r=new Uint8Array(1);r[0]=c[e.type];var o=new f([r.buffer,e.data]);return i(o)}n.encodeBase64Packet=function(e,i){var r="b"+n.packets[e.type];if(f&&e.data instanceof f){var o=new FileReader;o.onload=function(){var e=o.result.split(",")[1];i(r+e)};return o.readAsDataURL(e.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(s){var l=new Uint8Array(e.data);var c=new Array(l.length);for(var u=0;u<l.length;u++){c[u]=l[u]}a=String.fromCharCode.apply(null,c)}r+=t.btoa(a);return i(r)};n.decodePacket=function(e,t,i){if(typeof e=="string"||e===undefined){if(e.charAt(0)=="b"){return n.decodeBase64Packet(e.substr(1),t)}if(i){try{e=s.decode(e)}catch(o){return d}}var a=e.charAt(0);if(Number(a)!=a||!u[a]){return d}if(e.length>1){return{type:u[a],data:e.substring(1)}}else{return{type:u[a]}}}var l=new Uint8Array(e);var a=l[0];var c=r(e,1);if(f&&t==="blob"){c=new f([c])}return{type:u[a],data:c}};n.decodeBase64Packet=function(e,n){var i=u[e.charAt(0)];if(!t.ArrayBuffer){return{type:i,data:{base64:true,data:e.substr(1)}}}var r=o.decode(e.substr(1));if(n==="blob"&&f){r=new f([r])}return{type:i,data:r}};n.encodePayload=function(e,t,i){if(typeof t=="function"){i=t;t=null}if(t){if(f&&!l){return n.encodePayloadAsBlob(e,i)}return n.encodePayloadAsArrayBuffer(e,i)}if(!e.length){return i("0:")}function r(e){return e.length+":"+e}function o(e,i){n.encodePacket(e,t,true,function(e){i(null,r(e))})}g(e,o,function(e,t){return i(t.join(""))})};function g(e,t,n){var i=new Array(e.length);var r=a(e.length,n);var o=function(e,n,r){t(n,function(t,n){i[e]=n;r(t,i)})};for(var s=0;s<e.length;s++){o(s,e[s],r)}}n.decodePayload=function(e,t,i){if(typeof e!="string"){return n.decodePayloadAsBinary(e,t,i)}if(typeof t==="function"){i=t;t=null}var r;if(e==""){return i(d,0,1)}var o="",a,s;for(var l=0,c=e.length;l<c;l++){var u=e.charAt(l);if(":"!=u){o+=u}else{if(""==o||o!=(a=Number(o))){return i(d,0,1)}s=e.substr(l+1,a);if(o!=s.length){return i(d,0,1)}if(s.length){r=n.decodePacket(s,t,true);if(d.type==r.type&&d.data==r.data){return i(d,0,1)}var f=i(r,l+a,c);if(false===f)return}l+=a;o=""}}if(o!=""){return i(d,0,1)}};n.encodePayloadAsArrayBuffer=function(e,t){if(!e.length){return t(new ArrayBuffer(0))
}function i(e,t){n.encodePacket(e,true,true,function(e){return t(null,e)})}g(e,i,function(e,n){var i=n.reduce(function(e,t){var n;if(typeof t==="string"){n=t.length}else{n=t.byteLength}return e+n.toString().length+n+2},0);var r=new Uint8Array(i);var o=0;n.forEach(function(e){var t=typeof e==="string";var n=e;if(t){var i=new Uint8Array(e.length);for(var a=0;a<e.length;a++){i[a]=e.charCodeAt(a)}n=i.buffer}if(t){r[o++]=0}else{r[o++]=1}var s=n.byteLength.toString();for(var a=0;a<s.length;a++){r[o++]=parseInt(s[a])}r[o++]=255;var i=new Uint8Array(n);for(var a=0;a<i.length;a++){r[o++]=i[a]}});return t(r.buffer)})};n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,true,true,function(e){var n=new Uint8Array(1);n[0]=1;if(typeof e==="string"){var i=new Uint8Array(e.length);for(var r=0;r<e.length;r++){i[r]=e.charCodeAt(r)}e=i.buffer;n[0]=0}var o=e instanceof ArrayBuffer?e.byteLength:e.size;var a=o.toString();var s=new Uint8Array(a.length+1);for(var r=0;r<a.length;r++){s[r]=parseInt(a[r])}s[a.length]=255;if(f){var l=new f([n.buffer,s.buffer,e]);t(null,l)}})}g(e,i,function(e,n){return t(new f(n))})};n.decodePayloadAsBinary=function(e,t,i){if(typeof t==="function"){i=t;t=null}var o=e;var a=[];var s=false;while(o.byteLength>0){var l=new Uint8Array(o);var c=l[0]===0;var u="";for(var f=1;;f++){if(l[f]==255)break;if(u.length>310){s=true;break}u+=l[f]}if(s)return i(d,0,1);o=r(o,2+u.length);u=parseInt(u);var h=r(o,0,u);if(c){try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(p){var m=new Uint8Array(h);h="";for(var f=0;f<m.length;f++){h+=String.fromCharCode(m[f])}}}a.push(h);o=r(o,u)}var g=a.length;a.forEach(function(e,r){i(n.decodePacket(e,t,true),r,g)})}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./keys":22,after:23,"arraybuffer.slice":24,"base64-arraybuffer":25,blob:26,utf8:27}],22:[function(e,t,n){t.exports=Object.keys||function i(e){var t=[];var n=Object.prototype.hasOwnProperty;for(var i in e){if(n.call(e,i)){t.push(i)}}return t}},{}],23:[function(e,t,n){t.exports=i;function i(e,t,n){var i=false;n=n||r;o.count=e;return e===0?t():o;function o(e,r){if(o.count<=0){throw new Error("after called too many times")}--o.count;if(e){i=true;t(e);t=n}else if(o.count===0&&!i){t(null,r)}}}function r(){}},{}],24:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;t=t||0;n=n||i;if(e.slice){return e.slice(t,n)}if(t<0){t+=i}if(n<0){n+=i}if(n>i){n=i}if(t>=i||t>=n||i===0){return new ArrayBuffer(0)}var r=new Uint8Array(e);var o=new Uint8Array(n-t);for(var a=t,s=0;a<n;a++,s++){o[s]=r[a]}return o.buffer}},{}],25:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n=new Uint8Array(t),i,r=n.length,o="";for(i=0;i<r;i+=3){o+=e[n[i]>>2];o+=e[(n[i]&3)<<4|n[i+1]>>4];o+=e[(n[i+1]&15)<<2|n[i+2]>>6];o+=e[n[i+2]&63]}if(r%3===2){o=o.substring(0,o.length-1)+"="}else if(r%3===1){o=o.substring(0,o.length-2)+"=="}return o};n.decode=function(t){var n=t.length*.75,i=t.length,r,o=0,a,s,l,c;if(t[t.length-1]==="="){n--;if(t[t.length-2]==="="){n--}}var u=new ArrayBuffer(n),d=new Uint8Array(u);for(r=0;r<i;r+=4){a=e.indexOf(t[r]);s=e.indexOf(t[r+1]);l=e.indexOf(t[r+2]);c=e.indexOf(t[r+3]);d[o++]=a<<2|s>>4;d[o++]=(s&15)<<4|l>>2;d[o++]=(l&3)<<6|c&63}return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],26:[function(e,t,n){!function(e){var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;var i=function(){try{var e=new Blob(["hi"]);return e.size==2}catch(t){return false}}();var r=n&&n.prototype.append&&n.prototype.getBlob;function o(e,t){t=t||{};var i=new n;for(var r=0;r<e.length;r++){i.append(e[r])}return t.type?i.getBlob(t.type):i.getBlob()}t.exports=function(){if(i){return e.Blob}else if(r){return o}else{return undefined}}()}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],27:[function(t,n,i){!function(t){!function(r){var o=typeof i=="object"&&i;var a=typeof n=="object"&&n&&n.exports==o&&n;var s=typeof t=="object"&&t;if(s.global===s||s.window===s){r=s}var l=String.fromCharCode;function c(e){var t=[];var n=0;var i=e.length;var r;var o;while(n<i){r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){o=e.charCodeAt(n++);if((o&64512)==56320){t.push(((r&1023)<<10)+(o&1023)+65536)}else{t.push(r);n--}}else{t.push(r)}}return t}function u(e){var t=e.length;var n=-1;var i;var r="";while(++n<t){i=e[n];if(i>65535){i-=65536;r+=l(i>>>10&1023|55296);i=56320|i&1023}r+=l(i)}return r}function d(e,t){return l(e>>t&63|128)}function f(e){if((e&4294967168)==0){return l(e)}var t="";if((e&4294965248)==0){t=l(e>>6&31|192)}else if((e&4294901760)==0){t=l(e>>12&15|224);t+=d(e,6)}else if((e&4292870144)==0){t=l(e>>18&7|240);t+=d(e,12);t+=d(e,6)}t+=l(e&63|128);return t}function h(e){var t=c(e);var n=t.length;var i=-1;var r;var o="";while(++i<n){r=t[i];o+=f(r)}return o}function p(){if(v>=y){throw Error("Invalid byte index")}var e=g[v]&255;v++;if((e&192)==128){return e&63}throw Error("Invalid continuation byte")}function m(){var e;var t;var n;var i;var r;if(v>y){throw Error("Invalid byte index")}if(v==y){return false}e=g[v]&255;v++;if((e&128)==0){return e}if((e&224)==192){var t=p();r=(e&31)<<6|t;if(r>=128){return r}else{throw Error("Invalid continuation byte")}}if((e&240)==224){t=p();n=p();r=(e&15)<<12|t<<6|n;if(r>=2048){return r}else{throw Error("Invalid continuation byte")}}if((e&248)==240){t=p();n=p();i=p();r=(e&15)<<18|t<<12|n<<6|i;if(r>=65536&&r<=1114111){return r}}throw Error("Invalid UTF-8 detected")}var g;var y;var v;function b(e){g=c(e);y=g.length;v=0;var t=[];var n;while((n=m())!==false){t.push(n)}return u(t)}var x={version:"2.0.0",encode:h,decode:b};if(typeof e=="function"&&typeof e.amd=="object"&&e.amd){e(function(){return x})}else if(o&&!o.nodeType){if(a){a.exports=x}else{var w={};var k=w.hasOwnProperty;for(var _ in x){k.call(x,_)&&(o[_]=x[_])}}}else{r.utf8=x}}(this)}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],28:[function(e,t,n){!function(e){var n=/^[\],:{}\s]*$/;var i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g;var r=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g;var o=/(?:^|:|,)(?:\s*\[)+/g;var a=/^\s+/;var s=/\s+$/;t.exports=function l(t){if("string"!=typeof t||!t){return null}t=t.replace(a,"").replace(s,"");if(e.JSON&&JSON.parse){return JSON.parse(t)}if(n.test(t.replace(i,"@").replace(r,"]").replace(o,""))){return new Function("return "+t)()}}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],29:[function(e,t,n){n.encode=function(e){var t="";for(var n in e){if(e.hasOwnProperty(n)){if(t.length)t+="&";t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])}}return t};n.decode=function(e){var t={};var n=e.split("&");for(var i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],30:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function o(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");if(n!=-1&&o!=-1){e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length)}var a=i.exec(e||""),s={},l=14;while(l--){s[r[l]]=a[l]||""}if(n!=-1&&o!=-1){s.source=t;s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":");s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":");s.ipv6uri=true}return s}},{}],31:[function(e,t,n){var i=function(){return this}();var r=i.WebSocket||i.MozWebSocket;t.exports=r?o:null;function o(e,t,n){var i;if(t){i=new r(e,t)}else{i=new r(e)}return i}if(r)o.prototype=r.prototype},{}],32:[function(e,t,n){!function(n){var i=e("isarray");t.exports=r;function r(e){function t(e){if(!e)return false;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File){return true}if(i(e)){for(var r=0;r<e.length;r++){if(t(e[r])){return true}}}else if(e&&"object"==typeof e){if(e.toJSON){e=e.toJSON()}for(var o in e){if(e.hasOwnProperty(o)&&t(e[o])){return true}}}return false}return t(e)}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{isarray:33}],33:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}],34:[function(e,t,n){var i=e("global");try{t.exports="XMLHttpRequest"in i&&"withCredentials"in new i.XMLHttpRequest}catch(r){t.exports=false}},{global:35}],35:[function(e,t,n){t.exports=function(){return this}()},{}],36:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n){if(e[n]===t)return n}return-1}},{}],37:[function(e,t,n){var i=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e){if(i.call(e,n)){t.push(n)}}return t};n.values=function(e){var t=[];for(var n in e){if(i.call(e,n)){t.push(e[n])}}return t};n.merge=function(e,t){for(var n in t){if(i.call(t,n)){e[n]=t[n]}}return e};n.length=function(e){return n.keys(e).length};n.isEmpty=function(e){return 0==n.length(e)}},{}],38:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;var r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function o(e){var t=i.exec(e||""),n={},o=14;while(o--){n[r[o]]=t[o]||""}return n}},{}],39:[function(e,t,n){!function(t){var i=e("isarray");var r=e("./is-buffer");n.deconstructPacket=function(e){var t=[];var n=e.data;function o(e){if(!e)return e;if(r(e)){var n={_placeholder:true,num:t.length};t.push(e);return n}else if(i(e)){var a=new Array(e.length);for(var s=0;s<e.length;s++){a[s]=o(e[s])}return a}else if("object"==typeof e&&!(e instanceof Date)){var a={};for(var l in e){a[l]=o(e[l])}return a}return e}var a=e;a.data=o(n);a.attachments=t.length;return{packet:a,buffers:t}};n.reconstructPacket=function(e,t){var n=0;function r(e){if(e&&e._placeholder){var n=t[e.num];return n}else if(i(e)){for(var o=0;o<e.length;o++){e[o]=r(e[o])}return e}else if(e&&"object"==typeof e){for(var a in e){e[a]=r(e[a])}return e}return e}e.data=r(e.data);e.attachments=undefined;return e};n.removeBlobs=function(e,n){function o(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){a++;var u=new FileReader;u.onload=function(){if(c){c[l]=this.result}else{s=this.result}if(!--a){n(s)}};u.readAsArrayBuffer(e)}else if(i(e)){for(var d=0;d<e.length;d++){o(e[d],d,e)}}else if(e&&"object"==typeof e&&!r(e)){for(var f in e){o(e[f],f,e)}}}var a=0;var s=e;o(s);if(!a){n(s)}}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./is-buffer":41,isarray:42}],40:[function(e,t,n){var i=e("debug")("socket.io-parser");var r=e("json3");var o=e("isarray");var a=e("component-emitter");var s=e("./binary");var l=e("./is-buffer");n.protocol=4;n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"];n.CONNECT=0;n.DISCONNECT=1;n.EVENT=2;n.ACK=3;n.ERROR=4;n.BINARY_EVENT=5;n.BINARY_ACK=6;n.Encoder=c;n.Decoder=f;function c(){}c.prototype.encode=function(e,t){i("encoding packet %j",e);if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){d(e,t)}else{var r=u(e);t([r])}};function u(e){var t="";var o=false;t+=e.type;if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){t+=e.attachments;t+="-"}if(e.nsp&&"/"!=e.nsp){o=true;t+=e.nsp}if(null!=e.id){if(o){t+=",";o=false}t+=e.id}if(null!=e.data){if(o)t+=",";t+=r.stringify(e.data)}i("encoded %j as %s",e,t);return t}function d(e,t){function n(e){var n=s.deconstructPacket(e);var i=u(n.packet);var r=n.buffers;r.unshift(i);t(r)}s.removeBlobs(e,n)}function f(){this.reconstructor=null}a(f.prototype);f.prototype.add=function(e){var t;if("string"==typeof e){t=h(e);if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){this.reconstructor=new p(t);if(this.reconstructor.reconPack.attachments==0){this.emit("decoded",t)}}else{this.emit("decoded",t)}}else if(l(e)||e.base64){if(!this.reconstructor){throw new Error("got binary data when not reconstructing a packet")}else{t=this.reconstructor.takeBinaryData(e);if(t){this.reconstructor=null;this.emit("decoded",t)}}}else{throw new Error("Unknown type: "+e)}};function h(e){var t={};var o=0;t.type=Number(e.charAt(0));if(null==n.types[t.type])return m();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){t.attachments="";while(e.charAt(++o)!="-"){t.attachments+=e.charAt(o)}t.attachments=Number(t.attachments)}if("/"==e.charAt(o+1)){t.nsp="";while(++o){var a=e.charAt(o);if(","==a)break;t.nsp+=a;if(o+1==e.length)break}}else{t.nsp="/"}var s=e.charAt(o+1);if(""!=s&&Number(s)==s){t.id="";while(++o){var a=e.charAt(o);if(null==a||Number(a)!=a){--o;break}t.id+=e.charAt(o);if(o+1==e.length)break}t.id=Number(t.id)}if(e.charAt(++o)){try{t.data=r.parse(e.substr(o))}catch(l){return m()}}i("decoded %s as %j",e,t);return t}f.prototype.destroy=function(){if(this.reconstructor){this.reconstructor.finishedReconstruction()}};function p(e){this.reconPack=e;this.buffers=[]}p.prototype.takeBinaryData=function(e){this.buffers.push(e);if(this.buffers.length==this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);this.finishedReconstruction();return t}return null};p.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]};function m(e){return{type:n.ERROR,data:"parser error"}}},{"./binary":39,"./is-buffer":41,"component-emitter":8,debug:9,isarray:42,json3:43}],41:[function(e,t,n){!function(e){t.exports=n;function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}}.call(this,typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],42:[function(e,t,n){t.exports=e(33)},{}],43:[function(t,n,i){!function(t){var n={}.toString,r,o,a;var s=typeof e==="function"&&e.amd;var l=typeof JSON=="object"&&JSON;var c=typeof i=="object"&&i&&!i.nodeType&&i;if(c&&l){c.stringify=l.stringify;c.parse=l.parse}else{c=t.JSON=l||{}}var u=new Date(-0xc782b5b800cec);try{u=u.getUTCFullYear()==-109252&&u.getUTCMonth()===0&&u.getUTCDate()===1&&u.getUTCHours()==10&&u.getUTCMinutes()==37&&u.getUTCSeconds()==6&&u.getUTCMilliseconds()==708}catch(d){}function f(e){if(f[e]!==a){return f[e]}var t;if(e=="bug-string-char-index"){t="a"[0]!="a"}else if(e=="json"){t=f("json-stringify")&&f("json-parse")}else{var i,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var o=c.stringify,s=typeof o=="function"&&u;if(s){(i=function(){return 1}).toJSON=i;try{s=o(0)==="0"&&o(new Number)==="0"&&o(new String)=='""'&&o(n)===a&&o(a)===a&&o()===a&&o(i)==="1"&&o([i])=="[1]"&&o([a])=="[null]"&&o(null)=="null"&&o([a,n,null])=="[null,null,null]"&&o({a:[i,true,false,null,"\x00\b\n\f\r	"]})==r&&o(null,i)==="1"&&o([1,2],null,1)=="[\n 1,\n 2\n]"&&o(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&o(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&o(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&o(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(l){s=false}}t=s}if(e=="json-parse"){var d=c.parse;if(typeof d=="function"){try{if(d("0")===0&&!d(false)){i=d(r);var h=i["a"].length==5&&i["a"][0]===1;if(h){try{h=!d('"	"')}catch(l){}if(h){try{h=d("01")!==1}catch(l){}}if(h){try{h=d("1.")!==1}catch(l){}}}}}catch(l){h=false}}t=h}}return f[e]=!!t}if(!f("json")){var h="[object Function]";var p="[object Date]";var m="[object Number]";var g="[object String]";var y="[object Array]";var v="[object Boolean]";var b=f("bug-string-char-index");if(!u){var x=Math.floor;var w=[0,31,59,90,120,151,181,212,243,273,304,334];var k=function(e,t){return w[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)}}if(!(r={}.hasOwnProperty)){r=function(e){var t={},i;if((t.__proto__=null,t.__proto__={toString:1},t).toString!=n){r=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);this.__proto__=t;return n}}else{i=t.constructor;r=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}}t=null;return r.call(this,e)}}var _={"boolean":1,number:1,string:1,undefined:1};var T=function(e,t){var n=typeof e[t];return n=="object"?!!e[t]:!_[n]};o=function(e,t){var i=0,a,s,l;(a=function(){this.valueOf=0}).prototype.valueOf=0;s=new a;for(l in s){if(r.call(s,l)){i++}}a=s=null;if(!i){s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];o=function(e,t){var i=n.call(e)==h,o,a;var l=!i&&typeof e.constructor!="function"&&T(e,"hasOwnProperty")?e.hasOwnProperty:r;for(o in e){if(!(i&&o=="prototype")&&l.call(e,o)){t(o)}}for(a=s.length;o=s[--a];l.call(e,o)&&t(o));}}else if(i==2){o=function(e,t){var i={},o=n.call(e)==h,a;for(a in e){if(!(o&&a=="prototype")&&!r.call(i,a)&&(i[a]=1)&&r.call(e,a)){t(a)}}}}else{o=function(e,t){var i=n.call(e)==h,o,a;for(o in e){if(!(i&&o=="prototype")&&r.call(e,o)&&!(a=o==="constructor")){t(o)}}if(a||r.call(e,o="constructor")){t(o)}}}return o(e,t)};if(!f("json-stringify")){var C={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"};var S="000000";var M=function(e,t){return(S+(t||0)).slice(-e)};var E="\\u00";var D=function(e){var t='"',n=0,i=e.length,r=i>10&&b,o;if(r){o=e.split("")}for(;n<i;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=C[a];break;default:if(a<32){t+=E+M(2,a.toString(16));break}t+=r?o[n]:b?e.charAt(n):e[n]}}return t+'"'};var O=function(e,t,i,s,l,c,u){var d,f,h,b,w,_,T,C,S,E,A,N,L,P,H,B;try{d=t[e]}catch(I){}if(typeof d=="object"&&d){f=n.call(d);if(f==p&&!r.call(d,"toJSON")){if(d>-1/0&&d<1/0){if(k){w=x(d/864e5);for(h=x(w/365.2425)+1970-1;k(h+1,0)<=w;h++);for(b=x((w-k(h,0))/30.42);k(h,b+1)<=w;b++);w=1+w-k(h,b);_=(d%864e5+864e5)%864e5;T=x(_/36e5)%24;C=x(_/6e4)%60;S=x(_/1e3)%60;E=_%1e3}else{h=d.getUTCFullYear();b=d.getUTCMonth();w=d.getUTCDate();T=d.getUTCHours();C=d.getUTCMinutes();S=d.getUTCSeconds();E=d.getUTCMilliseconds()}d=(h<=0||h>=1e4?(h<0?"-":"+")+M(6,h<0?-h:h):M(4,h))+"-"+M(2,b+1)+"-"+M(2,w)+"T"+M(2,T)+":"+M(2,C)+":"+M(2,S)+"."+M(3,E)+"Z"}else{d=null}}else if(typeof d.toJSON=="function"&&(f!=m&&f!=g&&f!=y||r.call(d,"toJSON"))){d=d.toJSON(e)}}if(i){d=i.call(t,e,d)}if(d===null){return"null"}f=n.call(d);if(f==v){return""+d}else if(f==m){return d>-1/0&&d<1/0?""+d:"null"}else if(f==g){return D(""+d)}if(typeof d=="object"){for(P=u.length;P--;){if(u[P]===d){throw TypeError()}}u.push(d);A=[];H=c;c+=l;if(f==y){for(L=0,P=d.length;L<P;L++){N=O(L,d,i,s,l,c,u);A.push(N===a?"null":N)}B=A.length?l?"[\n"+c+A.join(",\n"+c)+"\n"+H+"]":"["+A.join(",")+"]":"[]"}else{o(s||d,function(e){var t=O(e,d,i,s,l,c,u);if(t!==a){A.push(D(e)+":"+(l?" ":"")+t)}});B=A.length?l?"{\n"+c+A.join(",\n"+c)+"\n"+H+"}":"{"+A.join(",")+"}":"{}"}u.pop();return B}};c.stringify=function(e,t,i){var r,o,a,s;if(typeof t=="function"||typeof t=="object"&&t){if((s=n.call(t))==h){o=t}else if(s==y){a={};for(var l=0,c=t.length,u;l<c;u=t[l++],(s=n.call(u),s==g||s==m)&&(a[u]=1));}}if(i){if((s=n.call(i))==m){if((i-=i%1)>0){for(r="",i>10&&(i=10);r.length<i;r+=" ");}}else if(s==g){r=i.length<=10?i:i.slice(0,10)}}return O("",(u={},u[""]=e,u),o,a,r,"",[])}}if(!f("json-parse")){var A=String.fromCharCode;var N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"};var L,P;var H=function(){L=P=null;throw SyntaxError()};var B=function(){var e=P,t=e.length,n,i,r,o,a;while(L<t){a=e.charCodeAt(L);switch(a){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:n=b?e.charAt(L):e[L];L++;return n;case 34:for(n="@",L++;L<t;){a=e.charCodeAt(L);if(a<32){H()}else if(a==92){a=e.charCodeAt(++L);switch(a){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=N[a];L++;break;case 117:i=++L;for(r=L+4;L<r;L++){a=e.charCodeAt(L);if(!(a>=48&&a<=57||a>=97&&a<=102||a>=65&&a<=70)){H()}}n+=A("0x"+e.slice(i,L));break;default:H()}}else{if(a==34){break}a=e.charCodeAt(L);i=L;while(a>=32&&a!=92&&a!=34){a=e.charCodeAt(++L)}n+=e.slice(i,L)}}if(e.charCodeAt(L)==34){L++;return n}H();default:i=L;if(a==45){o=true;a=e.charCodeAt(++L)}if(a>=48&&a<=57){if(a==48&&(a=e.charCodeAt(L+1),a>=48&&a<=57)){H()}o=false;for(;L<t&&(a=e.charCodeAt(L),a>=48&&a<=57);L++);if(e.charCodeAt(L)==46){r=++L;for(;r<t&&(a=e.charCodeAt(r),a>=48&&a<=57);r++);if(r==L){H()}L=r}a=e.charCodeAt(L);if(a==101||a==69){a=e.charCodeAt(++L);if(a==43||a==45){L++}for(r=L;r<t&&(a=e.charCodeAt(r),a>=48&&a<=57);r++);if(r==L){H()}L=r}return+e.slice(i,L)}if(o){H()}if(e.slice(L,L+4)=="true"){L+=4;return true}else if(e.slice(L,L+5)=="false"){L+=5;return false}else if(e.slice(L,L+4)=="null"){L+=4;return null}H()}}return"$"};var I=function(e){var t,n;if(e=="$"){H()}if(typeof e=="string"){if((b?e.charAt(0):e[0])=="@"){return e.slice(1)}if(e=="["){t=[];for(;;n||(n=true)){e=B();if(e=="]"){break}if(n){if(e==","){e=B();if(e=="]"){H()}}else{H()}}if(e==","){H()}t.push(I(e))}return t}else if(e=="{"){t={};for(;;n||(n=true)){e=B();if(e=="}"){break}if(n){if(e==","){e=B();if(e=="}"){H()}}else{H()}}if(e==","||typeof e!="string"||(b?e.charAt(0):e[0])!="@"||B()!=":"){H()}t[e.slice(1)]=I(B())}return t}H()}return e};var R=function(e,t,n){var i=F(e,t,n);if(i===a){delete e[t]}else{e[t]=i}};var F=function(e,t,i){var r=e[t],a;if(typeof r=="object"&&r){if(n.call(r)==y){for(a=r.length;a--;){R(r,a,i)}}else{o(r,function(e){R(r,e,i)})}}return i.call(e,t,r)};c.parse=function(e,t){var i,r;L=0;P=""+e;i=I(B());if(B()!="$"){H()}L=P=null;return t&&n.call(t)==h?F((r={},r[""]=i,r),"",t):i}}}if(s){e(function(){return c})}}(this)},{}],44:[function(e,t,n){t.exports=i;function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++){n[i-t]=e[i]}return n}},{}]},{},[1])(1)});!function(e,t){function n(n,i){function r(e){return s.preferFlash&&St&&!s.ignoreFlash&&s.flash[e]!==t&&s.flash[e]}function o(e){return function(t){var n=this._s;return!n||!n._a?null:e.call(this,t)}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=i||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20140901";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var a,s=this,l=null,c=null,u,d=navigator.userAgent,f=e.location.href.toString(),h=document,p,m,g,y,v=[],b=!1,x=!1,w=!1,k=!1,_=!1,T,C,S,M,E,D,O,A,N,L,P,H,B,I,R,F,j,W,z,q,Y,U,$,V,X,G,Q=null,J=null,Z,K,et,tt,nt,it,rt=!1,ot=!1,at,st,lt,ct=0,ut=null,dt,ft=[],ht,pt=null,mt,gt,yt,vt,bt,xt,wt,kt,_t=Array.prototype.slice,Tt=!1,Ct,St,Mt,Et,Dt,Ot,At=0,Nt=d.match(/(ipad|iphone|ipod)/i),Lt=d.match(/android/i),Pt=d.match(/msie/i),Ht=d.match(/webkit/i),Bt=d.match(/safari/i)&&!d.match(/chrome/i),It=d.match(/opera/i),Rt=d.match(/(mobile|pre\/|xoom)/i)||Nt||Lt,Ft=!f.match(/usehtml5audio/i)&&!f.match(/sm2\-ignorebadua/i)&&Bt&&!d.match(/silk/i)&&d.match(/OS X 10_6_([3-7])/i),jt=h.hasFocus!==t?h.hasFocus():null,Wt=Bt&&(h.hasFocus===t||!h.hasFocus()),zt=!Wt,qt=/(mp3|mp4|mpa|m4a|m4b)/i,Yt=h.location?h.location.protocol.match(/http/i):null,Ut=!Yt?"http://":"",$t=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Vt="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),Xt=RegExp("\\.("+Vt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!Yt;var Gt;try{Gt=Audio!==t&&(It&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(Qt){Gt=!1}this.hasHTML5=Gt;this.setup=function(e){var n=!s.url;e!==t&&w&&pt&&s.ok();S(e);e&&(n&&W&&e.url!==t&&s.beginDelayedInit(),!W&&e.url!==t&&"complete"===h.readyState&&setTimeout(F,1));return s};this.supported=this.ok=function(){return pt?w&&!k:s.useHTML5Audio&&s.hasHTML5};this.getMovie=function(t){return u(t)||h[t]||e[t]};this.createSound=function(e,n){function i(){r=tt(r);s.sounds[r.id]=new a(r);s.soundIDs.push(r.id);return s.sounds[r.id]}var r,o=null;if(!w||!s.ok())return!1;n!==t&&(e={id:e,url:n});r=C(e);r.url=dt(r.url);void 0===r.id&&(r.id=s.setupOptions.idPrefix+At++);if(it(r.id,!0))return s.sounds[r.id];if(gt(r))o=i(),o._setup_html5(r);else{if(s.html5Only||s.html5.usingFlash&&r.url&&r.url.match(/data\:/i))return i();8<y&&null===r.isMovieStar&&(r.isMovieStar=!(!r.serverURL&&!(r.type&&r.type.match($t)||r.url&&r.url.match(Xt))));r=nt(r,void 0);o=i();8===y?c._createSound(r.id,r.loops||1,r.usePolicyFile):(c._createSound(r.id,r.url,r.usePeakData,r.useWaveformData,r.useEQData,r.isMovieStar,r.isMovieStar?r.bufferTime:!1,r.loops||1,r.serverURL,r.duration||null,r.autoPlay,!0,r.autoLoad,r.usePolicyFile),r.serverURL||(o.connected=!0,r.onconnect&&r.onconnect.apply(o)));!r.serverURL&&(r.autoLoad||r.autoPlay)&&o.load(r)}!r.serverURL&&r.autoPlay&&o.play();return o};this.destroySound=function(e,t){if(!it(e))return!1;var n=s.sounds[e],i;n._iO={};n.stop();n.unload();for(i=0;i<s.soundIDs.length;i++)if(s.soundIDs[i]===e){s.soundIDs.splice(i,1);break}t||n.destruct(!0);delete s.sounds[e];return!0};this.load=function(e,t){return!it(e)?!1:s.sounds[e].load(t)};this.unload=function(e){return!it(e)?!1:s.sounds[e].unload()};this.onposition=this.onPosition=function(e,t,n,i){return!it(e)?!1:s.sounds[e].onposition(t,n,i)};this.clearOnPosition=function(e,t,n){return!it(e)?!1:s.sounds[e].clearOnPosition(t,n)};this.start=this.play=function(e,t){var n=null,i=t&&!(t instanceof Object);if(!w||!s.ok())return!1;if(it(e,i))i&&(t={url:t});else{if(!i)return!1;i&&(t={url:t});t&&t.url&&(t.id=e,n=s.createSound(t).play())}null===n&&(n=s.sounds[e].play(t));return n};this.setPosition=function(e,t){return!it(e)?!1:s.sounds[e].setPosition(t)};this.stop=function(e){return!it(e)?!1:s.sounds[e].stop()};this.stopAll=function(){for(var e in s.sounds)s.sounds.hasOwnProperty(e)&&s.sounds[e].stop()};this.pause=function(e){return!it(e)?!1:s.sounds[e].pause()};this.pauseAll=function(){var e;for(e=s.soundIDs.length-1;0<=e;e--)s.sounds[s.soundIDs[e]].pause()};this.resume=function(e){return!it(e)?!1:s.sounds[e].resume()};this.resumeAll=function(){var e;for(e=s.soundIDs.length-1;0<=e;e--)s.sounds[s.soundIDs[e]].resume()};this.togglePause=function(e){return!it(e)?!1:s.sounds[e].togglePause()};this.setPan=function(e,t){return!it(e)?!1:s.sounds[e].setPan(t)};this.setVolume=function(e,t){return!it(e)?!1:s.sounds[e].setVolume(t)};this.mute=function(e){var t=0;e instanceof String&&(e=null);if(e)return!it(e)?!1:s.sounds[e].mute();for(t=s.soundIDs.length-1;0<=t;t--)s.sounds[s.soundIDs[t]].mute();return s.muted=!0};this.muteAll=function(){s.mute()};this.unmute=function(e){e instanceof String&&(e=null);if(e)return!it(e)?!1:s.sounds[e].unmute();for(e=s.soundIDs.length-1;0<=e;e--)s.sounds[s.soundIDs[e]].unmute();s.muted=!1;return!0};this.unmuteAll=function(){s.unmute()};this.toggleMute=function(e){return!it(e)?!1:s.sounds[e].toggleMute()};this.getMemoryUse=function(){var e=0;c&&8!==y&&(e=parseInt(c._getMemoryUse(),10));return e};this.disable=function(n){var i;n===t&&(n=!1);if(k)return!1;k=!0;for(i=s.soundIDs.length-1;0<=i;i--)V(s.sounds[s.soundIDs[i]]);T(n);kt.remove(e,"load",O);return!0};this.canPlayMIME=function(e){var t;s.hasHTML5&&(t=yt({type:e}));!t&&pt&&(t=e&&s.ok()?!!(8<y&&e.match($t)||e.match(s.mimePattern)):null);return t};this.canPlayURL=function(e){var t;s.hasHTML5&&(t=yt({url:e}));!t&&pt&&(t=e&&s.ok()?!!e.match(s.filePattern):null);return t};this.canPlayLink=function(e){return e.type!==t&&e.type&&s.canPlayMIME(e.type)?!0:s.canPlayURL(e.href)};this.getSoundById=function(e,t){return!e?null:s.sounds[e]};this.onready=function(t,n){if("function"===typeof t)n||(n=e),E("onready",t,n),D();else throw Z("needFunction","onready");return!0};this.ontimeout=function(t,n){if("function"===typeof t)n||(n=e),E("ontimeout",t,n),D({type:"ontimeout"});else throw Z("needFunction","ontimeout");return!0};this._wD=this._writeDebug=function(e,t){return!0};this._debug=function(){};this.reboot=function(t,n){var i,r,o;for(i=s.soundIDs.length-1;0<=i;i--)s.sounds[s.soundIDs[i]].destruct();if(c)try{Pt&&(J=c.innerHTML),Q=c.parentNode.removeChild(c)}catch(a){}J=Q=pt=c=null;s.enabled=W=w=rt=ot=b=x=k=Tt=s.swfLoaded=!1;s.soundIDs=[];s.sounds={};At=0;if(t)v=[];else for(i in v)if(v.hasOwnProperty(i)){r=0;for(o=v[i].length;r<o;r++)v[i][r].fired=!1}s.html5={usingFlash:null};s.flash={};s.html5Only=!1;s.ignoreFlash=!1;e.setTimeout(function(){R();n||s.beginDelayedInit()},20);return s};this.reset=function(){return s.reboot(!0,!0)};this.getMoviePercent=function(){return c&&"PercentLoaded"in c?c.PercentLoaded():null};this.beginDelayedInit=function(){_=!0;F();setTimeout(function(){if(ot)return!1;q();I();return ot=!0},20);A()};this.destruct=function(){s.disable(!0)};a=function(e){var n,i,r=this,o,a,u,d,f,h,p=!1,m=[],g=0,v,b,x=null,w;i=n=null;this.sID=this.id=e.id;this.url=e.url;this._iO=this.instanceOptions=this.options=C(e);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;w=this.url?!1:!0;this.id3={};this._debug=function(){};this.load=function(e){var n=null,i;e!==t?r._iO=C(e,r.options):(e=r.options,r._iO=e,x&&x!==r.url&&(r._iO.url=r.url,r.url=null));r._iO.url||(r._iO.url=r.url);r._iO.url=dt(r._iO.url);i=r.instanceOptions=r._iO;if(!i.url&&!r.url)return r;if(i.url===r.url&&0!==r.readyState&&2!==r.readyState)return 3===r.readyState&&i.onload&&Ot(r,function(){i.onload.apply(r,[!!r.duration])}),r;r.loaded=!1;r.readyState=1;r.playState=0;r.id3={};if(gt(i))n=r._setup_html5(i),n._called_load||(r._html5_canplay=!1,r.url!==i.url&&(r._a.src=i.url,r.setPosition(0)),r._a.autobuffer="auto",r._a.preload="auto",r._a._called_load=!0);else{if(s.html5Only||r._iO.url&&r._iO.url.match(/data\:/i))return r;try{r.isHTML5=!1;r._iO=nt(tt(i));if(r._iO.autoPlay&&(r._iO.position||r._iO.from))r._iO.autoPlay=!1;i=r._iO;8===y?c._load(r.id,i.url,i.stream,i.autoPlay,i.usePolicyFile):c._load(r.id,i.url,!!i.stream,!!i.autoPlay,i.loops||1,!!i.autoLoad,i.usePolicyFile)}catch(o){Y({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}r.url=i.url;return r};this.unload=function(){0!==r.readyState&&(r.isHTML5?(d(),r._a&&(r._a.pause(),x=bt(r._a))):8===y?c._unload(r.id,"about:blank"):c._unload(r.id),o());
return r};this.destruct=function(e){r.isHTML5?(d(),r._a&&(r._a.pause(),bt(r._a),Tt||u(),r._a._s=null,r._a=null)):(r._iO.onfailure=null,c._destroySound(r.id));e||s.destroySound(r.id,!0)};this.start=this.play=function(e,n){var i,o,a,l,u;o=!0;o=null;n=n===t?!0:n;e||(e={});r.url&&(r._iO.url=r.url);r._iO=C(r._iO,r.options);r._iO=C(e,r._iO);r._iO.url=dt(r._iO.url);r.instanceOptions=r._iO;if(!r.isHTML5&&r._iO.serverURL&&!r.connected)return r.getAutoPlay()||r.setAutoPlay(!0),r;gt(r._iO)&&(r._setup_html5(r._iO),f());1===r.playState&&!r.paused&&(i=r._iO.multiShot,i||(r.isHTML5&&r.setPosition(r._iO.position),o=r));if(null!==o)return o;e.url&&e.url!==r.url&&(!r.readyState&&!r.isHTML5&&8===y&&w?w=!1:r.load(r._iO));r.loaded||(0===r.readyState?(!r.isHTML5&&!s.html5Only?(r._iO.autoPlay=!0,r.load(r._iO)):r.isHTML5?r.load(r._iO):o=r,r.instanceOptions=r._iO):2===r.readyState&&(o=r));if(null!==o)return o;!r.isHTML5&&9===y&&0<r.position&&r.position===r.duration&&(e.position=0);if(r.paused&&0<=r.position&&(!r._iO.serverURL||0<r.position))r.resume();else{r._iO=C(e,r._iO);if((!r.isHTML5&&null!==r._iO.position&&0<r._iO.position||null!==r._iO.from&&0<r._iO.from||null!==r._iO.to)&&0===r.instanceCount&&0===r.playState&&!r._iO.serverURL){i=function(){r._iO=C(e,r._iO);r.play(r._iO)};if(r.isHTML5&&!r._html5_canplay)r.load({_oncanplay:i}),o=!1;else if(!r.isHTML5&&!r.loaded&&(!r.readyState||2!==r.readyState))r.load({onload:i}),o=!1;if(null!==o)return o;r._iO=b()}(!r.instanceCount||r._iO.multiShotEvents||r.isHTML5&&r._iO.multiShot&&!Tt||!r.isHTML5&&8<y&&!r.getAutoPlay())&&r.instanceCount++;r._iO.onposition&&0===r.playState&&h(r);r.playState=1;r.paused=!1;r.position=r._iO.position!==t&&!isNaN(r._iO.position)?r._iO.position:0;r.isHTML5||(r._iO=nt(tt(r._iO)));r._iO.onplay&&n&&(r._iO.onplay.apply(r),p=!0);r.setVolume(r._iO.volume,!0);r.setPan(r._iO.pan,!0);r.isHTML5?2>r.instanceCount?(f(),o=r._setup_html5(),r.setPosition(r._iO.position),o.play()):(a=new Audio(r._iO.url),l=function(){kt.remove(a,"ended",l);r._onfinish(r);bt(a);a=null},u=function(){kt.remove(a,"canplay",u);try{a.currentTime=r._iO.position/1e3}catch(e){}a.play()},kt.add(a,"ended",l),void 0!==r._iO.volume&&(a.volume=Math.max(0,Math.min(1,r._iO.volume/100))),r.muted&&(a.muted=!0),r._iO.position?kt.add(a,"canplay",u):a.play()):(o=c._start(r.id,r._iO.loops||1,9===y?r.position:r.position/1e3,r._iO.multiShot||!1),9===y&&!o&&r._iO.onplayerror&&r._iO.onplayerror.apply(r))}return r};this.stop=function(e){var t=r._iO;1===r.playState&&(r._onbufferchange(0),r._resetOnPosition(0),r.paused=!1,r.isHTML5||(r.playState=0),v(),t.to&&r.clearOnPosition(t.to),r.isHTML5?r._a&&(e=r.position,r.setPosition(0),r.position=e,r._a.pause(),r.playState=0,r._onTimer(),d()):(c._stop(r.id,e),t.serverURL&&r.unload()),r.instanceCount=0,r._iO={},t.onstop&&t.onstop.apply(r));return r};this.setAutoPlay=function(e){r._iO.autoPlay=e;r.isHTML5||(c._setAutoPlay(r.id,e),e&&!r.instanceCount&&1===r.readyState&&r.instanceCount++)};this.getAutoPlay=function(){return r._iO.autoPlay};this.setPosition=function(e){e===t&&(e=0);var n=r.isHTML5?Math.max(e,0):Math.min(r.duration||r._iO.duration,Math.max(e,0));r.position=n;e=r.position/1e3;r._resetOnPosition(r.position);r._iO.position=n;if(r.isHTML5){if(r._a){if(r._html5_canplay){if(r._a.currentTime!==e)try{r._a.currentTime=e,(0===r.playState||r.paused)&&r._a.pause()}catch(i){}}else if(e)return r;r.paused&&r._onTimer(!0)}}else e=9===y?r.position:e,r.readyState&&2!==r.readyState&&c._setPosition(r.id,e,r.paused||!r.playState,r._iO.multiShot);return r};this.pause=function(e){if(r.paused||0===r.playState&&1!==r.readyState)return r;r.paused=!0;r.isHTML5?(r._setup_html5().pause(),d()):(e||e===t)&&c._pause(r.id,r._iO.multiShot);r._iO.onpause&&r._iO.onpause.apply(r);return r};this.resume=function(){var e=r._iO;if(!r.paused)return r;r.paused=!1;r.playState=1;r.isHTML5?(r._setup_html5().play(),f()):(e.isMovieStar&&!e.serverURL&&r.setPosition(r.position),c._pause(r.id,e.multiShot));!p&&e.onplay?(e.onplay.apply(r),p=!0):e.onresume&&e.onresume.apply(r);return r};this.togglePause=function(){if(0===r.playState)return r.play({position:9===y&&!r.isHTML5?r.position:r.position/1e3}),r;r.paused?r.resume():r.pause();return r};this.setPan=function(e,n){e===t&&(e=0);n===t&&(n=!1);r.isHTML5||c._setPan(r.id,e);r._iO.pan=e;n||(r.pan=e,r.options.pan=e);return r};this.setVolume=function(e,n){e===t&&(e=100);n===t&&(n=!1);r.isHTML5?r._a&&(s.muted&&!r.muted&&(r.muted=!0,r._a.muted=!0),r._a.volume=Math.max(0,Math.min(1,e/100))):c._setVolume(r.id,s.muted&&!r.muted||r.muted?0:e);r._iO.volume=e;n||(r.volume=e,r.options.volume=e);return r};this.mute=function(){r.muted=!0;r.isHTML5?r._a&&(r._a.muted=!0):c._setVolume(r.id,0);return r};this.unmute=function(){r.muted=!1;var e=r._iO.volume!==t;r.isHTML5?r._a&&(r._a.muted=!1):c._setVolume(r.id,e?r._iO.volume:r.options.volume);return r};this.toggleMute=function(){return r.muted?r.unmute():r.mute()};this.onposition=this.onPosition=function(e,n,i){m.push({position:parseInt(e,10),method:n,scope:i!==t?i:r,fired:!1});return r};this.clearOnPosition=function(e,t){var n;e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<m.length;n++)if(e===m[n].position&&(!t||t===m[n].method))m[n].fired&&g--,m.splice(n,1)};this._processOnPosition=function(){var e,t;e=m.length;if(!e||!r.playState||g>=e)return!1;for(e-=1;0<=e;e--)t=m[e],!t.fired&&r.position>=t.position&&(t.fired=!0,g++,t.method.apply(t.scope,[t.position]));return!0};this._resetOnPosition=function(e){var t,n;t=m.length;if(!t)return!1;for(t-=1;0<=t;t--)n=m[t],n.fired&&e<=n.position&&(n.fired=!1,g--);return!0};b=function(){var e=r._iO,t=e.from,n=e.to,i,o;o=function(){r.clearOnPosition(n,o);r.stop()};i=function(){if(null!==n&&!isNaN(n))r.onPosition(n,o)};null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,i());return e};h=function(){var e,t=r._iO.onposition;if(t)for(e in t)if(t.hasOwnProperty(e))r.onPosition(parseInt(e,10),t[e])};v=function(){var e,t=r._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&r.clearOnPosition(parseInt(e,10))};f=function(){r.isHTML5&&at(r)};d=function(){r.isHTML5&&st(r)};o=function(e){e||(m=[],g=0);p=!1;r._hasTimer=null;r._a=null;r._html5_canplay=!1;r.bytesLoaded=null;r.bytesTotal=null;r.duration=r._iO&&r._iO.duration?r._iO.duration:null;r.durationEstimate=null;r.buffered=[];r.eqData=[];r.eqData.left=[];r.eqData.right=[];r.failures=0;r.isBuffering=!1;r.instanceOptions={};r.instanceCount=0;r.loaded=!1;r.metadata={};r.readyState=0;r.muted=!1;r.paused=!1;r.peakData={left:0,right:0};r.waveformData={left:[],right:[]};r.playState=0;r.position=null;r.id3={}};o();this._onTimer=function(e){var t,o=!1,a={};if(r._hasTimer||e){if(r._a&&(e||(0<r.playState||1===r.readyState)&&!r.paused))t=r._get_html5_duration(),t!==n&&(n=t,r.duration=t,o=!0),r.durationEstimate=r.duration,t=1e3*r._a.currentTime||0,t!==i&&(i=t,o=!0),(o||e)&&r._whileplaying(t,a,a,a,a);return o}};this._get_html5_duration=function(){var e=r._iO;return(e=r._a&&r._a.duration?1e3*r._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&Infinity!==e?e:null};this._apply_loop=function(e,t){e.loop=1<t?"loop":""};this._setup_html5=function(e){e=C(r._iO,e);var t=Tt?l:r._a,n=decodeURI(e.url),i;Tt?n===decodeURI(Ct)&&(i=!0):n===decodeURI(x)&&(i=!0);if(t){if(t._s)if(Tt)t._s&&t._s.playState&&!i&&t._s.stop();else if(!Tt&&n===decodeURI(x))return r._apply_loop(t,e.loops),t;i||(x&&o(!1),t.src=e.url,Ct=x=r.url=e.url,t._called_load=!1)}else e.autoLoad||e.autoPlay?(r._a=new Audio(e.url),r._a.load()):r._a=It&&10>opera.version()?new Audio(null):new Audio,t=r._a,t._called_load=!1,Tt&&(l=t);r.isHTML5=!0;r._a=t;t._s=r;a();r._apply_loop(t,e.loops);e.autoLoad||e.autoPlay?r.load():(t.autobuffer=!1,t.preload="auto");return t};a=function(){if(r._a._added_events)return!1;var e;r._a._added_events=!0;for(e in Dt)Dt.hasOwnProperty(e)&&r._a&&r._a.addEventListener(e,Dt[e],!1);return!0};u=function(){var e;r._a._added_events=!1;for(e in Dt)Dt.hasOwnProperty(e)&&r._a&&r._a.removeEventListener(e,Dt[e],!1)};this._onload=function(e){var t=!!e||!r.isHTML5&&8===y&&r.duration;r.loaded=t;r.readyState=t?3:2;r._onbufferchange(0);r._iO.onload&&Ot(r,function(){r._iO.onload.apply(r,[t])});return!0};this._onbufferchange=function(e){if(0===r.playState||e&&r.isBuffering||!e&&!r.isBuffering)return!1;r.isBuffering=1===e;r._iO.onbufferchange&&r._iO.onbufferchange.apply(r,[e]);return!0};this._onsuspend=function(){r._iO.onsuspend&&r._iO.onsuspend.apply(r);return!0};this._onfailure=function(e,t,n){r.failures++;if(r._iO.onfailure&&1===r.failures)r._iO.onfailure(e,t,n)};this._onwarning=function(e,t,n){if(r._iO.onwarning)r._iO.onwarning(e,t,n)};this._onfinish=function(){var e=r._iO.onfinish;r._onbufferchange(0);r._resetOnPosition(0);r.instanceCount&&(r.instanceCount--,r.instanceCount||(v(),r.playState=0,r.paused=!1,r.instanceCount=0,r.instanceOptions={},r._iO={},d(),r.isHTML5&&(r.position=0)),(!r.instanceCount||r._iO.multiShotEvents)&&e&&Ot(r,function(){e.apply(r)}))};this._whileloading=function(e,t,n,i){var o=r._iO;r.bytesLoaded=e;r.bytesTotal=t;r.duration=Math.floor(n);r.bufferLength=i;r.durationEstimate=!r.isHTML5&&!o.isMovieStar?o.duration?r.duration>o.duration?r.duration:o.duration:parseInt(r.bytesTotal/r.bytesLoaded*r.duration,10):r.duration;r.isHTML5||(r.buffered=[{start:0,end:r.duration}]);(3!==r.readyState||r.isHTML5)&&o.whileloading&&o.whileloading.apply(r)};this._whileplaying=function(e,n,i,o,a){var s=r._iO;if(isNaN(e)||null===e)return!1;r.position=Math.max(0,e);r._processOnPosition();!r.isHTML5&&8<y&&(s.usePeakData&&n!==t&&n&&(r.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&i!==t&&i&&(r.waveformData={left:i.split(","),right:o.split(",")}),s.useEQData&&a!==t&&a&&a.leftEQ&&(e=a.leftEQ.split(","),r.eqData=e,r.eqData.left=e,a.rightEQ!==t&&a.rightEQ&&(r.eqData.right=a.rightEQ.split(","))));1===r.playState&&(!r.isHTML5&&8===y&&!r.position&&r.isBuffering&&r._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(r));return!0};this._oncaptiondata=function(e){r.captiondata=e;r._iO.oncaptiondata&&r._iO.oncaptiondata.apply(r,[e])};this._onmetadata=function(e,t){var n={},i,o;i=0;for(o=e.length;i<o;i++)n[e[i]]=t[i];r.metadata=n;console.log("updated metadata",r.metadata);r._iO.onmetadata&&r._iO.onmetadata.call(r,r.metadata)};this._onid3=function(e,t){var n=[],i,o;i=0;for(o=e.length;i<o;i++)n[e[i]]=t[i];r.id3=C(r.id3,n);r._iO.onid3&&r._iO.onid3.apply(r)};this._onconnect=function(e){e=1===e;if(r.connected=e)r.failures=0,it(r.id)&&(r.getAutoPlay()?r.play(t,r.getAutoPlay()):r._iO.autoLoad&&r.load()),r._iO.onconnect&&r._iO.onconnect.apply(r,[e])};this._ondataerror=function(e){0<r.playState&&r._iO.ondataerror&&r._iO.ondataerror.apply(r)}};z=function(){return h.body||h.getElementsByTagName("div")[0]};u=function(e){return h.getElementById(e)};C=function(e,n){var i=e||{},r,o;r=n===t?s.defaultOptions:n;for(o in r)r.hasOwnProperty(o)&&i[o]===t&&(i[o]="object"!==typeof r[o]||null===r[o]?r[o]:C(i[o],r[o]));return i};Ot=function(t,n){!t.isHTML5&&8===y?e.setTimeout(n,0):n()};M={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};S=function(e,n){var i,r=!0,o=n!==t,a=s.setupOptions;for(i in e)if(e.hasOwnProperty(i))if("object"!==typeof e[i]||null===e[i]||e[i]instanceof Array||e[i]instanceof RegExp)o&&M[n]!==t?s[n][i]=e[i]:a[i]!==t?(s.setupOptions[i]=e[i],s[i]=e[i]):M[i]===t?r=!1:s[i]instanceof Function?s[i].apply(s,e[i]instanceof Array?e[i]:[e[i]]):s[i]=e[i];else if(M[i]===t)r=!1;else return S(e[i],i);return r};kt=function(){function t(e){e=_t.call(e);var t=e.length;i?(e[1]="on"+e[1],3<t&&e.pop()):3===t&&e.push(!1);return e}function n(e,t){var n=e.shift(),o=[r[t]];if(i)n[o](e[0],e[1]);else n[o].apply(n,e)}var i=e.attachEvent,r={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){n(t(arguments),"add")},remove:function(){n(t(arguments),"remove")}}}();Dt={abort:o(function(){}),canplay:o(function(){var e=this._s,n;if(e._html5_canplay)return!0;e._html5_canplay=!0;e._onbufferchange(0);n=e._iO.position!==t&&!isNaN(e._iO.position)?e._iO.position/1e3:null;if(this.currentTime!==n)try{this.currentTime=n}catch(i){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:o(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:o(function(){var e=this._s,t;t=e._get_html5_duration();!isNaN(t)&&t!==e.duration&&(e.durationEstimate=e.duration=t)}),ended:o(function(){this._s._onfinish()}),error:o(function(){this._s._onload(!1)}),loadeddata:o(function(){var e=this._s;!e._loaded&&!Bt&&(e.duration=e._get_html5_duration())}),loadedmetadata:o(function(){}),loadstart:o(function(){this._s._onbufferchange(1)}),play:o(function(){this._s._onbufferchange(0)}),playing:o(function(){this._s._onbufferchange(0)}),progress:o(function(e){var t=this._s,n,i,r=0,r=e.target.buffered;n=e.loaded||0;var o=e.total||1;t.buffered=[];if(r&&r.length){n=0;for(i=r.length;n<i;n++)t.buffered.push({start:1e3*r.start(n),end:1e3*r.end(n)});r=1e3*(r.end(0)-r.start(0));n=Math.min(1,r/(1e3*e.target.duration))}isNaN(n)||(t._whileloading(n,o,t._get_html5_duration()),n&&o&&n===o&&Dt.canplaythrough.call(this,e))}),ratechange:o(function(){}),suspend:o(function(e){var t=this._s;Dt.progress.call(this,e);t._onsuspend()}),stalled:o(function(){}),timeupdate:o(function(){this._s._onTimer()}),waiting:o(function(){this._s._onbufferchange(1)})};gt=function(e){return!e||!e.type&&!e.url&&!e.serverURL?!1:e.serverURL||e.type&&r(e.type)?!1:e.type?yt({type:e.type}):yt({url:e.url})||s.html5Only||e.url.match(/data\:/i)};bt=function(e){var t;e&&(t=Bt?"about:blank":s.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,void 0!==e._called_unload&&(e._called_load=!1));Tt&&(Ct=null);return t};yt=function(e){if(!s.useHTML5Audio||!s.hasHTML5)return!1;var n=e.url||null;e=e.type||null;var i=s.audioFormats,o;if(e&&s.html5[e]!==t)return s.html5[e]&&!r(e);if(!vt){vt=[];for(o in i)i.hasOwnProperty(o)&&(vt.push(o),i[o].related&&(vt=vt.concat(i[o].related)));vt=RegExp("\\.("+vt.join("|")+")(\\?.*)?$","i")}o=n?n.toLowerCase().match(vt):null;!o||!o.length?e&&(n=e.indexOf(";"),o=(-1!==n?e.substr(0,n):e).substr(6)):o=o[1];o&&s.html5[o]!==t?n=s.html5[o]&&!r(o):(e="audio/"+o,n=s.html5.canPlayType({type:e}),n=(s.html5[o]=n)&&s.html5[e]&&!r(e));return n};wt=function(){function e(e){var t,i=t=!1;if(!n||"function"!==typeof n.canPlayType)return t;if(e instanceof Array){l=0;for(t=e.length;l<t;l++)if(s.html5[e[l]]||n.canPlayType(e[l]).match(s.html5Test))i=!0,s.html5[e[l]]=!0,s.flash[e[l]]=!!e[l].match(qt);t=i}else e=n&&"function"===typeof n.canPlayType?n.canPlayType(e):!1,t=!(!e||!e.match(s.html5Test));return t}if(!s.useHTML5Audio||!s.hasHTML5)return pt=s.html5.usingFlash=!0,!1;var n=Audio!==t?It&&10>opera.version()?new Audio(null):new Audio:null,i,r,o={},a,l;a=s.audioFormats;for(i in a)if(a.hasOwnProperty(i)&&(r="audio/"+i,o[i]=e(a[i].type),o[r]=o[i],i.match(qt)?(s.flash[i]=!0,s.flash[r]=!0):(s.flash[i]=!1,s.flash[r]=!1),a[i]&&a[i].related))for(l=a[i].related.length-1;0<=l;l--)o["audio/"+a[i].related[l]]=o[i],s.html5[a[i].related[l]]=o[i],s.flash[a[i].related[l]]=o[i];o.canPlayType=n?e:null;s.html5=C(s.html5,o);s.html5.usingFlash=mt();pt=s.html5.usingFlash;return!0};B={};Z=function(){};tt=function(e){8===y&&1<e.loops&&e.stream&&(e.stream=!1);return e};nt=function(e,t){if(e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData))e.usePolicyFile=!0;return e};p=function(){return!1};V=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"===typeof e[t]&&(e[t]=p)};X=function(e){e===t&&(e=!1);(k||e)&&s.disable(e)};G=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+s.movieURL;s.noSWFCache&&(e+="?ts="+(new Date).getTime());return e};P=function(){y=parseInt(s.flashVersion,10);8!==y&&9!==y&&(s.flashVersion=y=8);var e=s.debugMode||s.debugFlash?"_debug.swf":".swf";s.useHTML5Audio&&!s.html5Only&&s.audioFormats.mp4.required&&9>y&&(s.flashVersion=y=9);s.version=s.versionNumber+(s.html5Only?" (HTML5-only mode)":9===y?" (AS3/Flash 9)":" (AS2/Flash 8)");8<y?(s.defaultOptions=C(s.defaultOptions,s.flash9Options),s.features.buffering=!0,s.defaultOptions=C(s.defaultOptions,s.movieStarOptions),s.filePatterns.flash9=RegExp("\\.(mp3|"+Vt.join("|")+")(\\?.*)?$","i"),s.features.movieStar=!0):s.features.movieStar=!1;s.filePattern=s.filePatterns[8!==y?"flash9":"flash8"];s.movieURL=(8===y?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e);s.features.peakData=s.features.waveformData=s.features.eqData=8<y};U=function(e,t){if(!c)return!1;c._setPolling(e,t)};$=function(){};it=this.getSoundById;et=function(){var e=[];s.debugMode&&e.push("sm2_debug");s.debugFlash&&e.push("flash_debug");s.useHighPerformance&&e.push("high_performance");return e.join(" ")};K=function(){Z("fbHandler");var e=s.getMoviePercent(),t={type:"FLASHBLOCK"};if(s.html5Only)return!1;s.ok()?s.oMC&&(s.oMC.className=[et(),"movieContainer","swf_loaded"+(s.didFlashBlock?" swf_unblocked":"")].join(" ")):(pt&&(s.oMC.className=et()+" movieContainer "+(null===e?"swf_timedout":"swf_error")),s.didFlashBlock=!0,D({type:"ontimeout",ignoreInit:!0,error:t}),Y(t))};E=function(e,n,i){v[e]===t&&(v[e]=[]);v[e].push({method:n,scope:i||null,fired:!1})};D=function(e){e||(e={type:s.ok()?"onready":"ontimeout"});if(!w&&e&&!e.ignoreInit||"ontimeout"===e.type&&(s.ok()||k&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?s.ok():!k},n=e&&e.type?v[e.type]||[]:[],i=[],r,t=[t],o=pt&&!s.ok();e.error&&(t[0].error=e.error);e=0;for(r=n.length;e<r;e++)!0!==n[e].fired&&i.push(n[e]);if(i.length){e=0;for(r=i.length;e<r;e++)i[e].scope?i[e].method.apply(i[e].scope,t):i[e].method.apply(this,t),o||(i[e].fired=!0)}return!0};O=function(){e.setTimeout(function(){s.useFlashBlock&&K();D();"function"===typeof s.onload&&s.onload.apply(e);s.waitForWindowLoad&&kt.add(e,"load",O)},1)};Mt=function(){if(St!==t)return St;var n=!1,i=navigator,r=i.plugins,o,a=e.ActiveXObject;if(r&&r.length)(i=i.mimeTypes)&&i["application/x-shockwave-flash"]&&i["application/x-shockwave-flash"].enabledPlugin&&i["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(a!==t&&!d.match(/MSAppHost/i)){try{o=new a("ShockwaveFlash.ShockwaveFlash")}catch(s){o=null}n=!!o}return St=n};mt=function(){var e,t,n=s.audioFormats;if(Nt&&d.match(/os (1|2|3_0|3_1)\s/i))s.hasHTML5=!1,s.html5Only=!0,s.oMC&&(s.oMC.style.display="none");else if(s.useHTML5Audio&&(!s.html5||!s.html5.canPlayType))s.hasHTML5=!1;if(s.useHTML5Audio&&s.hasHTML5)for(t in ht=!0,n)if(n.hasOwnProperty(t)&&n[t].required)if(s.html5.canPlayType(n[t].type)){if(s.preferFlash&&(s.flash[t]||s.flash[n[t].type]))e=!0}else ht=!1,e=!0;s.ignoreFlash&&(e=!1,ht=!0);s.html5Only=s.hasHTML5&&s.useHTML5Audio&&!e;return!s.html5Only};dt=function(e){var t,n,i=0;if(e instanceof Array){t=0;for(n=e.length;t<n;t++)if(e[t]instanceof Object){if(s.canPlayMIME(e[t].type)){i=t;break}}else if(s.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url);e=e[i]}return e};at=function(e){e._hasTimer||(e._hasTimer=!0,!Rt&&s.html5PollingInterval&&(null===ut&&0===ct&&(ut=setInterval(lt,s.html5PollingInterval)),ct++))};st=function(e){e._hasTimer&&(e._hasTimer=!1,!Rt&&s.html5PollingInterval&&ct--)};lt=function(){var e;if(null!==ut&&!ct)return clearInterval(ut),ut=null,!1;for(e=s.soundIDs.length-1;0<=e;e--)s.sounds[s.soundIDs[e]].isHTML5&&s.sounds[s.soundIDs[e]]._hasTimer&&s.sounds[s.soundIDs[e]]._onTimer()};Y=function(n){n=n!==t?n:{};"function"===typeof s.onerror&&s.onerror.apply(e,[{type:n.type!==t?n.type:null}]);n.fatal!==t&&n.fatal&&s.disable()};Et=function(){if(!Ft||!Mt())return!1;var e=s.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n))if(s.html5[n]=!1,e[n]&&e[n].related)for(t=e[n].related.length-1;0<=t;t--)s.html5[e[n].related[t]]=!1};this._setSandboxType=function(e){};this._externalInterfaceOK=function(e){if(s.swfLoaded)return!1;s.swfLoaded=!0;Wt=!1;Ft&&Et();setTimeout(g,Pt?100:1)};q=function(e,n){function i(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(b&&x)return!1;if(s.html5Only)return P(),s.oMC=u(s.movieID),g(),x=b=!0,!1;var r=n||s.url,o=s.altURL||r,a=z(),l=et(),c=null,c=h.getElementsByTagName("html")[0],f,p,m,c=c&&c.dir&&c.dir.match(/rtl/i);e=e===t?s.id:e;P();s.url=G(Yt?r:o);n=s.url;s.wmode=!s.wmode&&s.useHighPerformance?"transparent":s.wmode;if(null!==s.wmode&&(d.match(/msie 8/i)||!Pt&&!s.useHighPerformance)&&navigator.platform.match(/win32|win64/i))ft.push(B.spcWmode),s.wmode=null;a={name:e,id:e,src:n,quality:"high",allowScriptAccess:s.allowScriptAccess,bgcolor:s.bgColor,pluginspage:Ut+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:s.wmode,hasPriority:"true"};s.debugFlash&&(a.FlashVars="debug=1");s.wmode||delete a.wmode;if(Pt)r=h.createElement("div"),p=['<object id="'+e+'" data="'+n+'" type="'+a.type+'" title="'+a.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Ut+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',i("movie",n),i("AllowScriptAccess",s.allowScriptAccess),i("quality",a.quality),s.wmode?i("wmode",s.wmode):"",i("bgcolor",s.bgColor),i("hasPriority","true"),s.debugFlash?i("FlashVars",a.FlashVars):"","</object>"].join("");else for(f in r=h.createElement("embed"),a)a.hasOwnProperty(f)&&r.setAttribute(f,a[f]);$();l=et();if(a=z())if(s.oMC=u(s.movieID)||h.createElement("div"),s.oMC.id)m=s.oMC.className,s.oMC.className=(m?m+" ":"movieContainer")+(l?" "+l:""),s.oMC.appendChild(r),Pt&&(f=s.oMC.appendChild(h.createElement("div")),f.className="sm2-object-box",f.innerHTML=p),x=!0;else{s.oMC.id=s.movieID;s.oMC.className="movieContainer "+l;f=l=null;s.useFlashBlock||(s.useHighPerformance?l={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(l={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},c&&(l.left=Math.abs(parseInt(l.left,10))+"px")));Ht&&(s.oMC.style.zIndex=1e4);if(!s.debugFlash)for(m in l)l.hasOwnProperty(m)&&(s.oMC.style[m]=l[m]);try{Pt||s.oMC.appendChild(r),a.appendChild(s.oMC),Pt&&(f=s.oMC.appendChild(h.createElement("div")),f.className="sm2-object-box",f.innerHTML=p),x=!0}catch(y){throw Error(Z("domError")+" \n"+y.toString())}}return b=!0};I=function(){if(s.html5Only)return q(),!1;if(c||!s.url)return!1;c=s.getMovie(s.id);c||(Q?(Pt?s.oMC.innerHTML=J:s.oMC.appendChild(Q),Q=null,b=!0):q(s.id,s.url),c=s.getMovie(s.id));"function"===typeof s.oninitmovie&&setTimeout(s.oninitmovie,1);return!0};A=function(){setTimeout(N,1e3)};L=function(){e.setTimeout(function(){s.setup({preferFlash:!1}).reboot();s.didFlashBlock=!0;s.beginDelayedInit()},1)};N=function(){var t,n=!1;if(!s.url||rt)return!1;rt=!0;kt.remove(e,"load",A);if(St&&Wt&&!jt)return!1;w||(t=s.getMoviePercent(),0<t&&100>t&&(n=!0));setTimeout(function(){t=s.getMoviePercent();if(n)return rt=!1,e.setTimeout(A,1),!1;!w&&zt&&(null===t?s.useFlashBlock||0===s.flashLoadTimeout?s.useFlashBlock&&K():!s.useFlashBlock&&ht?L():D({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==s.flashLoadTimeout&&(!s.useFlashBlock&&ht?L():X(!0)))},s.flashLoadTimeout)};H=function(){if(jt||!Wt)return kt.remove(e,"focus",H),!0;jt=zt=!0;rt=!1;A();kt.remove(e,"focus",H);return!0};T=function(t){if(w)return!1;if(s.html5Only)return w=!0,O(),!0;var n=!0,i;if(!s.useFlashBlock||!s.flashLoadTimeout||s.getMoviePercent())w=!0;i={type:!St&&pt?"NO_FLASH":"INIT_TIMEOUT"};if(k||t)s.useFlashBlock&&s.oMC&&(s.oMC.className=et()+" "+(null===s.getMoviePercent()?"swf_timedout":"swf_error")),D({type:"ontimeout",error:i,ignoreInit:!0}),Y(i),n=!1;k||(s.waitForWindowLoad&&!_?kt.add(e,"load",O):O());return n};m=function(){var e,n=s.setupOptions;for(e in n)n.hasOwnProperty(e)&&(s[e]===t?s[e]=n[e]:s[e]!==n[e]&&(s.setupOptions[e]=s[e]))};g=function(){if(w)return!1;if(s.html5Only)return w||(kt.remove(e,"load",s.beginDelayedInit),s.enabled=!0,T()),!0;I();try{c._externalInterfaceTest(!1),U(!0,s.flashPollingInterval||(s.useHighPerformance?10:50)),s.debugMode||c._disableDebug(),s.enabled=!0,s.html5Only||kt.add(e,"unload",p)}catch(t){return Y({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),X(!0),T(),!1}T();kt.remove(e,"load",s.beginDelayedInit);return!0};F=function(){if(W)return!1;W=!0;m();$();!St&&s.hasHTML5&&s.setup({useHTML5Audio:!0,preferFlash:!1});wt();!St&&pt&&(ft.push(B.needFlash),s.setup({flashLoadTimeout:1}));h.removeEventListener&&h.removeEventListener("DOMContentLoaded",F,!1);I();return!0};xt=function(){"complete"===h.readyState&&(F(),h.detachEvent("onreadystatechange",xt));return!0};j=function(){_=!0;F();kt.remove(e,"load",j)};R=function(){if(Rt&&(s.setupOptions.useHTML5Audio=!0,s.setupOptions.preferFlash=!1,Nt||Lt&&!d.match(/android\s2\.3/i)))Nt&&(s.ignoreFlash=!0),Tt=!0};R();Mt();kt.add(e,"focus",H);kt.add(e,"load",A);kt.add(e,"load",j);h.addEventListener?h.addEventListener("DOMContentLoaded",F,!1):h.attachEvent?h.attachEvent("onreadystatechange",xt):Y({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw Error("SoundManager requires a browser with window and document objects.");var i=null;if(void 0===e.SM2_DEFER||!SM2_DEFER)i=new n;"object"===typeof module&&module&&"object"===typeof module.exports?(e.soundManager=i,module.exports.SoundManager=n,module.exports.soundManager=i):"function"===typeof define&&define.amd?define("SoundManager",[],function(){return{SoundManager:n,soundManager:i}}):(e.SoundManager=n,e.soundManager=i)}(window);!function(){"use strict";var e=function(){var e=/\-([a-z])/g,t=function(e,t){return t.toUpperCase()};return function(n){return n.replace(e,t)}}();var t=function(t,n){var i,r,o,a,s,l;if(window.getComputedStyle){i=window.getComputedStyle(t,null).getPropertyValue(n)}else{r=e(n);if(t.currentStyle){i=t.currentStyle[r]}else{i=t.style[r]}}if(n==="cursor"){if(!i||i==="auto"){o=t.tagName.toLowerCase();a=["a"];for(s=0,l=a.length;s<l;s++){if(o===a[s]){return"pointer"}}}}return i};var n=function(e){if(!p.prototype._singleton)return;if(!e){e=window.event}var t;if(this!==window){t=this}else if(e.target){t=e.target}else if(e.srcElement){t=e.srcElement}p.prototype._singleton.setCurrent(t)};var i=function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}};var r=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}};var o=function(e,t){if(e.addClass){e.addClass(t);return e}if(t&&typeof t==="string"){var n=(t||"").split(/\s+/);if(e.nodeType===1){if(!e.className){e.className=t}else{var i=" "+e.className+" ",r=e.className;for(var o=0,a=n.length;o<a;o++){if(i.indexOf(" "+n[o]+" ")<0){r+=" "+n[o]}}e.className=r.replace(/^\s+|\s+$/g,"")}}}return e};var a=function(e,t){if(e.removeClass){e.removeClass(t);return e}if(t&&typeof t==="string"||t===undefined){var n=(t||"").split(/\s+/);if(e.nodeType===1&&e.className){if(t){var i=(" "+e.className+" ").replace(/[\n\t]/g," ");for(var r=0,o=n.length;r<o;r++){i=i.replace(" "+n[r]+" "," ")}e.className=i.replace(/^\s+|\s+$/g,"")}else{e.className=""}}}return e};var s=function(){var e,t,n,i=1;if(typeof document.body.getBoundingClientRect==="function"){e=document.body.getBoundingClientRect();t=e.right-e.left;n=document.body.offsetWidth;i=Math.round(t/n*100)/100}return i};var l=function(e){var n={left:0,top:0,width:0,height:0,zIndex:999999999};var i=t(e,"z-index");if(i&&i!=="auto"){n.zIndex=parseInt(i,10)}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();var o,a,l;if("pageXOffset"in window&&"pageYOffset"in window){o=window.pageXOffset;a=window.pageYOffset}else{l=s();o=Math.round(document.documentElement.scrollLeft/l);a=Math.round(document.documentElement.scrollTop/l)}var c=document.documentElement.clientLeft||0;var u=document.documentElement.clientTop||0;n.left=r.left+o-c;n.top=r.top+a-u;n.width="width"in r?r.width:r.right-r.left;n.height="height"in r?r.height:r.bottom-r.top}return n};var c=function(e){var t=p.prototype._singleton;if(t.options.useNoCache){return(e.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime()}else{return""}};var u=function(e){var t=[];if(e.trustedDomains){var n;if(typeof e.trustedDomains==="string"&&e.trustedDomains){n=[e.trustedDomains]}else if("length"in e.trustedDomains){n=e.trustedDomains}t.push("trustedDomain="+encodeURIComponent(n.join(",")))}if(typeof e.amdModuleId==="string"&&e.amdModuleId){t.push("amdModuleId="+encodeURIComponent(e.amdModuleId))}if(typeof e.cjsModuleId==="string"&&e.cjsModuleId){t.push("cjsModuleId="+encodeURIComponent(e.cjsModuleId))}return t.join("&")};var d=function(e,t){if(t.indexOf){return t.indexOf(e)}for(var n=0,i=t.length;n<i;n++){if(t[n]===e){return n}}return-1};var f=function(e){if(typeof e==="string")throw new TypeError("ZeroClipboard doesn't accept query strings.");if(!e.length)return[e];return e};var h=function(e,t,n,i,r){if(r){window.setTimeout(function(){e.call(t,n,i)},0)}else{e.call(t,n,i)}};var p=function(e,t){if(e)(p.prototype._singleton||this).glue(e);if(p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this;this.options={};for(var n in v)this.options[n]=v[n];for(var i in t)this.options[i]=t[i];this.handlers={};if(p.detectFlashSupport())w()};var m,g=[];p.prototype.setCurrent=function(e){m=e;this.reposition();var n=e.getAttribute("title");if(n){this.setTitle(n)}var i=this.options.forceHandCursor===true||t(e,"cursor")==="pointer";y.call(this,i)};p.prototype.setText=function(e){if(e&&e!==""){this.options.text=e;if(this.ready())this.flashBridge.setText(e)}};p.prototype.setTitle=function(e){if(e&&e!=="")this.htmlBridge.setAttribute("title",e)};p.prototype.setSize=function(e,t){if(this.ready())this.flashBridge.setSize(e,t)};p.prototype.setHandCursor=function(e){e=typeof e==="boolean"?e:!!e;y.call(this,e);this.options.forceHandCursor=e};var y=function(e){if(this.ready())this.flashBridge.setHandCursor(e)};p.version="1.2.0-beta.4";var v={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:true,forceHandCursor:false};p.setDefaults=function(e){for(var t in e)v[t]=e[t]};p.destroy=function(){p.prototype._singleton.unglue(g);var e=p.prototype._singleton.htmlBridge;e.parentNode.removeChild(e);delete p.prototype._singleton};p.detectFlashSupport=function(){var e=false;if(typeof ActiveXObject==="function"){try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){e=true}}catch(t){}}if(!e&&navigator.mimeTypes["application/x-shockwave-flash"]){e=true}return e};var b=null;var x=null;var w=function(){var e=p.prototype._singleton;var t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var n={};for(var i in e.options)n[i]=e.options[i];n.amdModuleId=b;n.cjsModuleId=x;var r=u(n);var o='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+c(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+r+'"/>         <embed src="'+e.options.moviePath+c(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+r+'"           scale="exactfit">         </embed>       </object>';
t=document.createElement("div");t.id="global-zeroclipboard-html-bridge";t.setAttribute("class","global-zeroclipboard-container");t.setAttribute("data-clipboard-ready",false);t.style.position="absolute";t.style.left="-9999px";t.style.top="-9999px";t.style.width="15px";t.style.height="15px";t.style.zIndex="9999";t.innerHTML=o;document.body.appendChild(t)}e.htmlBridge=t;e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};p.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px";this.htmlBridge.style.top="-9999px";this.htmlBridge.removeAttribute("title");this.htmlBridge.removeAttribute("data-clipboard-text");a(m,this.options.activeClass);m=null;this.options.text=null};p.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return e==="true"||e===true};p.prototype.reposition=function(){if(!m)return false;var e=l(m);this.htmlBridge.style.top=e.top+"px";this.htmlBridge.style.left=e.left+"px";this.htmlBridge.style.width=e.width+"px";this.htmlBridge.style.height=e.height+"px";this.htmlBridge.style.zIndex=e.zIndex+1;this.setSize(e.width,e.height)};p.dispatch=function(e,t){p.prototype._singleton.receiveEvent(e,t)};p.prototype.on=function(e,t){var n=e.toString().split(/\s/g);for(var i=0;i<n.length;i++){e=n[i].toLowerCase().replace(/^on/,"");if(!this.handlers[e])this.handlers[e]=t}if(this.handlers.noflash&&!p.detectFlashSupport()){this.receiveEvent("onNoFlash",null)}};p.prototype.addEventListener=p.prototype.on;p.prototype.off=function(e,t){var n=e.toString().split(/\s/g);for(var i=0;i<n.length;i++){e=n[i].toLowerCase().replace(/^on/,"");for(var r in this.handlers){if(r===e&&this.handlers[r]===t){delete this.handlers[r]}}}};p.prototype.removeEventListener=p.prototype.off;p.prototype.receiveEvent=function(e,t){e=e.toString().toLowerCase().replace(/^on/,"");var n=m;var i=true;switch(e){case"load":if(t&&parseFloat(t.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10){this.receiveEvent("onWrongFlash",{flashVersion:t.flashVersion});return}this.htmlBridge.setAttribute("data-clipboard-ready",true);break;case"mouseover":o(n,this.options.hoverClass);break;case"mouseout":a(n,this.options.hoverClass);this.resetBridge();break;case"mousedown":o(n,this.options.activeClass);break;case"mouseup":a(n,this.options.activeClass);break;case"datarequested":var r=n.getAttribute("data-clipboard-target"),s=!r?null:document.getElementById(r);if(s){var l=s.value||s.textContent||s.innerText;if(l)this.setText(l)}else{var c=n.getAttribute("data-clipboard-text");if(c)this.setText(c)}i=false;break;case"complete":this.options.text=null;break}if(this.handlers[e]){var u=this.handlers[e];if(typeof u==="string"&&typeof window[u]==="function"){u=window[u]}if(typeof u==="function"){h(u,n,this,t,i)}}};p.prototype.glue=function(e){e=f(e);for(var t=0;t<e.length;t++){if(d(e[t],g)==-1){g.push(e[t]);i(e[t],"mouseover",n)}}};p.prototype.unglue=function(e){e=f(e);for(var t=0;t<e.length;t++){r(e[t],"mouseover",n);var i=d(e[t],g);if(i!=-1)g.splice(i,1)}};if(typeof define==="function"&&define.amd){define(["require","exports","module"],function(e,t,n){b=n&&n.id||null;return p})}else if(typeof module!=="undefined"&&module){x=module.id||null;module.exports=p}else{window.ZeroClipboard=p}}();!function(e,t,n){if(typeof Object.create==="undefined"){Object.create=function(e){function t(){}t.prototype=e;return new t}}n.ajaxSetup({cache:false});e.StandardWeb={userId:null,username:null,nickname:null,refreshFromnow:function(e){e=e||t;n(".fromnow",e).each(function(){var e;var t=moment();var i=moment(n.trim(n(this).text()));if(i.isValid()){if(t.diff(i,"days")>365){e=i.format("MMMM D, YYYY")}else{e=i.fromNow()}n(this).text(e);n(this).attr("title",i.format("LLL"))}})},on:function(e,t,n){this.subscribe(e,function(e,i){i.on(t,function(e){n(e)})})}}}(window,document,$);!function(e,t,n){StandardWeb.chat={};n(t).ready(function(){var e=n("#chat");if(!e.length){return}var t=n("#chat-textbox");var i=new StandardWeb.realtime.ChatStream(e,t,StandardWeb.chat.serverId);i.connect();soundManager.setup({url:"/static/flash/",flashVersion:9,debugMode:false,preferFlash:false,onready:function(){var e=soundManager.createSound({id:"mention",url:"/static/sound/mention.wav"});i.setMentionSound(e)}})})}(window,document,$);!function(e,t,n){StandardWeb.console={};var i;var r;var o;var a;var s;var l;var c;var u;var d;var f;var h;var p;var m;var g;var y;var v;var b;var x;function w(){var t=n(e).height()-n("#header").outerHeight()-n(".sub-header").outerHeight();var i=t-30;var s=t-22;var l=t-150;if(a.is(":visible")){i-=a.outerHeight();s-=a.outerHeight();l-=a.outerHeight()}r.height(i);o.height(s);n(".players").height(l);n(".users").height(138)}var k=function(e){var t=b.allPlayers[e];if(!t){return}var n="/"+StandardWeb.console.serverId+"/player/"+e;if(t.nickname){l.html('<span class="ansi-container">'+t.nicknameAnsi+"</span>");c.html("("+e+")")}else{l.html(e);c.html("&nbsp")}d.attr("href",n);var i=Math.floor(t.time_spent/60);var r=i>0?t.time_spent%(i*60):t.time_spent;var a;if(i){a=i+(i==1?" hour ":" hours ")+r+(r==1?" minute ":" minutes")}else{a=r+(r==1?" minute ":" minutes")}f.html(t.address);h.html(t.rank);p.html(a);m.html(t.health.toFixed(2));g.html("["+t.world+"] "+t.x+", "+t.y+", "+t.z);var s=[];t.titles.map(function(e){s.push(e.display_name)});if(!s.length){y.html("None")}else{y.html(s.join(", "))}if(e!=x){x=e;u.attr("src","/face/64/"+e+".png")}o.show()};n(t).ready(function(){r=n(".console");if(!r.length){return}a=n(".nav-header");i=n(".console-notification");o=n(".detail");s=o.find(".close");l=o.find(".display-name");c=o.find(".username");u=o.find(".face");d=o.find(".link");f=o.find(".ip");h=o.find(".rank");p=o.find(".time-spent");m=o.find(".health");g=o.find(".location");y=o.find(".titles");v=o.find(".donator");var _=n(".console-textbox");b=new StandardWeb.realtime.ConsoleStream(r,_,StandardWeb.console.serverId);b.connect();w();n(e).resize(function(){w();b.scrollToBottom()});b.onUpdate=function(){if(x){k(x);n('.player[username="'+x+'"]').addClass("selected")}};i.on("click",function(e){var t=n(this).is(":checked");b.playMentionSound=t});n(t).on("click",".player",function(e){var t=n(this).attr("username");n(".player.selected").removeClass("selected");n(this).addClass("selected");b.scrollToBottomIfAtBottom(function(){k(t)})});u.on("load",function(e){u.fadeTo(0,1)});v.on("click",function(e){b.setDonator(x)});s.on("click",function(e){x=null;n(".player.selected").removeClass("selected");b.scrollToBottomIfAtBottom(function(){o.hide()})});soundManager.setup({url:"/static/flash/",flashVersion:9,debugMode:false,preferFlash:false,onready:function(){var e=soundManager.createSound({id:"mention",url:"/static/sound/mention.wav"});b.setMentionSound(e)}})})}(window,document,$);!function(e,t,n){n(t).ready(function(){var e=null;var t=n('<div id="graph-tooltip"></div>').appendTo("body").css({position:"absolute",border:"1px solid #666",padding:"2px","background-color":"#111",color:"#fff"}).hide();n(".player-graph").each(function(){var i=n(this);var r=(new Date).getTimezoneOffset()*1e3*60;var o=4;var a=72;var s={};i.bind("plothover",function(n,i,r){if(r){if(e!=r.dataIndex){e=r.dataIndex;var o=r.datapoint[1];t.show();t.text(o+(o==1?" player":" players"));t.css({top:r.pageY-12,left:r.pageX+14})}}else{t.hide();e=null}});if(i.attr("weekindex")){s["weekIndex"]=i.attr("weekindex")}n.ajax({url:"/"+o+"/player_graph",data:s,success:function(e){i.removeClass("progress");var t=e.points;var o=e.start_time-r;var s=e.end_time-r;var l=[];var c=[];t.map(function(e){var t=e.time-r;var n=e.player_count;var i=e.new_players;l.push([t,n]);if(i>=0){c.push([t,i])}});e=[{data:l}];if(c.length){e.push({data:c,yaxis:2})}e.push({data:[[o],[s]]});n.plot(i,e,{grid:{hoverable:true,backgroundColor:"#ffffff"},colors:["#7E9BFF","#F00"],series:{lines:{fill:true}},xaxes:[{mode:"time",minTickSize:[1,"day"],timeformat:"%b %d"}],yaxes:[{min:0,max:a,tickSize:12,position:"right"},{min:0,max:40}]})},error:function(e){}})})})}(window,document,$);!function(e,t,n){StandardWeb.messages={};var i;var r;var o;var a;var s;var l;var c;var u;function d(e){var t={query:e};n.ajax({url:"/api/v1/contact_query",data:t,success:function(t){var n=t.contacts;var i="";var r;var o;for(r=0;r<n.length;++r){o=n[r];i+=['<a href="/messages/'+o.username+'">','<div class="contact">',o.player_id?'<img class="face-thumb" src="/face/16/'+o.username+'.png" width="16px" height="16px"> ':" ",o.displayname_html,o.nickname?" ("+o.username+")":"","</div>","</a>"].join("")}if(e&&!i){i="<h4>No results</h4>"}c.html(i)}})}n(t).ready(function(){if(!n(".messages-section").length){return}i=n(".messages-contacts");r=n(".message-list");o=n(".reply form");a=n(".reply textarea");s=n(".reply button");l=n('.contact-chooser input[type="text"]');c=n(".search-results");r.scrollTop(r.prop("scrollHeight"));a.on("keydown",function(e){if(e.which==13&&!e.shiftKey){o.submit();a.attr("disabled","disabled");s.attr("disabled","disabled");return false}});s.on("click",function(){a.attr("disabled","disabled");s.attr("disabled","disabled")});l.on("keyup",function(){if(u){clearInterval(u)}u=setTimeout(function(){d(l.val())},100)});if(l.val()){d(l.val())}StandardWeb.realtime.subscribe("messages",function(e,t){if(e){return}t.on("new",function(e){var t=e.message_row_html;var o=e.from_user_id;var a=e.date;if(o==StandardWeb.messages.otherUserId){var s=n(t);r.append(s);r.scrollTop(r.prop("scrollHeight"));StandardWeb.refreshFromnow(s);n.ajax({url:"/api/v1/mark_messages_read",type:"POST",data:{other_user_id:o}})}var l=null;i.find(".contact").each(function(){if(o==n(this).data("user-id")){if(o!=StandardWeb.messages.otherUserId){if(!n(this).hasClass("new")){n(this).addClass("new")}l=n(this).parent();l.remove()}var e=n(this).find(".time > span");e.html(a);StandardWeb.refreshFromnow(l)}});if(l){i.prepend(l)}}.bind(this))})})}(window,document,$);!function(e,t,n){StandardWeb.realtime={rtsAuthData:null,rtsBaseUrl:null,rtsPrefix:null,rtsSockets:{},init:function(e,t,n){this.rtsAuthData=e;this.rtsBaseUrl=t;this.rtsPrefix=n},subscribe:function(e,t,n){if(!n){n=t;t=undefined}var i=this.rtsSockets[e];if(i){if(n){n(null,i)}n=null}else{i=io(this.rtsBaseUrl+"/"+e,{path:rtsPrefix+"/socket.io"});i.on("connect",function(){var r={authData:this.rtsAuthData};var o;for(o in t){if(t.hasOwnProperty(o)){r[o]=t[o]}}i.emit("auth",r);i.on("authorized",function(t){this.rtsSockets[e]=i;if(n){n(null,i)}n=null}.bind(this));i.on("unauthorized",function(e){if(n){n("unauthorized",i)}n=null}.bind(this))}.bind(this));i.on("connect_failed",function(){if(n){n("connect_failed",i)}n=null}.bind(this));i.on("error",function(){if(n){n("error",i)}n=null}.bind(this))}}};var i=function(i,r,o,a){this.socket=null;this.commandHistory=[];this.commandIndex=-1;this.mentionPat="(&gt;.*|Server<.*?><.*?>] .*|Web Chat].*: .*|To group.*|command:.*)(MENTION_PART)";this.$outputArea=i;this.$textbox=r;this.source=a;this.socket=null;this.numLines=0;this.maxLines=200;this.nextMentionSound=0;this.playMentionSound=true;this.mentionSound=null;this.mentions=[];this.focused=true;this.isAtBottom=function(){return this.$outputArea.get(0).scrollHeight-this.$outputArea.scrollTop()==this.$outputArea.outerHeight()};this.scrollToBottom=function(){this.$outputArea.scrollTop(this.$outputArea.get(0).scrollHeight)};this.scrollToBottomIfAtBottom=function(e){if(this.isAtBottom()){e();this.scrollToBottom()}else{e()}};this.trimTopLines=function(e){n("li:lt("+e+")",this.$outputArea).remove()};this.addOutputLines=function(e){var t=this.isAtBottom();var n="";e.map(function(e){n+="<li>"+this.postProcessLine(e)+"</li>"}.bind(this));this.$outputArea.append(n);if(this.numLines+e.length>this.maxLines){this.trimTopLines(this.numLines+e.length-this.maxLines);this.numLines=this.maxLines}else{this.numLines+=e.length}if(t){this.scrollToBottom()}};this.addOutputLine=function(e){this.addOutputLines([e])};this.postProcessLine=function(e){var t=false;var n;for(n=0;n<this.mentions.length;++n){var i=this.mentions[n];if(this.playMentionSound&&this.mentionSound&&!this.focused&&e.match(i.regex)){t=true}if(i.style){e=e.replace(i.regex,'$1<span style="'+i.style+'">$2</span>')}}var r=(new Date).getTime();if(t&&r>this.nextMentionSound){this.mentionSound.play();this.nextMentionSound=r+500}return e};this.addRegexMention=function(e,t){this.mentions.push({regex:e,style:t})};this.addChatMention=function(e,t){var n=this.mentionPat.replace("MENTION_PART",e);var i=new RegExp(n,"gi");this.addRegexMention(i,t)};this.setMentionSound=function(e){this.mentionSound=e};this.messageEntered=function(){throw"Method should be implemented by inherited objects!"};this.socketInitialized=function(){throw"Method should be implemented by inherited objects!"};this.connect=function(){this.addOutputLine("Connecting...");StandardWeb.realtime.subscribe(this.source,{serverId:o},function(i,r){if(i){this.addOutputLine("ERROR: connection failure!");return}this.socket=r;this.$outputArea.empty();this.numLines=0;this.socketInitialized();r.on("disconnect",function(){this.addOutputLine("ERROR: socket connection lost!")}.bind(this));r.on("mc-connection-lost",function(){this.addOutputLine("Connection to Minecraft server lost, retrying...")}.bind(this));r.on("mc-connection-restored",function(){this.addOutputLine("Connection restored!")}.bind(this));n(t).keypress(function(){var e=n(":focus");if(this.$textbox!=e&&(!e[0]||e[0].type==false)){this.$textbox.focus()}}.bind(this));this.$textbox.keydown(function(e){switch(e.which){case 38:if(this.commandIndex<this.commandHistory.length-1){this.commandIndex++;this.$textbox.val(this.commandHistory[this.commandIndex])}return false;case 40:if(this.commandIndex>-1){this.commandIndex--;this.$textbox.val(this.commandHistory[this.commandIndex])}return false}return true}.bind(this));this.$textbox.keyup(function(e){switch(e.which){case 13:var t=this.$textbox.val();if(t){this.messageEntered(r,t);this.$textbox.val("");this.scrollToBottom();this.commandHistory.unshift(t);this.commandIndex=-1}break}}.bind(this));var o=function(e){r.emit("user-activity",{active:e})};n(e).focus(function(){if(!this.focused){o(true)}this.focused=true}.bind(this));n(e).blur(function(){if(this.focused){o(false)}this.focused=false}.bind(this))}.bind(this))}};var r=function(e,t,r){i.call(this,e,t,r,"console");this.allPlayers={};this.maxLines=4e3;this.addChatMention("server","background:#A0A");this.addRegexMention("-&gt; me");t.keydown(function(){if(t.val().length>=53){t.addClass("len-warn")}else{t.removeClass("len-warn")}});this.socketInitialized=function(){var e;this.socket.on("console",function(e){if(e.line){this.addOutputLine(e.line)}else if(e.batch){this.addOutputLines(e.batch)}}.bind(this));this.socket.on("server-status",function(t){var i=t.players;var r=t.numPlayers;var o=t.maxPlayers;var a=t.load;var s=t.tps;i=i.sort(function(e,t){e=e.nickname?e.nickname:e.username;t=t.nickname?t.nickname:t.username;if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1;return 0});var l="";for(var c=0;c<i.length;++c){var u=i[c].username;this.allPlayers[u]=i[c];var d=i[c].nicknameAnsi;var f=d?d:u;e=['<a href="#">','<div class="player" username="'+u+'">','<img class="face-thumb" src="/face/16/'+u+'.png">','<span class="ansi-container">'+f+"</span>",'<span class="rank">#'+i[c].rank+"</span>","</div>","</a>"].join("");l+=e}n(".players").html(l);n(".player-count").text(r+"/"+o);n(".load").text(a);n(".tps").text(s);if(this.onUpdate&&typeof this.onUpdate==="function"){this.onUpdate()}}.bind(this));this.socket.on("chat-users",function(t){var i=t.users;e="<b>Chat user count: "+i.length+"</b>";var r;for(r=0;r<i.length;++r){var o=i[r].username;var a=i[r].address;var s=i[r].type;var l=i[r].active;if(o=="Server"){e+=['<div class="user">',o+" ["+s+"]","</div>"].join("")}else if(o){e+=['<div class="user">','<a href="/player/'+o+'">','<span><img class="face-thumb" src="/face/16/'+o+'.png">'+o+"</span>",l?'<img src="/static/images/online.png">':" ","</a>- "+a,"</div>"].join("")}else{e+=['<div class="user">',"Anonymous",l?'<img src="/static/images/online.png">':" ","- "+a,"</div>"].join("")}}n(".users").html(e)})}.bind(this);this.messageEntered=function(e,n){var i={};if(n[0]=="/"){i={command:n.substring(1,n.length)}}else{i={message:n}}e.emit("console-input",i);t.removeClass("len-warn")};this.setDonator=function(e){this.socket.emit("set-donator",{username:e})}};var o=function(e,t,r){i.call(this,e,t,r,"chat");if(StandardWeb.username){this.addChatMention(StandardWeb.username,"background:#00ACC4")}if(StandardWeb.nickname){this.addChatMention(StandardWeb.nickname,"background:#00ACC4")}this.renderPlayerTable=function(e,t){var i="<tr>";for(var r=0;r<t;++r){if(e.length<=r){i+="<td>&nbsp;</td>"}else{var o=e[r].username;var a=e[r].nickname;var s=a?a:o;i+=["<td>",'<a href="/player/'+o+'" target="_blank">','<span><img class="face-thumb" src="/face/16/'+o+'.png">'+s+"</span>","</a>","</td>"].join("")}if((r+1)%3==0){i+="</tr><tr>"}}i+="</tr>";n(".players-table").html(i)};this.socketInitialized=function(){this.socket.on("unauthorized",function(){this.addOutputLine("ERROR: you are not authorized!")}.bind(this));this.socket.on("connection-spam",function(){this.addOutputLine("Stop trying to connect so much!");this.addOutputLine("Try again in a few minutes...")}.bind(this));this.socket.on("chat-spam",function(){this.addOutputLine("Stop typing so fast!")}.bind(this));this.socket.on("chat",function(e){if(e.line){this.addOutputLine(e.line)}else if(e.batch){this.addOutputLines(e.batch)}}.bind(this));this.socket.on("server-status",function(e){var t=e.players;var n=e.maxPlayers;t=t.sort(function(e,t){e=e.nickname?e.nickname:e.username;t=t.nickname?t.nickname:t.username;if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1;return 0});this.renderPlayerTable(t,n)}.bind(this))}.bind(this);this.messageEntered=function(e,t){e.emit("chat-input",{message:t})};this.renderPlayerTable([],90)};r.prototype=Object.create(i.prototype);o.prototype=Object.create(i.prototype);StandardWeb.realtime.ConsoleStream=r;StandardWeb.realtime.ChatStream=o}(window,document,$);!function(e,t,n){n(t).ready(function(){var i=e.location.hash?e.location.hash.substring(1):null;n(".dropdown .toggle").on("click",function(){var e=n(this);var t=e.closest(".dropdown");var i=n(".options",t);t.toggleClass("open");i.toggle();return false});n(t).on("mouseup",function(e){var t=n(".dropdown .options");if(t.attr("display")!=="none"){var i=t.closest(".dropdown");if(!t.is(e.target)&&t.has(e.target).length===0){i.removeClass("open");t.hide()}}});n(".extender").on("click",function(){var e="#"+n(this).attr("data-target");n(e).toggle()});n(t).on("click",".nav-pills a",function(){var e=n(this);var t=e.attr("href").substring(1);var i=n(this).closest("li");n(".nav-pills li").each(function(){var e=n(this);if(e[0]==i[0]){e.addClass("active")}else{e.removeClass("active")}});n(".nav-section").each(function(){var e=n(this);if(e.attr("id")===t){e.addClass("active");e.removeClass("hidden")}else{e.addClass("hidden");e.removeClass("active")}});return false});var r=n(".nav-pills li.active").length>0;n(".nav-pills li").each(function(e){var t=n(this);if(!r){if(i){if(i===t.children("a").attr("href").substring(1)){t.addClass("active")}}else if(e==0){t.addClass("active")}}});n(".nav-section").each(function(e){var t=n(this);if(r){if(!t.hasClass("active")){t.addClass("hidden")}}else if(i){if(i!=t.attr("id")){t.addClass("hidden")}}else if(e>0){t.addClass("hidden")}});n(t).on("click",".alert > .close",function(){n(this).closest(".alert").remove()});n(t).on("click","a.confirm",function(){return confirm(n(this).attr("data-confirm-message")||"Are you sure?")});n(".player-list").each(function(){var e=n(this);var t=n(".refresh-button",e);var i=n(".refresh-image",e);var r=n(".player-list-players",e);var o=false;function a(){if(!o){o=true;i.attr("src","/static/images/spinner.gif");r.fadeTo(0,.25).load("player_list",function(){i.attr("src","/static/images/refresh.png");r.fadeTo(100,1);o=false})}}t.on("click",a);a()});n(".clipboard").each(function(){var e=n(this);var t=new ZeroClipboard(e,{moviePath:"/static/flash/ZeroClipboard.swf"});t.on("complete",function(t,n){e.tipsy("hide");e.attr("original-title","Copied!");e.tipsy("show");mixpanel.track("address copied")});t.on("mouseover",function(t){e.attr("original-title","Click to copy to clipboard");e.tipsy("show")});t.on("mouseout",function(t){e.tipsy("hide")})});StandardWeb.realtime.subscribe("messages",function(e,t){if(e){return}t.on("unread-count",function(e){var t=e.count;var i=n("#account");var r=i.find(".messages");var o=i.find(".messages .new-count");if(t&&!r.hasClass("new")){r.addClass("new")}else if(!t&&r.hasClass("new")){r.removeClass("new")}o.html(t)}.bind(this))});StandardWeb.refreshFromnow();n(".placeholder").placeholder();n(".tooltip").tipsy()})}(window,document,$);
//# sourceMappingURL=all.min.map